webpackJsonp([41],{0:function(module,exports,__webpack_require__){"use strict";var _index=__webpack_require__(1);var _index2=_interopRequireDefault(_index);var _register=__webpack_require__(1894);var _register2=_interopRequireDefault(_register);__webpack_require__(1895);__webpack_require__(1896);__webpack_require__(442);__webpack_require__(245);__webpack_require__(1897);__webpack_require__(246);__webpack_require__(150);__webpack_require__(5);__webpack_require__(1898);__webpack_require__(1899);__webpack_require__(1907);__webpack_require__(1912);__webpack_require__(441);__webpack_require__(1915);__webpack_require__(1923);__webpack_require__(1927);var _tinymce=__webpack_require__(1936);var _tinymce2=_interopRequireDefault(_tinymce);var _app=__webpack_require__(1937);var _app2=_interopRequireDefault(_app);var _websiteOptions=__webpack_require__(1938);var _websiteOptions2=_interopRequireDefault(_websiteOptions);var _mainController=__webpack_require__(1939);var _mainController2=_interopRequireDefault(_mainController);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var registerApp=new _register2.default("app",["ui.resizer","ngFileUpload","website.constants","components.utilities","blocks.httpInterceptor","blocks.router","ui.webtree","ui.bootstrap","ui.tinymce","ui.resourcePicker","wxy.pushmenu","ui.flexnav","bs.colorpicker"]);registerApp.config(_app2.default.config).run(_app2.default.run).value("tinyMceConfig",new _tinymce2.default).filter("trustAsHtml",["$sce",function($sce){return function(text){return $sce.trustAsHtml(text)}}]).filter("trustAsResourceUrl",["$sce",function($sce){return function(text){return $sce.trustAsResourceUrl(text)}}]).service("websiteOptions",_websiteOptions2.default).controller("MainController",_mainController2.default);_index2.default.element(document).ready(function(){_index2.default.bootstrap(document.getElementsByTagName("body")[0],["app"])})},276:function(module,exports,__webpack_require__){module.exports={default:__webpack_require__(277),__esModule:true}},277:function(module,exports,__webpack_require__){__webpack_require__(278);var $Object=__webpack_require__(20).Object;module.exports=function getOwnPropertyNames(it){return $Object.getOwnPropertyNames(it)}},278:function(module,exports,__webpack_require__){__webpack_require__(162)("getOwnPropertyNames",function(){return __webpack_require__(81).f})},442:function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(5)},1894:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);var _index=__webpack_require__(1);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _app=new _weakMap2.default;var Register=function(){function Register(appName,deps){(0,_classCallCheck3.default)(this,Register);deps=deps||[];var module=void 0;try{module=_index2.default.module(appName)}catch(error){module=_index2.default.module(appName,deps)}_app.set(this,module)}(0,_createClass3.default)(Register,[{key:"config",value:function config(constructorFn){constructorFn=this._normalizeConstructor(constructorFn);var factoryArray=this._createFactoryArray(constructorFn);_app.get(this).config(factoryArray);return this}},{key:"constant",value:function constant(name,obj){_app.get(this).constant(name,obj);return this}},{key:"controller",value:function controller(name,constructorFn){_app.get(this).controller(name,constructorFn);return this}},{key:"directive",value:function directive(name,constructorFn){constructorFn=this._normalizeConstructor(constructorFn);if(!constructorFn.prototype.compile){constructorFn.prototype.compile=function(){}}var originalCompileFn=this._cloneFunction(constructorFn.prototype.compile);this._override(constructorFn.prototype,"compile",function(){return function(){originalCompileFn.apply(this,arguments);if(constructorFn.prototype.link){return constructorFn.prototype.link.bind(this)}}});var factoryArray=this._createFactoryArray(constructorFn);_app.get(this).directive(name,factoryArray);return this}},{key:"factory",value:function factory(name,constructorFn){constructorFn=this._normalizeConstructor(constructorFn);var factoryArray=this._createFactoryArray(constructorFn);_app.get(this).factory(name,factoryArray);return this}},{key:"filter",value:function filter(name,constructorFn){constructorFn=this._normalizeConstructor(constructorFn);var factoryArray=this._createFactoryArray(constructorFn);_app.get(this).filter(name,factoryArray);return this}},{key:"provider",value:function provider(name,constructorFn){_app.get(this).provider(name,constructorFn);return this}},{key:"run",value:function run(constructorFn){constructorFn=this._normalizeConstructor(constructorFn);var factoryArray=this._createFactoryArray(constructorFn);_app.get(this).run(factoryArray);return this}},{key:"service",value:function service(name,constructorFn){_app.get(this).service(name,constructorFn);return this}},{key:"value",value:function value(name,object){_app.get(this).value(name,object);return this}},{key:"_normalizeConstructor",value:function _normalizeConstructor(input){var constructorFn=void 0;if(input.constructor==Array){var injected=input.slice(0,input.length-1);constructorFn=input[input.length-1];constructorFn.$inject=injected}else{constructorFn=input}return constructorFn}},{key:"_createFactoryArray",value:function _createFactoryArray(constructorFn){var args=constructorFn.$inject||[];var factoryArray=args.slice();factoryArray.push(function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var instance=new(Function.prototype.bind.apply(constructorFn,[null].concat(args)));for(var key in instance){instance[key]=instance[key]}return instance});return factoryArray}},{key:"_cloneFunction",value:function _cloneFunction(original){return function(){return original.apply(this,arguments)}}},{key:"_override",value:function _override(object,method,callback){object[method]=callback(object[method])}}]);return Register}();exports.default=Register},1895:function(module,exports,__webpack_require__){(function(factory){"use strict";if(true){module.exports=factory(window.jQuery)}else if(typeof define==="function"&&define.amd){define(["jquery"],factory)}else if(window.jQuery&&!window.jQuery.fn.colorpicker){factory(window.jQuery)}})(function($){"use strict";var Color=function(val,customColors){this.value={h:0,s:0,b:0,a:1};this.origFormat=null;if(customColors){$.extend(this.colors,customColors)}if(val){if(val.toLowerCase!==undefined){val=val+"";this.setColor(val)}else if(val.h!==undefined){this.value=val}}};Color.prototype={constructor:Color,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"transparent"},_sanitizeNumber:function(val){if(typeof val==="number"){return val}if(isNaN(val)||val===null||val===""||val===undefined){return 1}if(val.toLowerCase!==undefined){return parseFloat(val)}return 1},isTransparent:function(strVal){if(!strVal){return false}strVal=strVal.toLowerCase().trim();return strVal==="transparent"||strVal.match(/#?00000000/)||strVal.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/)},rgbaIsTransparent:function(rgba){return rgba.r===0&&rgba.g===0&&rgba.b===0&&rgba.a===0},setColor:function(strVal){strVal=strVal.toLowerCase().trim();if(strVal){if(this.isTransparent(strVal)){this.value={h:0,s:0,b:0,a:0}}else{this.value=this.stringToHSB(strVal)||{h:0,s:0,b:0,a:1}}}},stringToHSB:function(strVal){strVal=strVal.toLowerCase();var alias;if(typeof this.colors[strVal]!=="undefined"){strVal=this.colors[strVal];alias="alias"}var that=this,result=false;$.each(this.stringParsers,function(i,parser){var match=parser.re.exec(strVal),values=match&&parser.parse.apply(that,[match]),format=alias||parser.format||"rgba";if(values){if(format.match(/hsla?/)){result=that.RGBtoHSB.apply(that,that.HSLtoRGB.apply(that,values))}else{result=that.RGBtoHSB.apply(that,values)}that.origFormat=format;return false}return true});return result},setHue:function(h){this.value.h=1-h},setSaturation:function(s){this.value.s=s},setBrightness:function(b){this.value.b=1-b},setAlpha:function(a){this.value.a=parseInt((1-a)*100,10)/100},toRGB:function(h,s,b,a){if(!h){h=this.value.h;s=this.value.s;b=this.value.b}h*=360;var R,G,B,X,C;h=h%360/60;C=b*s;X=C*(1-Math.abs(h%2-1));R=G=B=b-C;h=~~h;R+=[C,X,0,0,X,C][h];G+=[X,C,C,X,0,0][h];B+=[0,0,X,C,C,X][h];return{r:Math.round(R*255),g:Math.round(G*255),b:Math.round(B*255),a:a||this.value.a}},toHex:function(h,s,b,a){var rgb=this.toRGB(h,s,b,a);if(this.rgbaIsTransparent(rgb)){return"transparent"}return"#"+(1<<24|parseInt(rgb.r)<<16|parseInt(rgb.g)<<8|parseInt(rgb.b)).toString(16).substr(1)},toHSL:function(h,s,b,a){h=h||this.value.h;s=s||this.value.s;b=b||this.value.b;a=a||this.value.a;var H=h,L=(2-s)*b,S=s*b;if(L>0&&L<=1){S/=L}else{S/=2-L}L/=2;if(S>1){S=1}return{h:isNaN(H)?0:H,s:isNaN(S)?0:S,l:isNaN(L)?0:L,a:isNaN(a)?0:a}},toAlias:function(r,g,b,a){var rgb=this.toHex(r,g,b,a);for(var alias in this.colors){if(this.colors[alias]===rgb){return alias}}return false},RGBtoHSB:function(r,g,b,a){r/=255;g/=255;b/=255;var H,S,V,C;V=Math.max(r,g,b);C=V-Math.min(r,g,b);H=C===0?null:V===r?(g-b)/C:V===g?(b-r)/C+2:(r-g)/C+4;H=(H+360)%6*60/360;S=C===0?0:C/V;return{h:this._sanitizeNumber(H),s:S,b:V,a:this._sanitizeNumber(a)}},HueToRGB:function(p,q,h){if(h<0){h+=1}else if(h>1){h-=1}if(h*6<1){return p+(q-p)*h*6}else if(h*2<1){return q}else if(h*3<2){return p+(q-p)*(2/3-h)*6}else{return p}},HSLtoRGB:function(h,s,l,a){if(s<0){s=0}var q;if(l<=.5){q=l*(1+s)}else{q=l+s-l*s}var p=2*l-q;var tr=h+1/3;var tg=h;var tb=h-1/3;var r=Math.round(this.HueToRGB(p,q,tr)*255);var g=Math.round(this.HueToRGB(p,q,tg)*255);var b=Math.round(this.HueToRGB(p,q,tb)*255);return[r,g,b,this._sanitizeNumber(a)]},toString:function(format){format=format||"rgba";var c=false;switch(format){case"rgb":{c=this.toRGB();if(this.rgbaIsTransparent(c)){return"transparent"}return"rgb("+c.r+","+c.g+","+c.b+")"}break;case"rgba":{c=this.toRGB();return"rgba("+c.r+","+c.g+","+c.b+","+c.a+")"}break;case"hsl":{c=this.toHSL();return"hsl("+Math.round(c.h*360)+","+Math.round(c.s*100)+"%,"+Math.round(c.l*100)+"%)"}break;case"hsla":{c=this.toHSL();return"hsla("+Math.round(c.h*360)+","+Math.round(c.s*100)+"%,"+Math.round(c.l*100)+"%,"+c.a+")"}break;case"hex":{return this.toHex()}break;case"alias":return this.toAlias()||this.toHex();default:{return c}break}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(execResult){return[execResult[1],execResult[2],execResult[3],1]}},{re:/rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(execResult){return[2.55*execResult[1],2.55*execResult[2],2.55*execResult[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]]}},{re:/rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(execResult){return[2.55*execResult[1],2.55*execResult[2],2.55*execResult[3],execResult[4]]}},{re:/hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(execResult){return[execResult[1]/360,execResult[2]/100,execResult[3]/100,execResult[4]]}},{re:/hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(execResult){return[execResult[1]/360,execResult[2]/100,execResult[3]/100,execResult[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16),1]}},{re:/#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16),1]}}],colorNameToHex:function(name){if(typeof this.colors[name.toLowerCase()]!=="undefined"){return this.colors[name.toLowerCase()]}return false}};var defaults={horizontal:false,inline:false,color:false,format:false,input:"input",container:false,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:false,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:false,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:false},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:false}},template:'<div class="colorpicker dropdown-menu">'+'<div class="colorpicker-saturation"><i><b></b></i></div>'+'<div class="colorpicker-hue"><i></i></div>'+'<div class="colorpicker-alpha"><i></i></div>'+'<div class="colorpicker-color"><div /></div>'+'<div class="colorpicker-selectors"></div>'+"</div>",align:"right",customClass:null,colorSelectors:null};var Colorpicker=function(element,options){this.element=$(element).addClass("colorpicker-element");this.options=$.extend(true,{},defaults,this.element.data(),options);this.component=this.options.component;this.component=this.component!==false?this.element.find(this.component):false;if(this.component&&this.component.length===0){this.component=false}this.container=this.options.container===true?this.element:this.options.container;this.container=this.container!==false?$(this.container):false;this.input=this.element.is("input")?this.element:this.options.input?this.element.find(this.options.input):false;if(this.input&&this.input.length===0){this.input=false}this.color=new Color(this.options.color!==false?this.options.color:this.getValue(),this.options.colorSelectors);this.format=this.options.format!==false?this.options.format:this.color.origFormat;this.picker=$(this.options.template);if(this.options.customClass){this.picker.addClass(this.options.customClass)}if(this.options.inline){this.picker.addClass("colorpicker-inline colorpicker-visible")}else{this.picker.addClass("colorpicker-hidden")}if(this.options.horizontal){this.picker.addClass("colorpicker-horizontal")}if(this.format==="rgba"||this.format==="hsla"||this.options.format===false){this.picker.addClass("colorpicker-with-alpha")}if(this.options.align==="right"){this.picker.addClass("colorpicker-right")}if(this.options.colorSelectors){var colorpicker=this;$.each(this.options.colorSelectors,function(name,color){var $btn=$("<i />").css("background-color",color).data("class",name);$btn.click(function(){colorpicker.setValue($(this).css("background-color"))});colorpicker.picker.find(".colorpicker-selectors").append($btn)});this.picker.find(".colorpicker-selectors").show()}this.picker.on("mousedown.colorpicker touchstart.colorpicker",$.proxy(this.mousedown,this));this.picker.appendTo(this.container?this.container:$("body"));if(this.input!==false){this.input.on({"keyup.colorpicker":$.proxy(this.keyup,this)});this.input.on({"change.colorpicker":$.proxy(this.change,this)});if(this.component===false){this.element.on({"focus.colorpicker":$.proxy(this.show,this)})}if(this.options.inline===false){this.element.on({"focusout.colorpicker":$.proxy(this.hide,this)})}}if(this.component!==false){this.component.on({"click.colorpicker":$.proxy(this.show,this)})}if(this.input===false&&this.component===false){this.element.on({"click.colorpicker":$.proxy(this.show,this)})}if(this.input!==false&&this.component!==false&&this.input.attr("type")==="color"){this.input.on({"click.colorpicker":$.proxy(this.show,this),"focus.colorpicker":$.proxy(this.show,this)})}this.update();$($.proxy(function(){this.element.trigger("create")},this))};Colorpicker.Color=Color;Colorpicker.prototype={constructor:Colorpicker,destroy:function(){this.picker.remove();this.element.removeData("colorpicker").off(".colorpicker");if(this.input!==false){this.input.off(".colorpicker")}if(this.component!==false){this.component.off(".colorpicker")}this.element.removeClass("colorpicker-element");this.element.trigger({type:"destroy"})},reposition:function(){if(this.options.inline!==false||this.options.container){return false}var type=this.container&&this.container[0]!==document.body?"position":"offset";var element=this.component||this.element;var offset=element[type]();if(this.options.align==="right"){offset.left-=this.picker.outerWidth()-element.outerWidth()}this.picker.css({top:offset.top+element.outerHeight(),left:offset.left})},show:function(e){if(this.isDisabled()){return false}this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden");this.reposition();$(window).on("resize.colorpicker",$.proxy(this.reposition,this));if(e&&(!this.hasInput()||this.input.attr("type")==="color")){if(e.stopPropagation&&e.preventDefault){e.stopPropagation();e.preventDefault()}}if(this.options.inline===false){$(window.document).on({"mousedown.colorpicker":$.proxy(this.hide,this)})}this.element.trigger({type:"showPicker",color:this.color})},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible");$(window).off("resize.colorpicker",this.reposition);$(document).off({"mousedown.colorpicker":this.hide});this.update();this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(val){val=val||this.color.toString(this.format);this.element.data("color",val);return val},updateInput:function(val){val=val||this.color.toString(this.format);if(this.input!==false){if(this.options.colorSelectors){var color=new Color(val,this.options.colorSelectors);var alias=color.toAlias();if(typeof this.options.colorSelectors[alias]!=="undefined"){val=alias}}this.input.prop("value",val)}return val},updatePicker:function(val){if(val!==undefined){this.color=new Color(val,this.options.colorSelectors)}var sl=this.options.horizontal===false?this.options.sliders:this.options.slidersHorz;var icns=this.picker.find("i");if(icns.length===0){return}if(this.options.horizontal===false){sl=this.options.sliders;icns.eq(1).css("top",sl.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",sl.alpha.maxTop*(1-this.color.value.a))}else{sl=this.options.slidersHorz;icns.eq(1).css("left",sl.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",sl.alpha.maxLeft*(1-this.color.value.a))}icns.eq(0).css({top:sl.saturation.maxTop-this.color.value.b*sl.saturation.maxTop,left:this.color.value.s*sl.saturation.maxLeft});this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1));this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex());this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format));return val},updateComponent:function(val){val=val||this.color.toString(this.format);if(this.component!==false){var icn=this.component.find("i").eq(0);if(icn.length>0){icn.css({backgroundColor:val})}else{this.component.css({backgroundColor:val})}}return val},update:function(force){var val;if(this.getValue(false)!==false||force===true){val=this.updateComponent();this.updateInput(val);this.updateData(val);this.updatePicker()}return val},setValue:function(val){this.color=new Color(val,this.options.colorSelectors);this.update(true);this.element.trigger({type:"changeColor",color:this.color,value:val})},getValue:function(defaultValue){defaultValue=defaultValue===undefined?"#000000":defaultValue;var val;if(this.hasInput()){val=this.input.val()}else{val=this.element.data("color")}if(val===undefined||val===""||val===null){val=defaultValue}return val},hasInput:function(){return this.input!==false},isDisabled:function(){if(this.hasInput()){return this.input.prop("disabled")===true}return false},disable:function(){if(this.hasInput()){this.input.prop("disabled",true);this.element.trigger({type:"disable",color:this.color,value:this.getValue()});return true}return false},enable:function(){if(this.hasInput()){this.input.prop("disabled",false);this.element.trigger({type:"enable",color:this.color,value:this.getValue()});return true}return false},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(e){if(!e.pageX&&!e.pageY&&e.originalEvent){e.pageX=e.originalEvent.touches[0].pageX;e.pageY=e.originalEvent.touches[0].pageY}e.stopPropagation();e.preventDefault();var target=$(e.target);var zone=target.closest("div");var sl=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!zone.is(".colorpicker")){if(zone.is(".colorpicker-saturation")){this.currentSlider=$.extend({},sl.saturation)}else if(zone.is(".colorpicker-hue")){this.currentSlider=$.extend({},sl.hue)}else if(zone.is(".colorpicker-alpha")){this.currentSlider=$.extend({},sl.alpha)}else{return false}var offset=zone.offset();this.currentSlider.guide=zone.find("i")[0].style;this.currentSlider.left=e.pageX-offset.left;this.currentSlider.top=e.pageY-offset.top;this.mousePointer={left:e.pageX,top:e.pageY};$(document).on({"mousemove.colorpicker":$.proxy(this.mousemove,this),"touchmove.colorpicker":$.proxy(this.mousemove,this),"mouseup.colorpicker":$.proxy(this.mouseup,this),"touchend.colorpicker":$.proxy(this.mouseup,this)}).trigger("mousemove")}return false},mousemove:function(e){if(!e.pageX&&!e.pageY&&e.originalEvent){e.pageX=e.originalEvent.touches[0].pageX;e.pageY=e.originalEvent.touches[0].pageY}e.stopPropagation();e.preventDefault();var left=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left)));var top=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)));this.currentSlider.guide.left=left+"px";this.currentSlider.guide.top=top+"px";if(this.currentSlider.callLeft){this.color[this.currentSlider.callLeft].call(this.color,left/this.currentSlider.maxLeft)}if(this.currentSlider.callTop){this.color[this.currentSlider.callTop].call(this.color,top/this.currentSlider.maxTop)}if(this.currentSlider.callTop==="setAlpha"&&this.options.format===false){if(this.color.value.a!==1){this.format="rgba";this.color.origFormat="rgba"}else{this.format="hex";this.color.origFormat="hex"}}this.update(true);this.element.trigger({type:"changeColor",color:this.color});return false},mouseup:function(e){e.stopPropagation();e.preventDefault();$(document).off({"mousemove.colorpicker":this.mousemove,"touchmove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup,"touchend.colorpicker":this.mouseup});return false},change:function(e){this.keyup(e)},keyup:function(e){if(e.keyCode===38){if(this.color.value.a<1){this.color.value.a=Math.round((this.color.value.a+.01)*100)/100}this.update(true)}else if(e.keyCode===40){if(this.color.value.a>0){this.color.value.a=Math.round((this.color.value.a-.01)*100)/100}this.update(true)}else{this.color=new Color(this.input.val(),this.options.colorSelectors);if(this.color.origFormat&&this.options.format===false){this.format=this.color.origFormat}if(this.getValue(false)!==false){this.updateData();this.updateComponent();this.updatePicker()}}this.element.trigger({type:"changeColor",color:this.color,value:this.input.val()})}};$.colorpicker=Colorpicker;$.fn.colorpicker=function(option){var pickerArgs=arguments,rv;var $returnValue=this.each(function(){var $this=$(this),inst=$this.data("colorpicker"),options=typeof option==="object"?option:{};if(!inst&&typeof option!=="string"){$this.data("colorpicker",new Colorpicker(this,options))}else{if(typeof option==="string"){rv=inst[option].apply(inst,Array.prototype.slice.call(pickerArgs,1))}}});if(option==="getValue"){return rv}return $returnValue};$.fn.colorpicker.constructor=Colorpicker})},1896:function(module,exports){(function(){function patchXHR(fnName,newFn){window.XMLHttpRequest.prototype[fnName]=newFn(window.XMLHttpRequest.prototype[fnName])}function redefineProp(xhr,prop,fn){try{Object.defineProperty(xhr,prop,{get:fn})}catch(e){}}if(!window.FileAPI){window.FileAPI={}}if(!window.XMLHttpRequest){throw"AJAX is not supported. XMLHttpRequest is not defined."}FileAPI.shouldLoad=!window.FormData||FileAPI.forceLoad;if(FileAPI.shouldLoad){var initializeUploadListener=function(xhr){if(!xhr.__listeners){if(!xhr.upload)xhr.upload={};xhr.__listeners=[];var origAddEventListener=xhr.upload.addEventListener;xhr.upload.addEventListener=function(t,fn){xhr.__listeners[t]=fn;if(origAddEventListener)origAddEventListener.apply(this,arguments)}}};patchXHR("open",function(orig){return function(m,url,b){initializeUploadListener(this);this.__url=url;try{orig.apply(this,[m,url,b])}catch(e){if(e.message.indexOf("Access is denied")>-1){this.__origError=e;orig.apply(this,[m,"_fix_for_ie_crossdomain__",b])}}}});patchXHR("getResponseHeader",function(orig){return function(h){return this.__fileApiXHR&&this.__fileApiXHR.getResponseHeader?this.__fileApiXHR.getResponseHeader(h):orig==null?null:orig.apply(this,[h])}});patchXHR("getAllResponseHeaders",function(orig){return function(){return this.__fileApiXHR&&this.__fileApiXHR.getAllResponseHeaders?this.__fileApiXHR.getAllResponseHeaders():orig==null?null:orig.apply(this)}});patchXHR("abort",function(orig){return function(){return this.__fileApiXHR&&this.__fileApiXHR.abort?this.__fileApiXHR.abort():orig==null?null:orig.apply(this)}});patchXHR("setRequestHeader",function(orig){return function(header,value){if(header==="__setXHR_"){initializeUploadListener(this);var val=value(this);if(val instanceof Function){val(this)}}else{this.__requestHeaders=this.__requestHeaders||{};this.__requestHeaders[header]=value;orig.apply(this,arguments)}}});patchXHR("send",function(orig){return function(){var xhr=this;if(arguments[0]&&arguments[0].__isFileAPIShim){var formData=arguments[0];var config={url:xhr.__url,jsonp:false,cache:true,complete:function(err,fileApiXHR){if(err&&angular.isString(err)&&err.indexOf("#2174")!==-1){err=null}xhr.__completed=true;if(!err&&xhr.__listeners.load)xhr.__listeners.load({type:"load",loaded:xhr.__loaded,total:xhr.__total,target:xhr,lengthComputable:true});if(!err&&xhr.__listeners.loadend)xhr.__listeners.loadend({type:"loadend",loaded:xhr.__loaded,total:xhr.__total,target:xhr,lengthComputable:true});if(err==="abort"&&xhr.__listeners.abort)xhr.__listeners.abort({type:"abort",loaded:xhr.__loaded,total:xhr.__total,target:xhr,lengthComputable:true});if(fileApiXHR.status!==undefined)redefineProp(xhr,"status",function(){return fileApiXHR.status===0&&err&&err!=="abort"?500:fileApiXHR.status});if(fileApiXHR.statusText!==undefined)redefineProp(xhr,"statusText",function(){return fileApiXHR.statusText});redefineProp(xhr,"readyState",function(){return 4});if(fileApiXHR.response!==undefined)redefineProp(xhr,"response",function(){return fileApiXHR.response});var resp=fileApiXHR.responseText||(err&&fileApiXHR.status===0&&err!=="abort"?err:undefined);redefineProp(xhr,"responseText",function(){return resp});redefineProp(xhr,"response",function(){return resp});if(err)redefineProp(xhr,"err",function(){return err});xhr.__fileApiXHR=fileApiXHR;if(xhr.onreadystatechange)xhr.onreadystatechange();if(xhr.onload)xhr.onload()},progress:function(e){e.target=xhr;if(xhr.__listeners.progress)xhr.__listeners.progress(e);xhr.__total=e.total;xhr.__loaded=e.loaded;if(e.total===e.loaded){var _this=this;setTimeout(function(){if(!xhr.__completed){xhr.getAllResponseHeaders=function(){};_this.complete(null,{status:204,statusText:"No Content"})}},FileAPI.noContentTimeout||1e4)}},headers:xhr.__requestHeaders};config.data={};config.files={};for(var i=0;i<formData.data.length;i++){var item=formData.data[i];if(item.val!=null&&item.val.name!=null&&item.val.size!=null&&item.val.type!=null){config.files[item.key]=item.val}else{config.data[item.key]=item.val}}setTimeout(function(){if(!FileAPI.hasFlash){throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"'}xhr.__fileApiXHR=FileAPI.upload(config)},1)}else{if(this.__origError){throw this.__origError}orig.apply(xhr,arguments)}}});window.XMLHttpRequest.__isFileAPIShim=true;window.FormData=FormData=function(){return{append:function(key,val,name){if(val.__isFileAPIBlobShim){val=val.data[0]}this.data.push({key:key,val:val,name:name})},data:[],__isFileAPIShim:true}};window.Blob=Blob=function(b){return{data:b,__isFileAPIBlobShim:true}}}})();(function(){function isInputTypeFile(elem){return elem[0].tagName.toLowerCase()==="input"&&elem.attr("type")&&elem.attr("type").toLowerCase()==="file"}function hasFlash(){try{var fo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(fo)return true}catch(e){if(navigator.mimeTypes["application/x-shockwave-flash"]!==undefined)return true}return false}function getOffset(obj){var left=0,top=0;if(window.jQuery){return jQuery(obj).offset()}if(obj.offsetParent){do{left+=obj.offsetLeft-obj.scrollLeft;top+=obj.offsetTop-obj.scrollTop;obj=obj.offsetParent}while(obj)}return{left:left,
top:top}}if(FileAPI.shouldLoad){FileAPI.hasFlash=hasFlash();if(FileAPI.forceLoad){FileAPI.html5=false}if(!FileAPI.upload){var jsUrl,basePath,script=document.createElement("script"),allScripts=document.getElementsByTagName("script"),i,index,src;if(window.FileAPI.jsUrl){jsUrl=window.FileAPI.jsUrl}else if(window.FileAPI.jsPath){basePath=window.FileAPI.jsPath}else{for(i=0;i<allScripts.length;i++){src=allScripts[i].src;index=src.search(/\/ng\-file\-upload[\-a-zA-z0-9\.]*\.js/);if(index>-1){basePath=src.substring(0,index+1);break}}}if(FileAPI.staticPath==null)FileAPI.staticPath=basePath;script.setAttribute("src",jsUrl||basePath+"FileAPI.min.js");document.getElementsByTagName("head")[0].appendChild(script)}FileAPI.ngfFixIE=function(elem,fileElem,changeFn){if(!hasFlash()){throw'Adode Flash Player need to be installed. To check ahead use "FileAPI.hasFlash"'}var fixInputStyle=function(){var label=fileElem.parent();if(elem.attr("disabled")){if(label)label.removeClass("js-fileapi-wrapper")}else{if(!fileElem.attr("__ngf_flash_")){fileElem.unbind("change");fileElem.unbind("click");fileElem.bind("change",function(evt){fileApiChangeFn.apply(this,[evt]);changeFn.apply(this,[evt])});fileElem.attr("__ngf_flash_","true")}label.addClass("js-fileapi-wrapper");if(!isInputTypeFile(elem)){label.css("position","absolute").css("top",getOffset(elem[0]).top+"px").css("left",getOffset(elem[0]).left+"px").css("width",elem[0].offsetWidth+"px").css("height",elem[0].offsetHeight+"px").css("filter","alpha(opacity=0)").css("display",elem.css("display")).css("overflow","hidden").css("z-index","900000").css("visibility","visible");fileElem.css("width",elem[0].offsetWidth+"px").css("height",elem[0].offsetHeight+"px").css("position","absolute").css("top","0px").css("left","0px")}}};elem.bind("mouseenter",fixInputStyle);var fileApiChangeFn=function(evt){var files=FileAPI.getFiles(evt);for(var i=0;i<files.length;i++){if(files[i].size===undefined)files[i].size=0;if(files[i].name===undefined)files[i].name="file";if(files[i].type===undefined)files[i].type="undefined"}if(!evt.target){evt.target={}}evt.target.files=files;if(evt.target.files!==files){evt.__files_=files}(evt.__files_||evt.target.files).item=function(i){return(evt.__files_||evt.target.files)[i]||null}}};FileAPI.disableFileInput=function(elem,disable){if(disable){elem.removeClass("js-fileapi-wrapper")}else{elem.addClass("js-fileapi-wrapper")}}}})();if(!window.FileReader){window.FileReader=function(){var _this=this,loadStarted=false;this.listeners={};this.addEventListener=function(type,fn){_this.listeners[type]=_this.listeners[type]||[];_this.listeners[type].push(fn)};this.removeEventListener=function(type,fn){if(_this.listeners[type])_this.listeners[type].splice(_this.listeners[type].indexOf(fn),1)};this.dispatchEvent=function(evt){var list=_this.listeners[evt.type];if(list){for(var i=0;i<list.length;i++){list[i].call(_this,evt)}}};this.onabort=this.onerror=this.onload=this.onloadstart=this.onloadend=this.onprogress=null;var constructEvent=function(type,evt){var e={type:type,target:_this,loaded:evt.loaded,total:evt.total,error:evt.error};if(evt.result!=null)e.target.result=evt.result;return e};var listener=function(evt){if(!loadStarted){loadStarted=true;if(_this.onloadstart)_this.onloadstart(constructEvent("loadstart",evt))}var e;if(evt.type==="load"){if(_this.onloadend)_this.onloadend(constructEvent("loadend",evt));e=constructEvent("load",evt);if(_this.onload)_this.onload(e);_this.dispatchEvent(e)}else if(evt.type==="progress"){e=constructEvent("progress",evt);if(_this.onprogress)_this.onprogress(e);_this.dispatchEvent(e)}else{e=constructEvent("error",evt);if(_this.onerror)_this.onerror(e);_this.dispatchEvent(e)}};this.readAsDataURL=function(file){FileAPI.readAsDataURL(file,listener)};this.readAsText=function(file){FileAPI.readAsText(file,listener)}}}},1897:function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(10)},1898:function(module,exports){"use strict";(function(){var module;module=angular.module("wxy.pushmenu",["ngAnimate"]);module.run(["$templateCache",function($templateCache){$templateCache.put("pushmenu/main_menu.tpl",'<div id="menu">'+'<nav ng-class="[options.wrapperClass, options.direction]" ng-style="{width: width + \'px\'}">'+'<wxy-submenu menu="menu" level="level" visible="visible" menu-style="menuStyle" menu-width="menuWidth"></wxy-submenu>'+"</nav>"+"</div>")}]);module.run(["$templateCache",function($templateCache){$templateCache.put("pushmenu/sub_menu.tpl",'<div id="{{menu.id}}" ng-show="visible" ng-style="{width: width + \'px\', \'background-color\': menuStyle.menuBgColor}" ng-class="{visible: visible, multilevelpushmenu_inactive: inactive && !collapsed}" class="levelHolderClass">'+'<h2 title="{{menu.title}}">'+'<i class="floatRight cursorPointer fa fa-bars" ng-click="openMenu($event, menu)"></i>'+'<a ng-click="goBack($event, menu)">'+'<i ng-if="level != 0 && !inactive" ng-class="options.backItemIcon"></i>'+" {{menu.title}}"+"</a>"+"</h2>"+'<ul ng-class="{invisible: inactive}">'+'<li ng-repeat="item in menu.children" ng-mouseleave="menuLeave(item)" ng-mouseover="menuOver(item)" ng-style="getStyle(item)">'+'<i ng-if="item.children && item.children.length>0" ng-click="onSubmenuClicked(item, $event)" class="floatLeft iconSpacing" ng-class="options.groupIcon"></i>'+'<a ng-href="{{options.buildHref(item)}}" target="{{!item.target?\'\':\'_blank\'}}" title="{{item.title}}" ng-click="options.onItemClick($event, item)">'+'<i ng-if="item.icon" class="floatRight" ng-class="item.icon"></i>'+"<span>{{item.title}}</span>"+"</a>"+'<div ng-if="item.children && item.children.length>0">'+'<wxy-submenu menu="item" level="childrenLevel" visible="item.displayed" menu-style="menuStyle" menu-width="menuWidth"></wxy-submenu>'+"</div>"+"</li>"+"</ul>"+"</div>")}]);module.directive("wxyPushMenu",["wxyOptions","wxyUtils",function(wxyOptions,wxyUtils){return{scope:{menu:"=",options:"=",menuWidth:"=",menuStyle:"="},controller:function controller($scope,$element,$attrs){var options,width;$scope.options=options=angular.extend(wxyOptions,$scope.options);$scope.level=0;$scope.visible=true;width=options.menuWidth||265;$scope.menuWidth=width;width=$scope.width=width+options.overlapWidth*wxyUtils.DepthOf($scope.menu);this.GetBaseWidth=function(){return width};this.GetOptions=function(){return options};$scope.$watch("menuWidth",function(value){width=parseInt(value);$scope.menuWidth=width;$scope.width=width+options.overlapWidth*wxyUtils.DepthOf($scope.menu);wxyUtils.FixLeftContainers(options.containersToPush,width)})},templateUrl:"pushmenu/main_menu.tpl",restrict:"E",replace:true}}]);module.directive("wxySubmenu",["$animate","$compile","wxyUtils",function($animate,$compile,wxyUtils){return{scope:{menu:"=",level:"=",visible:"=",menuWidth:"=",menuStyle:"="},compile:function compile(tElement,tAttr,transclude){var compiledContents,contents;contents=tElement.contents().remove();compiledContents=null;return{pre:function preLink(scope,iElement,iAttr,ctrl){if(!compiledContents){compiledContents=$compile(contents)}compiledContents(scope,function(clone,scope){return iElement.append(clone)})},post:function postLink(scope,element,attr,ctrl){var collapse,marginCollapsed,onOpen,options,_this=this;scope.options=options=ctrl.GetOptions();scope.correctionWidth=0;scope.childrenLevel=scope.level+1;onOpen=function onOpen(){if(!scope.collapsed){scope.inactive=false}scope.$emit("submenuOpened",scope.level)};if(scope.level===0){scope.collasped=false;marginCollapsed=options.rootOverlapWidth-ctrl.GetBaseWidth();if(options.collapsed){scope.collapsed=true;scope.inactive=true;element.css({marginLeft:marginCollapsed+"px"})}collapse=function collapse(){scope.collapsed=!scope.collapsed;scope.inactive=scope.collapsed;marginCollapsed=options.rootOverlapWidth-ctrl.GetBaseWidth();element.data("from",scope.collapsed?0:marginCollapsed);element.data("to",scope.collapsed?marginCollapsed:0);if(scope.collapsed){options.onCollapseMenuStart()}else{options.onExpandMenuStart()}$animate.addClass(element,"slide").then(function(){element.removeClass("slide");if(parseInt(element.css("marginLeft"))!=element.data("to")){element.animate({marginLeft:element.data("to")+"px"})}scope.$apply(function(){if(scope.collapsed){return options.onCollapseMenuEnd()}else{return options.onExpandMenuEnd()}})});wxyUtils.PushContainers(options.containersToPush,scope.collapsed?marginCollapsed+ctrl.GetBaseWidth():ctrl.GetBaseWidth())}}scope.openMenu=function(event){wxyUtils.StopEventPropagation(event);scope.$broadcast("menuOpened",scope.level);options.onTitleItemClick(event,menu);if(scope.level===0&&!scope.inactive||scope.collapsed){collapse()}else{scope.inactive=!scope.inactive;scope.$emit("toggleMenu")}};scope.onSubmenuClicked=function(item,$event){if(item.children&&item.children.length>0){item.displayed=true;scope.inactive=true}};scope.goBack=function(event,menu){if(scope.level!=0){options.onBackItemClick(event,menu);scope.visible=false;return scope.$emit("submenuClosed",scope.level)}};scope.$watch("visible",function(visible){if(visible){if(scope.level>0){options.onExpandMenuStart();var fromAnimation=0;var toAnimation=0;if(options.direction=="ltr"){fromAnimation=-ctrl.GetBaseWidth()}else if(options.direction=="rtl"){fromAnimation=ctrl.GetBaseWidth()}element.data("from",fromAnimation);element.data("to",toAnimation);$animate.addClass(element,"slide").then(function(){element.removeClass("slide");scope.$apply(function(){options.onExpandMenuEnd()})})}onOpen()}});scope.$watch("menuWidth",function(value){scope.width=ctrl.GetBaseWidth()+scope.correctionWidth});scope.$on("submenuOpened",function(event,level){var correction;correction=level-scope.level;scope.correctionWidth=options.overlapWidth*correction;scope.width=ctrl.GetBaseWidth()+scope.correctionWidth;if(scope.level===0){wxyUtils.PushContainers(options.containersToPush,scope.width)}});scope.$on("submenuClosed",function(event,level){if(level-scope.level===1){onOpen();wxyUtils.StopEventPropagation(event)}});scope.$on("menuOpened",function(event,level){if(scope.level-level>0){scope.visible=false}});scope.$on("toggleMenu",function(event){if(scope.level===0){wxyUtils.StopEventPropagation(event);collapse()}});scope.getStyle=function(item){return wxyUtils.getStyle(scope.menuStyle,item,item.hovered)};scope.menuOver=function(item){item.hovered=true};scope.menuLeave=function(item){item.hovered=false}}}},templateUrl:"pushmenu/sub_menu.tpl",require:"^wxyPushMenu",restrict:"EA",replace:true}}]);module.factory("wxyUtils",function(){var _DepthOf,PushContainers,StopEventPropagation,FixLeftContainers,getStyle;StopEventPropagation=function StopEventPropagation(e){if(e.stopPropagation&&e.preventDefault){e.stopPropagation();e.preventDefault()}else{e.cancelBubble=true;e.returnValue=false}};_DepthOf=function DepthOf(menu){var depth,item,maxDepth,_i,_len,_ref;maxDepth=0;if(menu.children){_ref=menu.children;for(_i=0,_len=_ref.length;_i<_len;_i++){item=_ref[_i];if(item.children&&item.children.length>0){depth=_DepthOf(item)+1}if(depth>maxDepth){maxDepth=depth}}}return maxDepth};PushContainers=function PushContainers(containersToPush,absoluteDistance){if(!containersToPush){return}return $.each(containersToPush,function(){return $(this).stop().animate({marginLeft:absoluteDistance})})};FixLeftContainers=function FixLeftContainers(containersToPush,leftValue){if(!containersToPush){return}return $.each(containersToPush,function(){return $(this).css({marginLeft:leftValue+"px"})})};getStyle=function getStyle(navStyle,menu,hovered){var style={color:menu.isSection?navStyle.sectionFontColor:navStyle.menuFontColor,"border-color":navStyle.menuBorderColor,"background-color":hovered?navStyle.menuHoverColor:menu.isSection?navStyle.sectionBgColor:navStyle.menuBgColor,"font-weight":navStyle.menuFontWeight,"font-family":navStyle.menuFontFamily,"font-size":navStyle.menuFontSize,"font-style":navStyle.menuFontStyle};return style};return{StopEventPropagation:StopEventPropagation,DepthOf:_DepthOf,PushContainers:PushContainers,FixLeftContainers:FixLeftContainers,getStyle:getStyle}});module.animation(".slide",function(){return{addClass:function addClass(element,className){element.removeClass("slide");element.css({marginLeft:element.data("from")+"px"});element.animate({marginLeft:element.data("to")+"px"})}}});module.value("wxyOptions",{containersToPush:null,wrapperClass:"multilevelpushmenu_wrapper",menuInactiveClass:"multilevelpushmenu_inactive",menuWidth:265,menuHeight:0,collapsed:false,fullCollapse:true,direction:"ltr",backText:"Back",backItemClass:"backItemClass",backItemIcon:"fa fa-angle-right",groupIcon:"fa fa-angle-left",mode:"overlap",overlapWidth:40,rootOverlapWidth:40,preventItemClick:true,preventGroupItemClick:true,swipe:"both",buildHref:function buildHref(){},onCollapseMenuStart:function onCollapseMenuStart(){},onCollapseMenuEnd:function onCollapseMenuEnd(){},onExpandMenuStart:function onExpandMenuStart(){},onExpandMenuEnd:function onExpandMenuEnd(){},onGroupItemClick:function onGroupItemClick(){},onItemClick:function onItemClick(){},onTitleItemClick:function onTitleItemClick(){},onBackItemClick:function onBackItemClick(){},onMenuReady:function onMenuReady(){}})}).call(undefined)},1899:function(module,exports,__webpack_require__){"use strict";var _register=__webpack_require__(1894);var _register2=_interopRequireDefault(_register);__webpack_require__(1900);var _resizer=__webpack_require__(1903);var _resizer2=_interopRequireDefault(_resizer);var _resizerBottom=__webpack_require__(1904);var _resizerBottom2=_interopRequireDefault(_resizerBottom);var _changeHeight=__webpack_require__(1905);var _changeHeight2=_interopRequireDefault(_changeHeight);var _resizerRight=__webpack_require__(1906);var _resizerRight2=_interopRequireDefault(_resizerRight);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var registerApp=new _register2.default("ui.resizer",["components.utilities"]);registerApp.directive("resizer",_resizer2.default).directive("resizerBottom",_resizerBottom2.default).directive("changeHeight",_changeHeight2.default).directive("resizerRight",_resizerRight2.default)},1900:function(module,exports,__webpack_require__){"use strict";var _register=__webpack_require__(1894);var _register2=_interopRequireDefault(_register);var _utilityFunctions=__webpack_require__(1901);var _utilityFunctions2=_interopRequireDefault(_utilityFunctions);var _iframeHeightOnLoad=__webpack_require__(1902);var _iframeHeightOnLoad2=_interopRequireDefault(_iframeHeightOnLoad);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var registerApp=new _register2.default("components.utilities",[]);registerApp.factory("utilityFunctions",_utilityFunctions2.default).directive("iframeHeightOnLoad",_iframeHeightOnLoad2.default).directive("convertToNumber",function(){return{require:"ngModel",link:function link(scope,element,attrs,ngModel){ngModel.$parsers.push(function(val){return parseInt(val,10)});ngModel.$formatters.push(function(val){return""+val})}}})},1901:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UtilityFunctions=function(){function UtilityFunctions(){(0,_classCallCheck3.default)(this,UtilityFunctions)}(0,_createClass3.default)(UtilityFunctions,[{key:"deepGetValue",value:function deepGetValue(object,path){var o=object;path=path.replace(/\[(\w+)\]/g,".$1");path=path.replace(/^\./,"");var a=path.split(".");while(a.length){var n=a.shift();if(n in o){o=o[n]}else{return}}return o}},{key:"deepSetValue",value:function deepSetValue(object,path,value){var a=path.split(".");var o=object;for(var i=0;i<a.length-1;i++){var n=a[i];if(n in o){o=o[n]}else{o[n]={};o=o[n]}}o[a[a.length-1]]=value}},{key:"isDefinedNotNull",value:function isDefinedNotNull(value){return value&&value!=null}},{key:"isNotBlank",value:function isNotBlank(value){return this.isDefinedNotNull(value)&&value.trim()!=""}},{key:"validURL",value:function validURL(value){var pattern=/\b((?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/i;return pattern.test(value)}}]);return UtilityFunctions}();exports.default=UtilityFunctions},1902:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var iframeHeightOnLoadDirective=function(){function iframeHeightOnLoadDirective(){(0,_classCallCheck3.default)(this,iframeHeightOnLoadDirective);this.restrict="A"}(0,_createClass3.default)(iframeHeightOnLoadDirective,[{key:"link",value:function link($scope,element){element.on("load",function(){var iFrameHeight=500;try{iFrameHeight=element[0].contentWindow.document.body.scrollHeight+20+"px"}catch(err){console.log(err)}var iFrameWidth="100%";element.css("width",iFrameWidth);element.css("height",iFrameHeight);$scope.$evalAsync()})}}]);return iframeHeightOnLoadDirective}();exports.default=iframeHeightOnLoadDirective},1903:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);var _index=__webpack_require__(1);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _$document=new _weakMap2.default;var resizer=function(){function resizer($document){(0,_classCallCheck3.default)(this,resizer);_$document.set(this,$document);this.restrict="A"}(0,_createClass3.default)(resizer,[{key:"link",value:function link($scope,$element,$attrs,ctrl){var _this=this;$element.on("mousedown",function(event){event.preventDefault();_$document.get(_this).on("mousemove",mousemove.bind(_this));_$document.get(_this).on("mouseup",mouseup.bind(_this))});function mousemove(event){ctrl.$resize(event)}function mouseup(){_$document.get(this).off("mousemove");_$document.get(this).off("mouseup");_$document.get(this).find("body").css({cursor:"default"})}}},{key:"controller",value:function controller(){this.$resize=_index2.default.noop}}]);return resizer}();exports.default=resizer;resizer.$inject=["$document"]},1904:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);var _jquery=__webpack_require__(123);var _jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _$document=new _weakMap2.default;var resizerBottom=function(){function resizerBottom($document){(0,_classCallCheck3.default)(this,resizerBottom);_$document.set(this,$document);this.restrict="A";this.require="?resizer";this.scope={resizer:"="}}(0,_createClass3.default)(resizerBottom,[{key:"link",value:function link($scope,$element,$attrs,resizeController){var _this=this;if(!resizeController)return;var $resizeable=null;$resizeable=$element[0].previousElementSibling;var maxY=!$attrs.resizerMax?500:$attrs.resizerMax;var minY=!$attrs.resizerMin?0:$attrs.resizerMin;resizeController.$resize=function(event){var y=event.pageY-Math.floor((0,_jquery2.default)($resizeable).offset().top);if(y<=maxY&&y>=minY){$scope.resizer=y;$scope.$apply();_$document.get(_this).find("body").css({cursor:"n-resize"})}}}}]);return resizerBottom}();exports.default=resizerBottom;resizerBottom.$inject=["$document"]},1905:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _utilities=new _weakMap2.default;var changeHeightDirective=function(){function changeHeightDirective(utilityFunctions){(0,_classCallCheck3.default)(this,changeHeightDirective);_utilities.set(this,utilityFunctions);this.restrict="A"}(0,_createClass3.default)(changeHeightDirective,[{key:"link",value:function link($scope,element,attrs){var _this=this;$scope.$watch(function(){return element[0].scrollHeight},function(newHeight){_utilities.get(_this).deepSetValue($scope,attrs.changeHeight,newHeight)})}}]);return changeHeightDirective}();exports.default=changeHeightDirective;changeHeightDirective.$inject=["utilityFunctions"]},1906:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);var _jquery=__webpack_require__(123);var _jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _$document=new _weakMap2.default;var resizerRight=function(){function resizerRight($document){(0,_classCallCheck3.default)(this,resizerRight);_$document.set(this,$document);this.restrict="A";this.require="?resizer";this.scope={resizer:"="}}(0,_createClass3.default)(resizerRight,[{key:"link",value:function link($scope,$element,$attrs,resizeController){var _this=this;if(!resizeController)return;var $resizeable=null;$resizeable=$element[0].previousElementSibling;var maxX=!$attrs.resizerMax?200:$attrs.resizerMax;var minX=!$attrs.resizerMin?50:$attrs.resizerMin;resizeController.$resize=function(event){var x=event.pageX-Math.floor((0,_jquery2.default)($resizeable).offset().left);if(x<=maxX&&x>=minX){$scope.resizer=x;$scope.$apply();_$document.get(_this).find("body").css({cursor:"e-resize"})}}}}]);return resizerRight}();exports.default=resizerRight;resizerRight.$inject=["$document"]},1907:function(module,exports,__webpack_require__){"use strict";var _register=__webpack_require__(1894);var _register2=_interopRequireDefault(_register);var _requestInterceptor=__webpack_require__(1908);var _requestInterceptor2=_interopRequireDefault(_requestInterceptor);var _requestHandler=__webpack_require__(1910);var _requestHandler2=_interopRequireDefault(_requestHandler);var _alert=__webpack_require__(1911);var _alert2=_interopRequireDefault(_alert);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var registerApp=new _register2.default("blocks.httpInterceptor",[]);registerApp.factory("requestHandler",_requestHandler2.default).factory("httpInterceptor",_requestInterceptor2.default).factory("$alert",_alert2.default).config(["$httpProvider",function($httpProvider){$httpProvider.interceptors.push("httpInterceptor")}])},1908:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _getPrototypeOf=__webpack_require__(159);var _getPrototypeOf2=_interopRequireDefault(_getPrototypeOf);var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _possibleConstructorReturn2=__webpack_require__(163);var _possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2);var _inherits2=__webpack_require__(164);var _inherits3=_interopRequireDefault(_inherits2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);var _httpInterceptor=__webpack_require__(1909);var _httpInterceptor2=_interopRequireDefault(_httpInterceptor);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _$q=new _weakMap2.default;var _requestHandler=new _weakMap2.default;var _$injector=new _weakMap2.default;var _http=new _weakMap2.default;var RequestInterceptor=function(_HttpInterceptor){(0,_inherits3.default)(RequestInterceptor,_HttpInterceptor);function RequestInterceptor($q,$injector,requestHandler){(0,_classCallCheck3.default)(this,RequestInterceptor);var _this=(0,_possibleConstructorReturn3.default)(this,(RequestInterceptor.__proto__||(0,_getPrototypeOf2.default)(RequestInterceptor)).call(this));_$q.set(_this,$q);_requestHandler.set(_this,requestHandler);_$injector.set(_this,$injector);return _this}(0,_createClass3.default)(RequestInterceptor,[{key:"request",value:function request(config){_requestHandler.get(this).requestStarted();return config}},{key:"requestError",value:function requestError(rejection){if(!_http.get(this)){_http.set(this,_$injector.get(this).get("$http"))}if(_http.get(this).pendingRequests.length<1){_requestHandler.get(this).requestEnded()}_requestHandler.get(this).requestError(rejection);return _$q.get(this).reject(rejection)}},{key:"response",value:function response(_response){if(!_http.get(this)){_http.set(this,_$injector.get(this).get("$http"))}if(_http.get(this).pendingRequests.length<1){_requestHandler.get(this).requestEnded()}_requestHandler.get(this).requestSuccess(_response);return _response||_$q.get(this).when(_response)}},{key:"responseError",value:function responseError(rejection){if(!_http.get(this)){_http.set(this,_$injector.get(this).get("$http"))}if(_http.get(this).pendingRequests.length<1){_requestHandler.get(this).requestEnded()}_requestHandler.get(this).requestError(rejection);return _$q.get(this).reject(rejection)}}]);return RequestInterceptor}(_httpInterceptor2.default);exports.default=RequestInterceptor;_httpInterceptor2.default.$inject=["$q","$injector","requestHandler"]},1909:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var HttpInterceptor=function HttpInterceptor(){var _this=this;(0,_classCallCheck3.default)(this,HttpInterceptor);["request","requestError","response","responseError"].forEach(function(method){if(_this[method]){_this[method]=_this[method].bind(_this)}})};exports.default=HttpInterceptor},1910:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var REQUEST_SUCCESS="REQUEST_SUCCESS";var REQUEST_ERROR="REQUEST_ERROR";var _$rootScope=new _weakMap2.default;var _$alert=new _weakMap2.default;var RequestHandler=function(){function RequestHandler($rootScope,$alert){(0,_classCallCheck3.default)(this,RequestHandler);_$rootScope.set(this,$rootScope);_$alert.set(this,$alert)}(0,_createClass3.default)(RequestHandler,[{key:"requestStarted",value:function requestStarted(){_$rootScope.get(this).pageLoaded=false}},{key:"requestEnded",value:function requestEnded(){_$rootScope.get(this).pageLoaded=true}},{key:"requestSuccess",value:function requestSuccess(response){_$rootScope.get(this).$broadcast(REQUEST_SUCCESS,response)}},{key:"requestError",value:function requestError(rejection){_$rootScope.get(this).$broadcast(REQUEST_ERROR,rejection)}},{key:"onRequestSuccess",value:function onRequestSuccess($scope,handler){var _this=this;$scope.$on(REQUEST_SUCCESS,function(event,response){response.alert=_$alert.get(_this);handler(response)})}},{key:"onRequestError",value:function onRequestError($scope,handler){var _this2=this;$scope.$on(REQUEST_ERROR,function(event,rejection){rejection.alert=_$alert.get(_this2);handler(rejection)})}}]);return RequestHandler}();exports.default=RequestHandler;RequestHandler.$inject=["$rootScope","$alert"]},1911:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _assign=__webpack_require__(815);var _assign2=_interopRequireDefault(_assign);var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _$rootScope=new _weakMap2.default;var alert=function(){function alert($rootScope){(0,_classCallCheck3.default)(this,alert);_$rootScope.set(this,$rootScope)}(0,_createClass3.default)(alert,[{key:"new",value:function _new(obj){obj=(0,_assign2.default)(this._emptyAlert(),obj);obj.close=this.close.bind(this);var $rootScope=_$rootScope.get(this);if(!$rootScope.alerts){$rootScope.alerts=[]}$rootScope.alerts.push(obj)}},{key:"close",value:function close(index){_$rootScope.get(this).alerts.splice(index,1)}},{key:"_emptyAlert",value:function _emptyAlert(){return{title:"",content:"",duration:3e3,type:"info"}}}]);return alert}();exports.default=alert;alert.$inject=["$rootScope"]},1912:function(module,exports,__webpack_require__){"use strict";var _register=__webpack_require__(1894);var _register2=_interopRequireDefault(_register);var _routeHelper=__webpack_require__(1913);var _routeHelper2=_interopRequireDefault(_routeHelper);var _routeHelper3=__webpack_require__(1914);var _routeHelper4=_interopRequireDefault(_routeHelper3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var registerApp=new _register2.default("blocks.router",["ngRoute"]);registerApp.provider("routeHelperConfig",_routeHelper2.default).factory("routeHelper",_routeHelper4.default)},1913:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _config=new _weakMap2.default;var RouteHelperConfig=function(){function RouteHelperConfig(){(0,_classCallCheck3.default)(this,RouteHelperConfig);_config.set(this,{})}(0,_createClass3.default)(RouteHelperConfig,[{key:"$get",value:function $get(){return this.config}},{key:"config",get:function get(){return{config:_config.get(this)}},set:function set(config){_config.set(this,config)}}]);return RouteHelperConfig}();exports.default=RouteHelperConfig},1914:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{
value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);var _index=__webpack_require__(1);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _$route=new _weakMap2.default;var _routeHelperConfig=new _weakMap2.default;var _$routeProvider=new _weakMap2.default;var RouteHelper=function(){function RouteHelper($location,$rootScope,$route,routeHelperConfig){(0,_classCallCheck3.default)(this,RouteHelper);_$route.set(this,$route);_routeHelperConfig.set(this,routeHelperConfig);_$routeProvider.set(this,routeHelperConfig.config.$routeProvider);this._routeChangeError($rootScope,$location,routeHelperConfig);this._routeChangeSuccess($rootScope,routeHelperConfig)}(0,_createClass3.default)(RouteHelper,[{key:"getRoutes",value:function getRoutes(){var routes=[];for(var prop in _$route.get(this).routes){if(_$route.get(this).routes.hasOwnProperty(prop)){var route=_$route.get(this).routes[prop];var isRoute=!!route.option;if(isRoute){routes.push(route)}}}return routes}},{key:"configureRoutes",value:function configureRoutes(routes){var _this=this;routes.forEach(function(route){route.config.resolve=_index2.default.extend(route.config.resolve||{},_routeHelperConfig.get(_this).config.resolveAlways);_$routeProvider.get(_this).when(route.url,route.config)});_$routeProvider.get(this).otherwise({redirectTo:"/structure"})}},{key:"_routeChangeError",value:function _routeChangeError($rootScope,$location,routeHelperConfig){$rootScope.$on("$routeChangeError",function(){$location.path(routeHelperConfig.config.defaultPath)})}},{key:"_routeChangeSuccess",value:function _routeChangeSuccess($rootScope,routeHelperConfig){$rootScope.$on("$routeChangeSuccess",function(event,current){routeHelperConfig.config.rootChangeSuccess($rootScope,current)})}}]);return RouteHelper}();exports.default=RouteHelper;RouteHelper.$inject=["$location","$rootScope","$route","routeHelperConfig"]},1915:function(module,exports,__webpack_require__){"use strict";var _register=__webpack_require__(1894);var _register2=_interopRequireDefault(_register);var _flexnav=__webpack_require__(1916);var _flexnav2=_interopRequireDefault(_flexnav);var _flexnavSubmenu=__webpack_require__(1919);var _flexnavSubmenu2=_interopRequireDefault(_flexnavSubmenu);var _flexnavUtils=__webpack_require__(1922);var _flexnavUtils2=_interopRequireDefault(_flexnavUtils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var registerApp=new _register2.default("ui.flexnav",[]);registerApp.factory("flexnav.utils",_flexnavUtils2.default).directive("uiFlexnav",_flexnav2.default).directive("uiFlexnavSubmenu",_flexnavSubmenu2.default)},1916:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _flexnav=__webpack_require__(1917);var _flexnav2=_interopRequireDefault(_flexnav);var _flexnavPartial=__webpack_require__(1918);var _flexnavPartial2=_interopRequireDefault(_flexnavPartial);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var uiFlexnavDirective=function uiFlexnavDirective(){(0,_classCallCheck3.default)(this,uiFlexnavDirective);this.restrict="E";this.scope={menu:"=",options:"=",styleOptions:"="};this.template=_flexnavPartial2.default;this.controller=_flexnav2.default;this.controllerAs="vm";this.bindToController=true;this.replace=true};exports.default=uiFlexnavDirective},1917:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _assign=__webpack_require__(815);var _assign2=_interopRequireDefault(_assign);var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);var _index=__webpack_require__(1);var _index2=_interopRequireDefault(_index);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _$window=new _weakMap2.default;var _utils=new _weakMap2.default;var _openedDropdowns=new _weakMap2.default;var Flexnav=function(){function Flexnav(flexnavUtils,$window,$document,$scope,$element){(0,_classCallCheck3.default)(this,Flexnav);_$window.set(this,_index2.default.element($window));_utils.set(this,flexnavUtils);_openedDropdowns.set(this,[]);this.options=(0,_assign2.default)({},this._defaultOptions(),this.options);this.breakpoint=parseInt(this.options.breakpoint);this.mobileOpen=false;this.collapsed=true;this.activePageId=this.options.currentPage;this._init($scope,$document,$element)}(0,_createClass3.default)(Flexnav,[{key:"getWindowWidth",value:function getWindowWidth(){return _$window.get(this).width()}},{key:"toggleMobileMenu",value:function toggleMobileMenu(){this.mobileOpen=!this.mobileOpen}},{key:"toggleCollapse",value:function toggleCollapse(){this.collapsed=!this.collapsed}},{key:"onItemClick",value:function onItemClick(event,menu){this.activePageId=menu.id;this.toggleDropdown(null);this.options.onItemClick(event,menu)}},{key:"toggleDropdown",value:function toggleDropdown(){var dropdown=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var dropdowns=_openedDropdowns.get(this);var found=false;if(dropdown!=null){dropdown.collapsed=!dropdown.collapsed}while(dropdowns.length>0&&!found){var length=dropdowns.length;if(dropdown==null||dropdown.parent!=dropdowns[length-1]){dropdowns.pop().collapsed=true}else{found=true}}if(dropdown!=null&&!dropdown.collapsed){dropdowns.push(dropdown)}_openedDropdowns.set(this,dropdowns)}},{key:"_init",value:function _init($scope,$document,$element){var _this=this;$document.on("click",function(event){var isDocumentClicked=$element.find(".flexnav-nav").find(event.target).length<=0;if(isDocumentClicked){_this.toggleDropdown(null);$scope.$evalAsync()}})}},{key:"_defaultOptions",value:function _defaultOptions(){return{menuButtonName:"Menu",buttonClass:"menu-button",calcItemWidths:false,fullScreen:true,breakpoint:800,onItemClick:function onItemClick(){},buildHref:function buildHref(){},currentPage:null}}},{key:"style",get:function get(){return _utils.get(this).getStyle(this.styleOptions,this.menu,this.hovered)}},{key:"navStyle",get:function get(){return _utils.get(this).getNavStyle(this.styleOptions,this.totalWidth)}},{key:"toggleStyle",get:function get(){return _utils.get(this).getToggleStyle(this.styleOptions)}},{key:"children",get:function get(){return this.menu.children}}]);return Flexnav}();exports.default=Flexnav;Flexnav.$inject=["flexnav.utils","$window","$document","$scope","$element"]},1918:function(module,exports){module.exports='<nav class="flexnav" ng-style="vm.navStyle">\n    <div class="flexnav-header flexnav-toggle" ng-class="vm.options.buttonClass">\n        <button type="button" ng-style="vm.toggleStyle"\n                ng-click="vm.toggleCollapse()">\n          <i class="fa fa-bars"></i>\n        </button>\n        <span>{{vm.menu.title}}</span>\n    </div>\n    <div id="website-flexnav-menu" class="collapse flexnav-collapse" ng-class="{\'collapse\': vm.collapsed}">\n        <ul class="nav flexnav-nav with-js">\n            <ui-flexnav-submenu ng-repeat="item in vm.children" menu="item" level="{{ 0 }}"></ui-flexnav-submenu>\n        </ul>\n    </div>\n</nav>'},1919:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);var _flexnavSubmenuPartial=__webpack_require__(1920);var _flexnavSubmenuPartial2=_interopRequireDefault(_flexnavSubmenuPartial);var _flexnavSubmenu=__webpack_require__(1921);var _flexnavSubmenu2=_interopRequireDefault(_flexnavSubmenu);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _$compile=new _weakMap2.default;var _contents=new _weakMap2.default;var _compiledContents=new _weakMap2.default;var uiFlexnavSubmenuDirective=function(){function uiFlexnavSubmenuDirective($compile){(0,_classCallCheck3.default)(this,uiFlexnavSubmenuDirective);_$compile.set(this,$compile);this.scope={menu:"=",level:"@"};this.template=_flexnavSubmenuPartial2.default;this.require=["^uiFlexnav","?^^uiFlexnavSubmenu","uiFlexnavSubmenu"];this.restrict="EA";this.replace=true;this.controller=_flexnavSubmenu2.default;this.controllerAs="vm";this.bindToController=true;this.compile=this._compile.bind(this)}(0,_createClass3.default)(uiFlexnavSubmenuDirective,[{key:"_compile",value:function _compile(tElement){_contents.set(this,tElement.contents().remove());_compiledContents.set(this,null);return{pre:this._preLink.bind(this)}}},{key:"_preLink",value:function _preLink($scope,element,attr,ctrl){ctrl[2].flexnav=ctrl[0];ctrl[2].parent=ctrl[1]||ctrl[0];if(!_compiledContents.get(this)){_compiledContents.set(this,_$compile.get(this)(_contents.get(this)))}_compiledContents.get(this)($scope,function(clone){element.append(clone)})}}]);return uiFlexnavSubmenuDirective}();exports.default=uiFlexnavSubmenuDirective;uiFlexnavSubmenuDirective.$inject=["$compile"]},1920:function(module,exports){module.exports='<li id="{{vm.menu.id}}" ng-style="vm.style" ng-class="{\'flexnav-dropdown\':vm.hasChildren, \'flexnav-dropdown-submenu\':vm.hasChildren && vm.level>0, \'open\':!vm.collapsed}">\n    <span class="submenu-visual-container" ng-mouseover="vm.over()" ng-mouseleave="vm.leave()" ng-click="vm.toggleCollapse()">\n        <a ng-href="{{vm.buildHref()}}" target="{{!vm.menu.target?\'\':\'_blank\'}}" title="{{ vm.menu.title }}"\n            ng-click="vm.itemClicked($event)">\n            {{ vm.menu.title }}\n        </a>\n    </span>\n    <ul ng-if="vm.hasChildren" class="flexnav-dropdown-menu">\n        <ui-flexnav-submenu ng-repeat="item in vm.children" menu="item" level="{{vm.level * 1 + 1}}"></ui-flexnav-submenu>\n    </ul>\n</li>'},1921:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _utils=new _weakMap2.default;var _$scope=new _weakMap2.default;var FlexnavSubmenu=function(){function FlexnavSubmenu(utils){(0,_classCallCheck3.default)(this,FlexnavSubmenu);_utils.set(this,utils);this.collapsed=true;this.hovered=false;this.correctionWidth=0;this.level=parseInt(this.level)}(0,_createClass3.default)(FlexnavSubmenu,[{key:"toggleCollapse",value:function toggleCollapse(){this.flexnav.toggleDropdown(this)}},{key:"buildHref",value:function buildHref(){return this.options.buildHref(this.menu)}},{key:"itemClicked",value:function itemClicked($event){$event.stopPropagation();this.flexnav.onItemClick($event,this.menu)}},{key:"over",value:function over(){this.hovered=true}},{key:"leave",value:function leave(){this.hovered=false}},{key:"isRootLevel",get:function get(){return parseInt(this.level)==0}},{key:"visible",get:function get(){return!this.parent.collapsed}},{key:"options",get:function get(){return this.flexnav.options}},{key:"style",get:function get(){return _utils.get(this).getStyle(this.flexnav.styleOptions,this.menu,this.hovered||this.active)}},{key:"caretStyle",get:function get(){return _utils.get(this).getCaretStyle(this.flexnav.styleOptions,this.menu)}},{key:"hasChildren",get:function get(){return this.menu.children&&this.menu.children.length>0}},{key:"children",get:function get(){return this.hasChildren?this.menu.children:[]}},{key:"active",get:function get(){return this.flexnav.activePageId==this.menu.id}}]);return FlexnavSubmenu}();exports.default=FlexnavSubmenu;FlexnavSubmenu.$inject=["flexnav.utils"]},1922:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var FlexnavUtils=function(){function FlexnavUtils(){(0,_classCallCheck3.default)(this,FlexnavUtils)}(0,_createClass3.default)(FlexnavUtils,[{key:"construct",value:function construct(){}},{key:"getStyle",value:function getStyle(styleOptions,menu,hovered){var style={color:menu.isSection?styleOptions.sectionFontColor:styleOptions.menuFontColor,"border-color":styleOptions.menuBorderColor,"background-color":hovered?styleOptions.menuHoverColor:menu.isSection?styleOptions.sectionBgColor:styleOptions.menuBgColor,"font-weight":styleOptions.menuFontWeight,"font-family":styleOptions.menuFontFamily,"font-size":styleOptions.menuFontSize,"font-style":styleOptions.menuFontStyle};return style}},{key:"getNavStyle",value:function getNavStyle(styleOptions,width){if(styleOptions.menuOrientation=="horizontal"){return{width:width,"background-color":styleOptions.menuBgColor,color:styleOptions.menuFontColor,"font-size":styleOptions.menuFontSize+"px","font-family":styleOptions.menuFontFamily}}else{return{}}}},{key:"getCaretStyle",value:function getCaretStyle(styleOptions,menu){return{color:menu.isSection?styleOptions.sectionFontColor:styleOptions.menuFontColor}}},{key:"getToggleStyle",value:function getToggleStyle(styleOptions){return{color:styleOptions.menuFontColor,"background-color":styleOptions.menuBgColor,"border-color":styleOptions.menuFontColor}}}]);return FlexnavUtils}();exports.default=FlexnavUtils},1923:function(module,exports,__webpack_require__){"use strict";var _register=__webpack_require__(1894);var _register2=_interopRequireDefault(_register);var _bsColorpicker=__webpack_require__(1924);var _bsColorpicker2=_interopRequireDefault(_bsColorpicker);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var registerApp=new _register2.default("bs.colorpicker",[]);registerApp.directive("bsColorpicker",_bsColorpicker2.default)},1924:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _bsColorpicker=__webpack_require__(1925);var _bsColorpicker2=_interopRequireDefault(_bsColorpicker);var _bsColorpickerPartial=__webpack_require__(1926);var _bsColorpickerPartial2=_interopRequireDefault(_bsColorpickerPartial);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var bsColorpicker=function bsColorpicker(){(0,_classCallCheck3.default)(this,bsColorpicker);this.restrict="EA";this.scope={color:"=color"};this.template=_bsColorpickerPartial2.default;this.controller=_bsColorpicker2.default;this.controllerAs="vm";this.bindToController=true};exports.default=bsColorpicker},1925:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _$scope=new _weakMap2.default;var _$element=new _weakMap2.default;var Colorpicker=function(){function Colorpicker($scope,$element){(0,_classCallCheck3.default)(this,Colorpicker);_$scope.set(this,$scope);_$element.set(this,$element);this.color=(this.color||"transparent").toLowerCase();var options={customClass:"ws-colorpicker",format:"hex",color:this.color};var colorpicker=$element.colorpicker(options);colorpicker.on("changeColor.colorpicker",this.onColorpickerChange.bind(this))}(0,_createClass3.default)(Colorpicker,[{key:"changeColor",value:function changeColor(colorHex){this.color=colorHex;_$scope.get(this).$evalAsync()}},{key:"clearColor",value:function clearColor(event){event.preventDefault();event.stopPropagation();this._setColorpickerColor("transparent");return false}},{key:"onColorpickerChange",value:function onColorpickerChange(event){this.changeColor(event.color.toHex())}},{key:"_setColorpickerColor",value:function _setColorpickerColor(color){_$element.get(this).colorpicker("setValue",color)}}]);return Colorpicker}();exports.default=Colorpicker;Colorpicker.$inject=["$scope","$element"]},1926:function(module,exports){module.exports='<input type="text" class="form-control" value="{{vm.color}}" id="bg-color"/>\n<span class="input-group-addon"><i></i></span>\n<span data-ng-click="vm.clearColor($event)" class="input-group-addon transparent-color-btn"><i data-ng-click="vm.clearColor($event)" class="fa fa-ban"></i></span>'},1927:function(module,exports,__webpack_require__){"use strict";var _register=__webpack_require__(1894);var _register2=_interopRequireDefault(_register);__webpack_require__(224);var _webtree=__webpack_require__(1928);var _webtree2=_interopRequireDefault(_webtree);var _webtreeNode=__webpack_require__(1932);var _webtreeNode2=_interopRequireDefault(_webtreeNode);var _webtree3=__webpack_require__(1935);var _webtree4=_interopRequireDefault(_webtree3);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var registerApp=new _register2.default("ui.webtree",["ui.tree","website.constants"]);registerApp.directive("webtree",_webtree2.default).directive("webtreeNode",_webtreeNode2.default).service("webtreeService",_webtree4.default).filter("trans",function(){return function(text){var domain=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"platform";var vars=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return window.Translator.trans(text,vars,domain)}})},1928:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _webtree=__webpack_require__(1929);var _webtree2=_interopRequireDefault(_webtree);var _webtreePartial=__webpack_require__(1931);var _webtreePartial2=_interopRequireDefault(_webtreePartial);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var WebtreeDirective=function WebtreeDirective(){(0,_classCallCheck3.default)(this,WebtreeDirective);this.restrict="EA";this.scope={tree:"=",instance:"="};this.template=_webtreePartial2.default;this.controller=_webtree2.default;this.controllerAs="vm";this.bindToController=true};exports.default=WebtreeDirective},1929:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _assign=__webpack_require__(815);var _assign2=_interopRequireDefault(_assign);var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);var _confirmNodeDeleteModal=__webpack_require__(1930);var _confirmNodeDeleteModal2=_interopRequireDefault(_confirmNodeDeleteModal);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _webtreeService=new _weakMap2.default;var _$uibModal=new _weakMap2.default;var _$scope=new _weakMap2.default;var _modals=new _weakMap2.default;var Webtree=function(){function Webtree(webtreeService,$uibModal,$scope){(0,_classCallCheck3.default)(this,Webtree);_webtreeService.set(this,webtreeService);_$uibModal.set(this,$uibModal);_$scope.set(this,$scope);_modals.set(this,[]);this.instance=this;this.root=this.tree.pages[0];this.activeNode=null;this.home=null;this.copyNode=null}(0,_createClass3.default)(Webtree,[{key:"createNewNode",value:function createNewNode(parent){parent=parent||this.root;this.setActiveNode(_webtreeService.get(this).appendNewNode(parent))}},{key:"createSubNode",value:function createSubNode(parent){if(parent){this.createNewNode(parent)}}},{key:"setActiveNode",value:function setActiveNode(node){if(this.activeNode&&this.activeNode.new){_webtreeService.get(this).deleteNode(this.activeNode)}else if(this.activeNode){if(!this.activeNode.saving&&this.copyNode!=null){(0,_assign2.default)(this.activeNode,this.copyNode)}}this.copyNode=null;if(node&&!node.new)this.copyNode=_webtreeService.get(this).copyNodeInfo(node);this.activeNode=node}},{key:"deleteActiveNode",value:function deleteActiveNode(){var _this=this;var confirmed=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this.hasActiveNode){if(!confirmed){_modals.get(this).push(_$uibModal.get(this).open({scope:_$scope.get(this),template:_confirmNodeDeleteModal2.default}))}else{this.dismissModal();_webtreeService.get(this).deleteNode(this.activeNode).then(function(node){if(_this.home==node){_this.home=null}if(_this.activeNode==node){if(node.parent==_this.root&&_this.root.children.length>0){_this.setActiveNode(_this.root.children[0])}else if(node.parent!=_this.root){_this.setActiveNode(node.parent)}else{_this.setActiveNode(null)}}})}}}},{key:"dismissModal",value:function dismissModal(){var modal=_modals.get(this).pop();if(modal){modal.dismiss()}}},{key:"moveNode",value:function moveNode(node,oldParent,newParent,oldIndex,newIndex){if(oldParent==null)oldParent=this.root;if(newParent==null)newParent=this.root;_webtreeService.get(this).moveNode(node,oldParent,newParent,oldIndex,newIndex)}},{key:"saveActiveNode",value:function saveActiveNode(){var _this2=this;if(this.activeNode){(function(){var websiteService=_webtreeService.get(_this2);var copy=null;var isEmpty=_this2.activeNode.new&&_this2.root.children.length==1;if(!_this2.activeNode.new){copy=websiteService.copyNodeInfo(_this2.activeNode)}websiteService.saveNode(_this2.activeNode).then(function(node){if(isEmpty&&copy==null){node.isHomepage=true;_this2.home=node}_this2.copyNode=null},function(node){if(node.id==0&&_this2.activeNode!=node){websiteService.deleteNode(node)}if(copy!=null&&_this2.activeNode!=node){(0,_assign2.default)(node,copy);_this2.copyNode=null}})})()}}},{key:"setActiveNodeAsHomepage",value:function setActiveNodeAsHomepage(){var _this3=this;if(this.activeNode){_webtreeService.get(this).setHomepage(this.activeNode,this.home).then(function(newHomepage){_this3.home=newHomepage})}}},{key:"updateActiveNodeFromPicker",value:function updateActiveNodeFromPicker(id,data){this.activeNode.resourceNode=id;this.activeNode.title=data[0];this.activeNode.resourceNodeType=data[1];this.activeNode.resourceNodeName=data[0];this.activeNode.resourceNodeWorkspace=null}},{key:"uiOptions",get:function get(){var _this4=this;return{dropped:function dropped(event){var sourceNode=event.source.nodesScope.$nodeScope!==null?event.source.nodesScope.$nodeScope.$modelValue:_this4.root;var sourceIndex=event.source.index;var destNode=event.dest.nodesScope.$nodeScope!==null?event.dest.nodesScope.$nodeScope.$modelValue:_this4.root;var destIndex=event.dest.index;var currentNode=event.source.nodeScope.$modelValue;if(sourceNode!=destNode||sourceIndex!=destIndex){_this4.moveNode(currentNode,sourceNode,destNode,sourceIndex,destIndex)}}}}},{key:"isEmpty",get:function get(){return this.root.children.length==0}},{key:"hasActiveNode",get:function get(){return this.activeNode&&!this.activeNode.new&&this.activeNode!=this.root}}]);return Webtree}();exports.default=Webtree;Webtree.$inject=["webtreeService","$uibModal","$scope"]},1930:function(module,exports){module.exports="<div class=\"modal-body\">\n    <div>{{ 'confirm_delete_message'|trans:'icap_website':{'title': vm.activeNode.title} }}</div>\n</div>\n<div class=\"modal-footer\">\n    <button class=\"btn btn-primary\" data-ng-click=\"vm.deleteActiveNode(true)\">{{ 'confirm'|trans:'icap_website' }}</button>\n    <button class=\"btn btn-default\" data-ng-click=\"vm.dismissModal()\">{{ 'cancel'|trans:'icap_website' }}</button>\n</div>"},1931:function(module,exports){module.exports='<div>\n    <h5 class="text-center">{{ \'page_list\'|trans:\'icap_website\' }}</h5>\n    <div class="dropdown">\n        <button class="btn btn-primary btn-xs dropdown-toggle" data-toggle="dropdown" aria-expanded="true" type="type"><i class="fa fa-plus"></i> <span class="caret"></span></button>\n        <ul class="dropdown-menu" role="menu">\n            <li><a href="" data-ng-click="vm.createNewNode()">{{ \'create_page\'|trans:\'icap_website\' }}</a></li>\n            <li data-ng-class="{\'disabled\':!vm.hasActiveNode}"><a href="" data-ng-click="vm.createSubNode(vm.activeNode)">{{ \'create_sub_page\'|trans:\'icap_website\' }}</a></li>\n        </ul>\n        <button data-ng-class="{\'disabled\':!vm.hasActiveNode}" data-ng-click="vm.deleteActiveNode()" class="btn btn-danger btn-xs"><i class="fa fa-trash-o"></i></button>\n    </div>\n</div>\n<div class="ui-tree-container" ui-tree="vm.uiOptions" data-drag-enabled="true" id="tree-root">\n    <ul ng-if="!vm.isEmpty" id="parent-{{ vm.root.id }}" class="edit-menu" ui-tree-nodes ng-model="vm.root.children">\n        <li id="nd-{{node.id}}" ui-tree-node data-ng-repeat="node in vm.root.children" data-webtree-node data-ng-model="node" data-depth="1"></li>\n    </ul>\n    <ul ng-if="vm.isEmpty" class="angular-ui-tree-nodes">\n       <li class="angular-ui-tree-node text-muted"><i>{{ \'no_pages\'|trans:\'icap_website\' }}</i></li>\n    </ul>\n</div>'},1932:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);var _webtreeNodePartial=__webpack_require__(1933);var _webtreeNodePartial2=_interopRequireDefault(_webtreeNodePartial);var _webtreeNode=__webpack_require__(1934);var _webtreeNode2=_interopRequireDefault(_webtreeNode);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _contents=new _weakMap2.default;var _compiledContents=new _weakMap2.default;var _$compile=new _weakMap2.default;var WebtreeNodeDirective=function(){function WebtreeNodeDirective($compile){(0,_classCallCheck3.default)(this,WebtreeNodeDirective);_$compile.set(this,$compile);this.restrict="EA";this.scope={node:"=ngModel",depth:"@"};this.require=["^webtree","?^^webtreeNode","webtreeNode"];this.template=_webtreeNodePartial2.default;this.controller=_webtreeNode2.default;this.controllerAs="vm";this.bindToController=true;this.compile=this._compile.bind(this)}(0,_createClass3.default)(WebtreeNodeDirective,[{key:"_compile",value:function _compile(tElement){_contents.set(this,tElement.contents().remove());_compiledContents.set(this,null);return{pre:this._preLink.bind(this)}}},{key:"_preLink",value:function _preLink($scope,element,attr,ctrl){ctrl[2].webtree=ctrl[0];if(ctrl[1]==null){ctrl[2].node.parent=ctrl[0].root}else{ctrl[2].node.parent=ctrl[1].node}if(!_compiledContents.get(this)){_compiledContents.set(this,_$compile.get(this)(_contents.get(this)))}_compiledContents.get(this)($scope,function(clone){element.append(clone)})}}]);return WebtreeNodeDirective}();exports.default=WebtreeNodeDirective;WebtreeNodeDirective.$inject=["$compile"]},1933:function(module,exports){module.exports='<div class="tree-node tree-node-content menu-item-container" data-ng-class="{\'selected\':vm.webtree.activeNode==vm.node}" ng-click="vm.setAsActive()"></span>\n    <span data-ng-style="{\'margin-left\': vm.marginLeft}" ui-tree-handle class="menu-dragndrop-icon"><a><span class="fa fa-arrows"></span></a></span>\n    <span class="menu-dropdown-icon"><a ng-if="vm.node.children && vm.node.children.length > 0" data-nodrag ng-click="vm.toggleCollapse()"><span class="fa" ng-class="{\'fa-angle-right\': vm.collapsed, \'fa-angle-down\': !vm.collapsed}"></span></a></span>\n    <span class="menu-type-icon"><i class="fa" ng-class="{\'fa-file-code-o\':vm.node.type==\'blank\', \'fa-folder\':vm.node.type==\'resource\', \'fa-globe\':vm.node.type==\'url\'}"></i><i data-ng-if="vm.node.isHomepage" class="fa fa-home"></i></span>\n    <span data-ng-class="{\'tree-node-section\':vm.node.isSection, \'tree-node-invisible\':!vm.node.visible}">{{vm.node.title}}</span>\n</div>\n<ul id="parent-{{vm.node.id}}" ui-tree-nodes data-ng-model="vm.node.children" data-ng-class="{hidden: vm.collapsed}">\n    <li id="nd-{{node.id}}" data-ng-repeat="node in vm.node.children" ui-tree-node data-webtree-node data-ng-model="node" data-depth="{{vm.depth * 1 + 1}}"></li>\n</ul>'},1934:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var WebtreeNode=function(){function WebtreeNode($timeout){(0,_classCallCheck3.default)(this,WebtreeNode);this.collapsed=false;this.saving=false;$timeout(this.init.bind(this),0)}(0,_createClass3.default)(WebtreeNode,[{key:"init",value:function init(){if(this.node.isHomepage){this.setAsActive();this.webtree.home=this.node}else if(this.webtree.activeNode==null){this.setAsActive()}}},{key:"toggleCollapse",value:function toggleCollapse(){this.collapsed=!this.collapsed}},{key:"setAsActive",value:function setAsActive(){this.webtree.setActiveNode(this.node)}},{key:"marginLeft",get:function get(){return(parseInt(this.depth)-1)*15+"px"}}]);return WebtreeNode}();exports.default=WebtreeNode;WebtreeNode.$inject=["$timeout"]},1935:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _typeof2=__webpack_require__(34);var _typeof3=_interopRequireDefault(_typeof2);var _getIterator2=__webpack_require__(557);var _getIterator3=_interopRequireDefault(_getIterator2);var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _$http=new _weakMap2.default;var _$q=new _weakMap2.default;var WebtreeService=function(){function WebtreeService($http,$q,websiteData){(0,_classCallCheck3.default)(this,WebtreeService);_$http.set(this,$http);_$q.set(this,$q);this.websiteId=websiteData.id;this.baseUrl=this._path("icap_website_view")}(0,_createClass3.default)(WebtreeService,[{key:"appendNewNode",value:function appendNewNode(node){var newNode=this.emptyNode;newNode.parent=node;node.children.push(newNode);return newNode}},{key:"deleteNode",value:function deleteNode(node){var _this=this;var parent=node.parent;var index=parent.children.indexOf(node);if(index!=-1){parent.children.splice(index,1)}if(node.id!==0){var path=this._path("icap_website_page_delete",{
pageId:node.id});var q=this._request("delete",path).then(function(){return _this._resolve(node)},function(data){parent.children.splice(index,0,node);return _this._reject(data)});return q}}},{key:"moveNode",value:function moveNode(node,oldParent,newParent,oldIndex,newIndex){var _this2=this;var previousSiblingId=0;if(newIndex>0){previousSiblingId=newParent.children[newIndex-1].id}node.parent=newParent;var path=this._path("icap_website_page_move",{pageId:node.id,newParentId:newParent.id,previousSiblingId:previousSiblingId});var q=this._request("put",path).then(function(data){return _this2._resolve(data)},function(data){_this2._cancelMove(node,oldParent,newParent,oldIndex,newIndex);return _this2._reject(data)});return q}},{key:"saveNode",value:function saveNode(node){if(node.new){return this.createNode(node)}else{return this.updateNode(node)}}},{key:"createNode",value:function createNode(node){var _this3=this;node.new=false;var path=this._path("icap_website_page_post",{parentPageId:node.parent.id});var q=this._request("post",path,this._jsonNode(node)).then(function(data){node.id=data.id;return _this3._resolve(node)},function(){return _this3._reject(node)});return q}},{key:"updateNode",value:function updateNode(node){var _this4=this;node.saving=true;var path=this._path("icap_website_page_put",{pageId:node.id});var q=this._request("put",path,this._jsonNode(node)).then(function(){node.saving=false;return _this4._resolve(node)},function(){node.saving=false;return _this4._reject(node)});return q}},{key:"setHomepage",value:function setHomepage(newHomepage,oldHomepage){var _this5=this;var path=this._path("icap_website_page_set_homepage",{pageId:newHomepage.id});var q=this._request("put",path).then(function(){if(oldHomepage!=null)oldHomepage.isHomepage=false;newHomepage.isHomepage=true;return _this5._resolve(newHomepage)},function(data){newHomepage.isHomepage=false;if(oldHomepage!=null)oldHomepage.isHomepage=true;return _this5._reject(data)});return q}},{key:"copyNodeInfo",value:function copyNodeInfo(node){return this._jsonNode(node)}},{key:"_jsonNode",value:function _jsonNode(node){return this._pick(node,["title","description","visible","isSection","type","richText","url","target","resourceNode","resourceNodeType"])}},{key:"_pick",value:function _pick(node,props){var obj={};var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=(0,_getIterator3.default)(props),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var prop=_step.value;obj[prop]=node[prop]}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return obj}},{key:"_path",value:function _path(name){var params=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!params["websiteId"]){params["websiteId"]=this.websiteId}return window.Routing.generate(name,params)}},{key:"_cancelMove",value:function _cancelMove(node,oldParent,newParent,oldIndex,newIndex){newParent.children.splice(newIndex,1);oldParent.children.splice(oldIndex,0,node);node.parent=oldParent}},{key:"_request",value:function _request(method,path){var _this6=this;var data=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var config=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};return _$http.get(this)({method:method,url:path,data:data,config:config}).then(function(response){if((0,_typeof3.default)(response.data)==="object"){return _this6._resolve(response.data)}else{return _this6._reject(response.data)}},function(response){return _this6._reject(response.data)})}},{key:"_reject",value:function _reject(data){return _$q.get(this).reject(data)}},{key:"_resolve",value:function _resolve(data){return _$q.get(this).resolve(data)}},{key:"emptyNode",get:function get(){return{id:0,title:"",description:"",visible:true,isSection:false,type:"blank",richText:null,url:null,resourceNode:null,resourceNodeType:null,isHomepage:false,target:0,children:[],new:true}}}]);return WebtreeService}();exports.default=WebtreeService;WebtreeService.$inject=["$http","$q","website.data"]},1936:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _getOwnPropertyNames=__webpack_require__(276);var _getOwnPropertyNames2=_interopRequireDefault(_getOwnPropertyNames);var _getIterator2=__webpack_require__(557);var _getIterator3=_interopRequireDefault(_getIterator2);var _keys=__webpack_require__(179);var _keys2=_interopRequireDefault(_keys);var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _tinymce=new _weakMap2.default;var tinyMceConfig=function(){function tinyMceConfig(){(0,_classCallCheck3.default)(this,tinyMceConfig);_tinymce.set(this,window.tinymce);_tinymce.get(this).claroline.init=_tinymce.get(this).claroline.init||{};_tinymce.get(this).claroline.plugins=_tinymce.get(this).claroline.plugins||{};this._setFromTinymceConfiguration();this._setPluginsToolbarAndFormat();this.autosave_ask_before_unload=false;this.setup=function(){}}(0,_createClass3.default)(tinyMceConfig,[{key:"_setPluginsToolbarAndFormat",value:function _setPluginsToolbarAndFormat(){var plugins=["autoresize advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars fullscreen","insertdatetime media nonbreaking save table directionality","template paste textcolor emoticons code -accordion -mention -codemirror"];var toolbar1="bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | fullscreen displayAllButtons";var tinyPlugins=_tinymce.get(this).claroline.plugins;(0,_keys2.default)(tinyPlugins).forEach(function(key){var value=tinyPlugins[key];if("autosave"!=key&&value===true){plugins.push(key);toolbar1+=" "+key}});this.plugins=plugins;this.toolbar1=toolbar1}},{key:"_setFromTinymceConfiguration",value:function _setFromTinymceConfiguration(){var config=_tinymce.get(this).claroline.configuration;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=(0,_getIterator3.default)((0,_getOwnPropertyNames2.default)(config)),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var prop=_step.value;this[prop]=config[prop]}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}}]);return tinyMceConfig}();exports.default=tinyMceConfig},1937:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var EditAppConfig=function(){function EditAppConfig(){(0,_classCallCheck3.default)(this,EditAppConfig)}(0,_createClass3.default)(EditAppConfig,null,[{key:"config",value:function config($routeProvider,routeHelperConfigProvider){routeHelperConfigProvider.config={$routeProvider:$routeProvider,resolveAlways:{ready:function ready(){return true}},defaultPath:"/structure",rootChangeSuccess:function rootChangeSuccess($rootScope,current){$rootScope.optionWindow=current.option}}}},{key:"run",value:function run($rootScope,routeHelper,requestHandler,websiteData){$rootScope.pageLoaded=true;$rootScope.optionWindow=websiteData.optionTabs[0];routeHelper.configureRoutes(EditAppConfig.getRoutes(websiteData));requestHandler.onRequestSuccess($rootScope,EditAppConfig.requestSuccessHandler);requestHandler.onRequestError($rootScope,EditAppConfig.requestErrorHandler)}},{key:"getRoutes",value:function getRoutes(websiteData){var routes=[];for(var i=0;i<websiteData.optionTabs.length;i++){var option=websiteData.optionTabs[i];routes.push({url:"/"+option,config:{option:option}})}return routes}},{key:"requestSuccessHandler",value:function requestSuccessHandler(response){if(response.config.url.indexOf(".partial")==-1&&response.config.url.indexOf(".tpl")==-1&&response.config.url.indexOf("template")==-1){response.alert.new({title:window.Translator.trans("success",{},"icap_website"),content:window.Translator.trans("success_message",{},"icap_website"),type:"success",duration:3e3})}}},{key:"requestErrorHandler",value:function requestErrorHandler(rejection){var statusCode=rejection.status;if(statusCode!=511&&statusCode!=401&&statusCode!=417)statusCode=500;rejection.alert.new({title:window.Translator.trans("error",{},"icap_website"),content:window.Translator.trans("error_"+statusCode,{},"icap_website"),type:"danger",duration:5e3})}}]);return EditAppConfig}();exports.default=EditAppConfig;EditAppConfig.config.$inject=["$routeProvider","routeHelperConfigProvider"];EditAppConfig.run.$inject=["$rootScope","routeHelper","requestHandler","website.data"]},1938:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _getIterator2=__webpack_require__(557);var _getIterator3=_interopRequireDefault(_getIterator2);var _assign=__webpack_require__(815);var _assign2=_interopRequireDefault(_assign);var _typeof2=__webpack_require__(34);var _typeof3=_interopRequireDefault(_typeof2);var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _weakMap=__webpack_require__(254);var _weakMap2=_interopRequireDefault(_weakMap);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _$http=new _weakMap2.default;var _$q=new _weakMap2.default;var _upload=new _weakMap2.default;var _utilities=new _weakMap2.default;var websiteOptions=function(){function websiteOptions($http,$q,upload,utilityFunctions,websiteData){(0,_classCallCheck3.default)(this,websiteOptions);_$http.set(this,$http);_$q.set(this,$q);_upload.set(this,upload);_utilities.set(this,utilityFunctions);this.data=websiteData.options;this.bannerEditorActive=false;this.footerEditorActive=false;this.isFullScreen=this.data.totalWidth==0||this.data.totalWidth==null;this.bgImagePath=null;this.bannerBgImagePath=null;this.bgImagePath=null;this.bannerBgImagePath=null;this.footerBgImagePath=null;this.bgImageChoice="upload";this.bannerBgImageChoice="upload";this.footerBgImageChoice="upload";this.bgImageRepeat={x:false,y:false};this.bannerBgImageRepeat={x:false,y:false};this.footerBgImageRepeat={x:false,y:false};this.websiteId=websiteData.id;this.basePath=websiteData.basePath;if(this.data.analyticsProvider==null||this.data.analyticsProvider=="")this.data.analyticsProvider="none";if(this.isFullScreen)this.data.totalWidth=800;this._initializeRepeatVars("bg");this._initializeRepeatVars("bannerBg");this._initializeRepeatVars("footerBg")}(0,_createClass3.default)(websiteOptions,[{key:"save",value:function save(){var _this=this;return _$http.get(this).put(window.Routing.generate("icap_website_options_update",{websiteId:this.websiteId}),this._jsonOptions()).then(function(response){if((0,_typeof3.default)(response.data)==="object"){return response.data}else{return _$q.get(_this).reject(response.data)}},function(response){return _$q.get(_this).reject(response.data)})}},{key:"getImageStyleText",value:function getImageStyleText(imageStr){if(_utilities.get(this).isNotBlank(this.data[imageStr])){var imageURL=this.data[imageStr];if(!_utilities.get(this).validURL(imageURL)){imageURL=this.basePath+imageURL}return'url("'+imageURL+'")'}else{return"none"}}},{key:"uploadImage",value:function uploadImage($file,imageStr){var _this2=this;return _upload.get(this).upload({url:window.Routing.generate("icap_website_options_image_upload",{websiteId:this.websiteId,imageStr:imageStr}),method:"POST",data:{imageFile:$file}}).success(function(response){_this2.data[imageStr]=response[imageStr];return response}).error(function(response){return _$q.get(_this2).reject(response)})}},{key:"updateImagePath",value:function updateImagePath(newPath,imageStr){var _this3=this;return _$http.get(this).put(window.Routing.generate("icap_website_options_image_update",{websiteId:this.websiteId,imageStr:imageStr}),{newPath:newPath}).then(function(response){if((0,_typeof3.default)(response.data)==="object"){_this3.data[imageStr]=response.data[imageStr];return response}else{return _$q.get(_this3).reject(response)}},function(response){return _$q.get(_this3).reject(response)})}},{key:"toggleBold",value:function toggleBold(){if(this.data.menuFontWeight=="bold")this.data.menuFontWeight="normal";else this.data.menuFontWeight="bold"}},{key:"toggleItalic",value:function toggleItalic(){if(this.data.menuFontStyle=="italic")this.data.menuFontStyle="normal";else this.data.menuFontStyle="italic"}},{key:"toggleFullScreen",value:function toggleFullScreen(){if(this.isFullScreen)this.isFullScreen=false;else this.isFullScreen=true}},{key:"_initializeRepeatVars",value:function _initializeRepeatVars(str){var repeat=this.data[str+"Repeat"];if(repeat=="repeat"){this[str+"ImageRepeat"]["x"]=true;this[str+"ImageRepeat"]["y"]=true}else if(repeat=="repeat-x"){this[str+"ImageRepeat"]["x"]=true;this[str+"ImageRepeat"]["y"]=false}else if(repeat=="repeat-y"){this[str+"ImageRepeat"]["x"]=false;this[str+"ImageRepeat"]["y"]=true}}},{key:"repeatChanged",value:function repeatChanged(str){var x=this[str+"ImageRepeat"]["x"];var y=this[str+"ImageRepeat"]["y"];if(x&&y){this.data[str+"Repeat"]="repeat"}else if(!x&&!y){this.data[str+"Repeat"]="no-repeat"}else if(x&&!y){this.data[str+"Repeat"]="repeat-x"}else if(!x&&y){this.data[str+"Repeat"]="repeat-y"}}},{key:"isBgPositionButtonActive",value:function isBgPositionButtonActive(bgStr,position){var currentPosition=this.data[bgStr+"Position"];var currentRepeat=this.data[bgStr+"Repeat"];if(position==currentPosition||currentRepeat=="repeat")return true;else if(currentRepeat=="repeat-x"){if(position.split(" ")[1]==currentPosition.split(" ")[1])return true}else if(currentRepeat=="repeat-y"){if(position.split(" ")[0]==currentPosition.split(" ")[0])return true}return false}},{key:"_jsonOptions",value:function _jsonOptions(){var options=this._omitOptions(["bgImage","bannerBgImage","footerBgImage"]);options.totalWidth=this.isFullScreen?0:options.totalWidth;return options}},{key:"_omitOptions",value:function _omitOptions(props){var result=(0,_assign2.default)({},this.data);var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=(0,_getIterator3.default)(props),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var prop=_step.value;delete result[prop]}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return result}}]);return websiteOptions}();exports.default=websiteOptions;websiteOptions.$inject=["$http","$q","Upload","utilityFunctions","website.data"]},1939:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _keys=__webpack_require__(179);var _keys2=_interopRequireDefault(_keys);var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var MainController=function(){function MainController($scope,websiteOptions,tinyMceConfig,websiteData){var _this=this;(0,_classCallCheck3.default)(this,MainController);this.options=websiteOptions;this.website=websiteData;this.tinymceConfig=tinyMceConfig;this.tree={};this.resourcePickerConfig={isPickerMultiSelectAllowed:false,callback:function callback(nodes){(0,_keys2.default)(nodes).forEach(function(id){var element=nodes[id];_this.tree.updateActiveNodeFromPicker(id,element);$scope.$evalAsync()})}};this.pushMenuOptions={containersToPush:null,wrapperClass:"multilevelpushmenu_wrapper",menuInactiveClass:"multilevelpushmenu_inactive",menuWidth:this.options.data.menuWidth,direction:"rtl",backItemIcon:"fa fa-angle-left",groupIcon:"fa fa-angle-right",backText:"Back",mode:"cover",overlapWidth:0,onItemClick:this.onItemClick.bind(this)};this.flexnavOptions={onItemClick:this.onItemClick.bind(this),breakpoint:800}}(0,_createClass3.default)(MainController,[{key:"saveWebsitePage",value:function saveWebsitePage(){this.tree.saveActiveNode()}},{key:"uploadImage",value:function uploadImage($files,imageStr){this.options.uploadImage($files,imageStr)}},{key:"setAsHomepage",value:function setAsHomepage(){this.tree.setActiveNodeAsHomepage()}},{key:"createNewPage",value:function createNewPage(){this.tree.createNewNode()}},{key:"onItemClick",value:function onItemClick(event,item){event.preventDefault();this.currentClickedItem=item}},{key:"updateImagePath",value:function updateImagePath(imageStr,isReset){var newPath=null;if(!isReset){newPath=this.options[imageStr+"Path"]}this.options.updateImagePath(newPath,imageStr)}},{key:"menuVerticalStyle",value:function menuVerticalStyle(){if(this.options.data.menuOrientation=="vertical"){return{"min-height":this.contentHeight+"px",width:this.options.data.menuWidth+"px","background-color":this.options.data.menuBgColor,color:this.options.data.menuFontColor,"font-size":this.options.data.menuFontSize+"px","font-family":this.options.data.menuFontFamily}}else{return{}}}},{key:"menuButtonStyle",value:function menuButtonStyle(node){var backgroundColor=this.options.data.menuBgColor;var fontColor=this.options.data.menuFontColor;if(node.isSection){backgroundColor=this.options.data.sectionBgColor;fontColor=this.options.data.sectionFontColor}return{"background-color":backgroundColor,color:fontColor,"border-color":this.options.data.menuBorderColor}}},{key:"menuResizerStyle",value:function menuResizerStyle(){if(this.options.data.menuOrientation=="vertical"){return{height:this.contentHeight+"px"}}else{return{}}}},{key:"websitePreviewStyle",value:function websitePreviewStyle(){return{"background-color":this.options.data.bgColor,"background-image":this.options.getImageStyleText("bgImage"),"background-position":this.options.data.bgPosition,"background-repeat":this.options.data.bgRepeat}}},{key:"websitePreviewInnerStyle",value:function websitePreviewInnerStyle(){var style={};if(!this.options.isFullScreen){style["width"]=this.options.data.totalWidth+"px";style["margin-left"]="auto";style["margin-right"]="auto"}return style}},{key:"currentPageUrl",get:function get(){var url="";if(this.currentClickedItem.resourceNode!=null&&this.currentClickedItem.resourceNodeType!=null){url=window.Routing.generate("claro_resource_open",{resourceType:this.currentClickedItem.resourceNodeType,node:this.currentClickedItem.resourceNode})}return url}},{key:"footerStyle",get:function get(){return{height:this.options.data.footerHeight+"px","background-color":this.options.data.footerBgColor,"background-position":this.options.data.footerBgPosition,"background-repeat":this.options.data.footerBgRepeat,"background-image":this.options.getImageStyleText("footerBgImage")}}},{key:"bannerStyle",get:function get(){return{height:this.options.data.bannerHeight+"px","background-color":this.options.data.bannerBgColor,"background-position":this.options.data.bannerBgPosition,"background-repeat":this.options.data.bannerBgRepeat,"background-image":this.options.getImageStyleText("bannerBgImage")}}}]);return MainController}();exports.default=MainController;MainController.$inject=["$scope","websiteOptions","tinyMceConfig","website.data"]}});