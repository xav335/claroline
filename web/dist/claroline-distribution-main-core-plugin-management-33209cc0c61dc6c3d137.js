webpackJsonp([6],{0:function(module,exports,__webpack_require__){"use strict";__webpack_require__(10);var _angularBootstrap=__webpack_require__(5);var _angularBootstrap2=_interopRequireDefault(_angularBootstrap);var _angularTranslation=__webpack_require__(6);var _angularTranslation2=_interopRequireDefault(_angularTranslation);var _module=__webpack_require__(237);var _module2=_interopRequireDefault(_module);var _PluginController=__webpack_require__(239);var _PluginController2=_interopRequireDefault(_PluginController);var _WarningController=__webpack_require__(242);var _WarningController2=_interopRequireDefault(_WarningController);var _PluginDirective=__webpack_require__(243);var _PluginDirective2=_interopRequireDefault(_PluginDirective);var _interceptorsDefault=__webpack_require__(89);var _interceptorsDefault2=_interopRequireDefault(_interceptorsDefault);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}angular.module("PluginManager",["ui.fos-js-router","ui.bootstrap","ui.bootstrap.tpls","ui.translation"]).controller("PluginController",["$http","$uibModal",_PluginController2.default]).controller("WarningController",_WarningController2.default).directive("pluginManager",function(){return new _PluginDirective2.default}).config(_interceptorsDefault2.default)},239:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PluginController=function(){function PluginController($http,$uibModal){var _this=this;(0,_classCallCheck3.default)(this,PluginController);this.$http=$http;this.$uibModal=$uibModal;this.plugins=[];$http.get(Routing.generate("api_get_plugins")).then(function(d){return _this.plugins=d.data})}(0,_createClass3.default)(PluginController,[{key:"onCheckboxChange",value:function onCheckboxChange(plugin){plugin.is_loaded?this.enable(plugin):this.disable(plugin)}},{key:"enable",value:function enable(plugin){var _this2=this;this.$http.patch(Routing.generate("api_enable_plugin",{plugin:plugin.id})).then(function(d){return _this2.plugins=d.data})}},{key:"disable",value:function disable(plugin){var _this3=this;this.$http.patch(Routing.generate("api_disable_plugin",{plugin:plugin.id})).then(function(d){return _this3.plugins=d.data})}},{key:"openPluginConfiguration",value:function openPluginConfiguration(plugin){var route=Routing.generate("claro_admin_plugin_parameters",{pluginShortName:plugin.bundle});window.location=route}},{key:"onCacheWarningClick",value:function onCacheWarningClick(){var modal=this.$uibModal.open({template:__webpack_require__(240)})}},{key:"onWarningClick",value:function onWarningClick(_plugin){var modal=this.$uibModal.open({template:__webpack_require__(241),controller:"WarningController",controllerAs:"cwpc",resolve:{plugin:function plugin(){return _plugin}}})}}]);return PluginController}();exports.default=PluginController},240:function(module,exports){module.exports='<div class="modal-header">\n  <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n  <h3 class="modal-title" align="center">{{ \'cache_management\'|trans:\'platform\' }}</h3>\n</div>\n<div class="modal-body">\n    {{ \'cache_management_explanation\'|trans:{}:\'platform\' }}\n</div>\n'},241:function(module,exports){module.exports='<div class="modal-header">\n  <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n  <h3 class="modal-title" align="center">{{ \'requirement_warning\'|trans:\'platform\' }}</h3>\n</div>\n<div class="modal-body">\n    <div ng-if="cwpc.plugin.required_by.length > 0">\n        <h4> {{ \'required_by\'|trans:{}:\'platform\' }} </h4>\n        <ul>\n            <li ng-repeat="(key, plugin) in cwpc.plugin.required_by"> {{ plugin }} </li>\n        </ul>\n    </div>\n    <div ng-if="cwpc.plugin.require.extension.length > 0 || cwpc.plugin.require.plugin.length > 0 || cwpc.plugin.require.extra.length > 0">\n        <h4> {{ \'require\'|trans:{}:\'platform\' }} </h4>\n        <ul>\n            <li ng-repeat="(key, requirement) in cwpc.plugin.require.extension"> php5-{{ requirement }} </li>\n            <li ng-repeat="(key, requirement) in cwpc.plugin.require.plugin"> {{ requirement }} </li>\n            <li ng-repeat="(key, requirement) in cwpc.plugin.require.extra"> {{ requirement|trans:{}:\'error\' }} </li>\n        </ul>\n    </div>\n</div>\n'},242:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var WarningController=function WarningController(plugin){(0,_classCallCheck3.default)(this,WarningController);this.plugin=plugin};exports.default=WarningController},243:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _PluginController=__webpack_require__(239);var _PluginController2=_interopRequireDefault(_PluginController);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var ClarolineSearchDirective=function ClarolineSearchDirective(){(0,_classCallCheck3.default)(this,ClarolineSearchDirective);this.scope={};this.restrict="E";this.template=__webpack_require__(244);this.replace=false;this.controller=_PluginController2.default;this.controllerAs="cpc"};exports.default=ClarolineSearchDirective},244:function(module,exports){module.exports='<div>\n    <div class="panel">\n        <button class="btn btn-warning" ng-click="cpc.onCacheWarningClick()"> <i class="fa fa-warning"> {{ \'cache_management\'|trans:{}:\'platform\' }} </i></button>\n    </div>\n    <table class="table">\n        <tr>\n            <td> {{ \'activate\'|trans:{}: \'platform\' }} </td>\n            <td> {{ \'name\'|trans:{}: \'platform\'}} </td>\n            <td> {{ \'version\'|trans:{}: \'platform\'}} </td>\n            <td> {{ \'origin\'|trans:{}: \'platform\' }} </td>\n            <td> {{ \'actions\'|trans:{}: \'platform\' }} </td>\n        </tr>\n        <tr ng-repeat="(key, plugin) in cpc.plugins" ng-class="{\'danger\': !plugin.is_ready, \'warning\': plugin.is_locked}">\n        \t<td>\n                <input type="checkbox"\n                    ng-model="plugin.is_loaded"\n                    ng-checked="plugin.is_loaded"\n                    ng-disabled="!plugin.is_ready || plugin.is_locked"\n                    ng-change="cpc.onCheckboxChange(plugin)">\n                </input>\n            </td>\n            <td> {{ plugin.name }} </td>\n            <td> {{ plugin.version }} </td>\n            <td> {{ plugin.origin }} </td>\n            <td>\n                <button class="btn btn-default" ng-disabled="true" ><i class="fa fa-download"></i></button>\n                <button class="btn btn-default" ng-disabled="plugin.description !== null"><i class="fa fa-info-circle"></i></button>\n                <button class="btn btn-default" ng-disabled="!plugin.has_options" ng-click="cpc.openPluginConfiguration(plugin)"><i class="fa fa-cog"></i></button>\n                <button class="btn btn-default" ng-if="!plugin.is_ready || plugin.is_locked" ng-click="cpc.onWarningClick(plugin)"><i class="fa fa-warning"></i></button>\n            </td>\n        </tr>\n    </table>\n</div>\n'}});