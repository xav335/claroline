webpackJsonp([20],{0:function(module,exports,__webpack_require__){"use strict";var _index=__webpack_require__(1);var _index2=_interopRequireDefault(_index);__webpack_require__(4);__webpack_require__(5);__webpack_require__(246);__webpack_require__(6);__webpack_require__(223);__webpack_require__(247);__webpack_require__(237);__webpack_require__(672);__webpack_require__(683);__webpack_require__(692);__webpack_require__(708);__webpack_require__(721);var _routing=__webpack_require__(725);var _routing2=_interopRequireDefault(_routing);var _RootCursusManagementCtrl=__webpack_require__(738);var _RootCursusManagementCtrl2=_interopRequireDefault(_RootCursusManagementCtrl);var _CursusManagementCtrl=__webpack_require__(739);var _CursusManagementCtrl2=_interopRequireDefault(_CursusManagementCtrl);var _CoursesManagementCtrl=__webpack_require__(740);var _CoursesManagementCtrl2=_interopRequireDefault(_CoursesManagementCtrl);var _CourseManagementCtrl=__webpack_require__(741);var _CourseManagementCtrl2=_interopRequireDefault(_CourseManagementCtrl);var _SessionsManagementCtrl=__webpack_require__(742);var _SessionsManagementCtrl2=_interopRequireDefault(_SessionsManagementCtrl);var _SessionManagementCtrl=__webpack_require__(744);var _SessionManagementCtrl2=_interopRequireDefault(_SessionManagementCtrl);var _SessionEventManagementCtrl=__webpack_require__(745);var _SessionEventManagementCtrl2=_interopRequireDefault(_SessionEventManagementCtrl);var _SessionCreationCoursesListModalCtrl=__webpack_require__(746);var _SessionCreationCoursesListModalCtrl2=_interopRequireDefault(_SessionCreationCoursesListModalCtrl);var _GeneralParametersCtrl=__webpack_require__(747);var _GeneralParametersCtrl2=_interopRequireDefault(_GeneralParametersCtrl);var _LocationsManagementCtrl=__webpack_require__(748);var _LocationsManagementCtrl2=_interopRequireDefault(_LocationsManagementCtrl);var _DocumentModelsManagementCtrl=__webpack_require__(750);var _DocumentModelsManagementCtrl2=_interopRequireDefault(_DocumentModelsManagementCtrl);var _DocumentModelCreationCtrl=__webpack_require__(751);var _DocumentModelCreationCtrl2=_interopRequireDefault(_DocumentModelCreationCtrl);var _DocumentModelEditionCtrl=__webpack_require__(752);var _DocumentModelEditionCtrl2=_interopRequireDefault(_DocumentModelEditionCtrl);var _LocationCreationModalCtrl=__webpack_require__(753);var _LocationCreationModalCtrl2=_interopRequireDefault(_LocationCreationModalCtrl);var _LocationEditionModalCtrl=__webpack_require__(754);var _LocationEditionModalCtrl2=_interopRequireDefault(_LocationEditionModalCtrl);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_index2.default.module("CursusManagementModule",["ui.router","ui.translation","ui.bootstrap","ui.bootstrap.tpls","ngAnimate","ncy-angular-breadcrumb","angular-loading-bar","ngTable","ui.fos-js-router","CursusModule","CourseModule","SessionModule","SessionEventModule","DocumentModelModule"]).controller("RootCursusManagementCtrl",["CursusService",_RootCursusManagementCtrl2.default]).controller("CursusManagementCtrl",["$stateParams","CursusService",_CursusManagementCtrl2.default]).controller("CoursesManagementCtrl",["NgTableParams","CourseService","SessionService",_CoursesManagementCtrl2.default]).controller("CourseManagementCtrl",["$stateParams","NgTableParams","CourseService","SessionService","DocumentModelService",_CourseManagementCtrl2.default]).controller("SessionsManagementCtrl",["$uibModal","NgTableParams","SessionService","SessionEventService",_SessionsManagementCtrl2.default]).controller("SessionManagementCtrl",["$stateParams","NgTableParams","CourseService","SessionService","SessionEventService","DocumentModelService",_SessionManagementCtrl2.default]).controller("SessionEventManagementCtrl",["$stateParams","NgTableParams","CourseService","SessionService","SessionEventService","DocumentModelService",_SessionEventManagementCtrl2.default]).controller("GeneralParametersCtrl",["$state","CourseService",_GeneralParametersCtrl2.default]).controller("LocationsManagementCtrl",["$http","$uibModal","NgTableParams","ClarolineAPIService",_LocationsManagementCtrl2.default]).controller("DocumentModelsManagementCtrl",["NgTableParams","CourseService","DocumentModelService",_DocumentModelsManagementCtrl2.default]).controller("DocumentModelCreationCtrl",["$http","$state","CourseService",_DocumentModelCreationCtrl2.default]).controller("DocumentModelEditionCtrl",["$http","$stateParams","$state","CourseService","DocumentModelService",_DocumentModelEditionCtrl2.default]).controller("SessionCreationCoursesListModalCtrl",_SessionCreationCoursesListModalCtrl2.default).controller("LocationCreationModalCtrl",_LocationCreationModalCtrl2.default).controller("LocationEditionModalCtrl",_LocationEditionModalCtrl2.default).config(_routing2.default).config(["cfpLoadingBarProvider",function configureLoadingBar(cfpLoadingBarProvider){cfpLoadingBarProvider.latencyThreshold=200;cfpLoadingBarProvider.includeBar=true;cfpLoadingBarProvider.includeSpinner=true}])},223:function(module,exports,__webpack_require__){module.exports=__webpack_require__(3)(40)},672:function(module,exports,__webpack_require__){"use strict";var _index=__webpack_require__(1);var _index2=_interopRequireDefault(_index);__webpack_require__(5);__webpack_require__(8);__webpack_require__(6);__webpack_require__(9);__webpack_require__(149);var _CursusService=__webpack_require__(673);var _CursusService2=_interopRequireDefault(_CursusService);var _CursusCreationModalCtrl=__webpack_require__(678);var _CursusCreationModalCtrl2=_interopRequireDefault(_CursusCreationModalCtrl);var _CursusEditionModalCtrl=__webpack_require__(679);var _CursusEditionModalCtrl2=_interopRequireDefault(_CursusEditionModalCtrl);var _CursusImportModalCtrl=__webpack_require__(680);var _CursusImportModalCtrl2=_interopRequireDefault(_CursusImportModalCtrl);var _CursusHierarchyModalCtrl=__webpack_require__(681);var _CursusHierarchyModalCtrl2=_interopRequireDefault(_CursusHierarchyModalCtrl);var _CursusCourseSelectionModalCtrl=__webpack_require__(682);var _CursusCourseSelectionModalCtrl2=_interopRequireDefault(_CursusCourseSelectionModalCtrl);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_index2.default.module("CursusModule",["ui.bootstrap","ui.bootstrap.tpls","colorpicker.module","ui.translation","ClarolineAPI","FormBuilder"]).service("CursusService",_CursusService2.default).controller("CursusCreationModalCtrl",_CursusCreationModalCtrl2.default).controller("CursusEditionModalCtrl",_CursusEditionModalCtrl2.default).controller("CursusImportModalCtrl",_CursusImportModalCtrl2.default).controller("CursusHierarchyModalCtrl",_CursusHierarchyModalCtrl2.default).controller("CursusCourseSelectionModalCtrl",_CursusCourseSelectionModalCtrl2.default)},673:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _index=__webpack_require__(1);var _index2=_interopRequireDefault(_index);var _cursus_form_modal=__webpack_require__(674);var _cursus_form_modal2=_interopRequireDefault(_cursus_form_modal);var _cursus_course_selection_modal=__webpack_require__(675);var _cursus_course_selection_modal2=_interopRequireDefault(_cursus_course_selection_modal);var _cursus_hierarchy_modal=__webpack_require__(676);var _cursus_hierarchy_modal2=_interopRequireDefault(_cursus_hierarchy_modal);var _cursus_import_form=__webpack_require__(677);var _cursus_import_form2=_interopRequireDefault(_cursus_import_form);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CursusService=function(){function CursusService($http,$uibModal,ClarolineAPIService,CourseService){(0,_classCallCheck3.default)(this,CursusService);this.$http=$http;this.$uibModal=$uibModal;this.ClarolineAPIService=ClarolineAPIService;this.CourseService=CourseService;this.cursus=[];this.hierarchy={};this.rootCursusId=null;this.initialized=false;this._addCursusCallback=this._addCursusCallback.bind(this);this._updateCursusCallback=this._updateCursusCallback.bind(this);this._removeCursusCallback=this._removeCursusCallback.bind(this)}(0,_createClass3.default)(CursusService,[{key:"_addCursusCallback",value:function _addCursusCallback(data){var _this=this;var cursusJson=JSON.parse(data);if(Array.isArray(cursusJson)){cursusJson.forEach(function(c){_this.cursus.push(c);_this.addCursusToHierarchy(c)})}else{this.cursus.push(cursusJson);this.addCursusToHierarchy(cursusJson)}}},{key:"_updateCursusCallback",value:function _updateCursusCallback(data){var cursusJson=JSON.parse(data);var cursusIndex=this.cursus.findIndex(function(c){return c["id"]===cursusJson["id"]});if(cursusIndex>-1){this.cursus[cursusIndex]=cursusJson}var parentId=cursusJson["parentId"]?cursusJson["parentId"]:"root";var hierarchyIndex=this.hierarchy[parentId].findIndex(function(c){return c["id"]===cursusJson["id"]});if(hierarchyIndex>-1){this.hierarchy[parentId][hierarchyIndex]=cursusJson}}},{key:"_removeCursusCallback",value:function _removeCursusCallback(data){var cursusJson=JSON.parse(data);var index=this.cursus.findIndex(function(c){return c["id"]===cursusJson["id"]});if(index>-1){this.cursus.splice(index,1)}var parentId=cursusJson["parentId"]?cursusJson["parentId"]:"root";var hierarchyIndex=this.hierarchy[parentId].findIndex(function(c){return c["id"]===cursusJson["id"]});if(hierarchyIndex>-1){this.hierarchy[parentId].splice(hierarchyIndex,1)}}},{key:"getCursus",value:function getCursus(){return this.cursus}},{key:"getHierarchy",value:function getHierarchy(){return this.hierarchy}},{key:"initialize",value:function initialize(){var _this2=this;var cursusId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(this.initialized&&cursusId===this.rootCursusId){return null}else{this.cursus.splice(0,this.cursus.length);var route=cursusId===null?Routing.generate("api_get_all_root_cursus"):Routing.generate("api_get_one_cursus",{cursus:cursusId});return this.$http.get(route).then(function(d){if(d["status"]===200){_index2.default.merge(_this2.cursus,d["data"]);_this2.rootCursusId=cursusId;_this2.initializeHierarchy();_this2.initialized=true;return"initialized"}})}}},{key:"initializeHierarchy",value:function initializeHierarchy(){for(var key in this.hierarchy){delete this.hierarchy[key]}this.generateHierarchy(this.cursus)}},{key:"generateHierarchy",value:function generateHierarchy(cursusList){var _this3=this;cursusList.forEach(function(c){var index=c["parentId"]?c["parentId"]:"root";if(!_this3.hierarchy[index]){_this3.hierarchy[index]=[]}_this3.hierarchy[index].push(c);if(c["children"]){_this3.generateHierarchy(c["children"])}})}},{key:"createCursus",value:function createCursus(){var _cursusId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var addCallback=callback!==null?callback:this._addCursusCallback;this.$uibModal.open({template:_cursus_form_modal2.default,controller:"CursusCreationModalCtrl",controllerAs:"cmc",resolve:{title:function title(){return Translator.trans("cursus_creation",{},"cursus")},cursusId:function cursusId(){return _cursusId},callback:function callback(){return addCallback}}})}},{key:"editCursus",value:function editCursus(_cursus){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var updateCallback=callback!==null?callback:this._updateCursusCallback;this.$uibModal.open({template:_cursus_form_modal2.default,controller:"CursusEditionModalCtrl",controllerAs:"cmc",resolve:{title:function title(){return Translator.trans("cursus_edition",{},"cursus")},cursus:function cursus(){return _cursus},callback:function callback(){return updateCallback}}})}},{key:"deleteCursus",value:function deleteCursus(cursusId){var url=Routing.generate("api_delete_cursus",{cursus:cursusId});this.ClarolineAPIService.confirm({url:url,method:"DELETE"},this._removeCursusCallback,Translator.trans("delete_cursus",{},"cursus"),Translator.trans("delete_cursus_confirm_message",{},"cursus"))}},{key:"importCursus",value:function importCursus(){var _this4=this;this.$uibModal.open({template:_cursus_import_form2.default,controller:"CursusImportModalCtrl",controllerAs:"cmc",resolve:{callback:function callback(){return _this4._addCursusCallback}}})}},{key:"viewRootCursus",value:function viewRootCursus(cursusId){var _this5=this;var index=this.cursus.findIndex(function(c){return c["id"]===cursusId});if(index>-1){this.$uibModal.open({template:_cursus_hierarchy_modal2.default,controller:"CursusHierarchyModalCtrl",controllerAs:"cmc",resolve:{title:function title(){return _this5.cursus[index]["title"]},cursus:function cursus(){return[_this5.cursus[index]]},hierarchy:function hierarchy(){return _this5.hierarchy}}})}}},{key:"addCursusToHierarchy",value:function addCursusToHierarchy(cursus){var index=cursus["parentId"]?cursus["parentId"]:"root";if(!this.hierarchy[index]){this.hierarchy[index]=[]}this.hierarchy[index].push(cursus)}},{key:"createCursusCourse",value:function createCursusCourse(cursusId){this.CourseService.createCourse(cursusId,this._addCursusCallback)}},{key:"showCoursesListForCursus",value:function showCoursesListForCursus(_cursusId2,_title){this.$uibModal.open({template:_cursus_course_selection_modal2.default,controller:"CursusCourseSelectionModalCtrl",controllerAs:"cmc",resolve:{cursusId:function cursusId(){return _cursusId2},title:function title(){return _title}}})}},{key:"addCourseToCursus",value:function addCourseToCursus(cursusId,courseId){var _this6=this;var callback=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var route=Routing.generate("api_post_cursus_course_add",{cursus:cursusId,course:courseId});this.$http.post(route).then(function(d){if(d["status"]===200){_this6._addCursusCallback(d["data"]);var cursusJson=JSON.parse(d["data"]);cursusJson.forEach(function(c){if(c["course"]){if(callback===null){_this6.CourseService.removeCourse(c["course"]["id"])}else{callback(c["course"]["id"])}}})}})}},{key:"removeCourseFromCursus",value:function removeCourseFromCursus(cursusId){var url=Routing.generate("api_delete_cursus",{cursus:cursusId});this.ClarolineAPIService.confirm({url:url,method:"DELETE"},this._removeCursusCallback,Translator.trans("remove_course",{},"cursus"),Translator.trans("remove_course_confirm_message",{},"cursus"))}},{key:"getRootCursus",value:function getRootCursus(){var url=Routing.generate("api_get_root_cursus");return this.$http.get(url).then(function(d){if(d["status"]===200){return d["data"]}})}}]);return CursusService}();exports.default=CursusService},674:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h3>{{ cmc.title }}</h3>\n    </div>\n    <div class="modal-body">\n        <div class="form-group row" ng-class="cmc.cursusErrors[\'title\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'title\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.cursus[\'title\']">\n                <div class="help-block field-error" ng-if="cmc.cursusErrors[\'title\']">\n                    {{ cmc.cursusErrors[\'title\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.cursusErrors[\'code\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'code\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.cursus[\'code\']">\n                <div class="help-block field-error" ng-if="cmc.cursusErrors[\'code\']">\n                    {{ cmc.cursusErrors[\'code\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'description\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <textarea data-ui-tinymce="cmc.tinymceOptions"\n                          data-before-unload="off"\n                          id="cursus-description"\n                          class="form-control"\n                          ng-model="cmc.cursus[\'description\']"\n                >\n                </textarea>\n            </div>\n        </div>\n        <form-field field="[\'icon\', \'file\']" ng-model="cmc.cursus[\'icon\']">\n        </form-field>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'workspace\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <select class="form-control" ng-model="cmc.workspace" ng-options="w[\'name\'] for w in cmc.workspaces">\n                    <option></option>\n                </select>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'blocking\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="checkbox" ng-model="cmc.cursus[\'blocking\']">\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'color\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input colorpicker="hex" type="text" class="form-control" ng-model="cmc.cursus[\'color\']">\n            </div>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'cancel\'|trans:{}:\'platform\' }}\n        </button>\n        <button type="submit" class="btn btn-primary" ng-click="cmc.submit()">\n            {{ \'ok\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},675:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button class="close" ng-click="$close()">x</button>\n        <h3 class="modal-title">\n            {{ cmc.title }}\n        </h3>\n    </div>\n    <div class="modal-body">\n        <div ng-if="cmc.isInitialized() && cmc.courses.length > 0">\n            <div class="table-responsive">\n                <table ng-table="cmc.tableParams" class="table table-striped table-bordered table-condensed" show-filter="true">\n                    <tr ng-repeat="course in $data">\n                        <td title="\'title\'|trans:{}:\'platform\'" filter="{title: \'text\'}" sortable="\'title\'">\n                            {{ course[\'title\'] }}\n                        </td>\n                        <td class="text-center" title="\'code\'|trans:{}:\'platform\'" filter="{code: \'text\'}" sortable="\'code\'">\n                            {{ course[\'code\'] }}\n                        </td>\n                        <td class="text-center">\n                            <button class="btn btn-primary btn-sm" ng-click="cmc.addCourseToCursus(course[\'id\'])">\n                                {{ \'add_course\'|trans:{}:\'cursus\' }}\n                            </button>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </div>\n        <div class="alert alert-warning" ng-if="cmc.isInitialized() && cmc.courses.length === 0">\n            {{ \'no_course\'|trans:{}:\'cursus\' }}\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" ng-click="$close()">\n            {{ \'close\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>'},676:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button class="close" ng-click="$close()">x</button>\n        <h3 class="modal-title">\n            {{ cmc.title }}\n        </h3>\n    </div>\n    <div class="modal-body">\n        <div>\n            <script type="text/ng-template" id="cursus_nodes_renderer.html">\n                <div class="cursus-element" ng-if="!cursus.course">\n                    <span ng-class="cmc.hierarchy[cursus.id].length > 0 ? \'pointer-hand\' : \'\'"\n                          data-toggle="collapse"\n                          href="#collapse-{{ cursus.id }}"\n                    >\n                        {{ cursus.title }}\n                    </span>\n                    <span ng-if="cursus.blocking">\n                        &nbsp;\n                        <i class="fa fa-lock"></i>\n                    </span>\n                    <span ng-if="cmc.hierarchy[cursus.id].length > 0">\n                        &nbsp;\n                        <i class="fa fa-caret-down pointer-hand"\n                           data-toggle="collapse"\n                           href="#collapse-{{ cursus.id }}"\n                        ></i>\n                    </span>\n                </div>\n                <span ng-if="cursus.course">\n                    <span class="label label-primary" style="white-space: normal;">\n                        {{ cursus.course.title }}\n                    </span>\n                </span>\n                <ul ng-if="cmc.hierarchy[cursus.id].length > 0" id="collapse-{{ cursus.id }}" class="collapse in">\n                    <li ng-repeat="cursus in cmc.hierarchy[cursus.id]" ng-include="\'cursus_nodes_renderer.html\'">\n                    </li>\n                </ul>\n            </script>\n            <div ng-repeat="cursus in cmc.cursus" ng-include="\'cursus_nodes_renderer.html\'">\n            </div>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" ng-click="$close()">\n            {{ \'close\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>'},677:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h4>{{ \'cursus_import\'|trans:{}:\'cursus\' }}</h4>\n    </div>\n    <form id="cursus-import-form" method="post" enctype="multipart/form-data" ng-submit="cmc.submit()">\n        <div class="modal-body">\n            <div class="alert alert-danger" ng-if="cmc.errorMsg">\n                {{ cmc.errorMsg }}\n            </div>\n            <div>\n                <form-field field="[\'archive\', \'file\', {label: \'file\'}]" ng-model="cmc.file"></form-field>\n            </div>\n        </div>\n        <div class="modal-footer">\n            <a href="" class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n                {{ \'cancel\'|trans:{}:\'platform\' }}\n            </a>\n            <button type="submit" class="btn btn-primary">\n                {{ \'ok\'|trans:{}:\'platform\' }}\n            </button>\n        </div>\n    </form>\n</div>\n'},678:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CursusCreationModalCtrl=function(){function CursusCreationModalCtrl($http,$uibModalInstance,FormBuilderService,CourseService,title,cursusId,callback){(0,_classCallCheck3.default)(this,CursusCreationModalCtrl);this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.FormBuilderService=FormBuilderService;this.title=title;this.cursusId=cursusId;this.callback=callback;this.cursus={title:null,code:null,description:"",icon:"",workspace:null,blocking:false,color:""};this.cursusErrors={title:null,code:null};this.tinymceOptions=CourseService.getTinymceConfiguration();this.workspaces=[];this.workspace=null;this.initializeCursus()}(0,_createClass3.default)(CursusCreationModalCtrl,[{key:"initializeCursus",value:function initializeCursus(){var _this=this;var url=Routing.generate("api_get_workspaces");this.$http.get(url).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);datas.forEach(function(w){return _this.workspaces.push(w)})}})}},{key:"submit",value:function submit(){var _this2=this;this.resetErrors();if(!this.cursus["title"]){this.cursusErrors["title"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.cursusErrors["title"]=null}if(!this.cursus["code"]){this.cursusErrors["code"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.cursusErrors["code"]=null}if(this.workspace){this.cursus["workspace"]=this.workspace["id"]}else{this.cursus["workspace"]=null}if(this.isValid()){var checkCodeUrl=Routing.generate("api_get_cursus_by_code_without_id",{code:this.cursus["code"]});this.$http.get(checkCodeUrl).then(function(d){if(d["status"]===200){if(d["data"]==="null"){var url=_this2.cursusId===null?Routing.generate("api_post_cursus_creation"):Routing.generate("api_post_cursus_child_creation",{parent:_this2.cursusId});_this2.FormBuilderService.submit(url,{cursusDatas:_this2.cursus}).then(function(d){_this2.callback(d["data"]);_this2.$uibModalInstance.close()})}else{_this2.cursusErrors["code"]=Translator.trans("form_not_unique_error",{},"cursus")}}})}}},{key:"resetErrors",value:function resetErrors(){for(var key in this.cursusErrors){this.cursusErrors[key]=null}}},{key:"isValid",value:function isValid(){var valid=true;for(var key in this.cursusErrors){if(this.cursusErrors[key]){valid=false;break}}return valid}}]);return CursusCreationModalCtrl}();exports.default=CursusCreationModalCtrl},679:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CursusEditionModalCtrl=function(){function CursusEditionModalCtrl($http,$uibModalInstance,FormBuilderService,CourseService,title,cursus,callback){(0,_classCallCheck3.default)(this,CursusEditionModalCtrl);this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.FormBuilderService=FormBuilderService;this.callback=callback;this.title=title;this.source=cursus;this.cursusId=cursus["id"];this.cursus={title:null,code:null,description:"",icon:"",workspace:null,blocking:false,color:""};this.cursusErrors={title:null,code:null};this.tinymceOptions=CourseService.getTinymceConfiguration();this.workspaces=[];this.workspace=null;this.initializeCursus()}(0,_createClass3.default)(CursusEditionModalCtrl,[{key:"initializeCursus",value:function initializeCursus(){var _this=this;this.cursus["title"]=this.source["title"];this.cursus["blocking"]=this.source["blocking"];if(this.source["code"]){this.cursus["code"]=this.source["code"]}if(this.source["description"]){this.cursus["description"]=this.source["description"]}if(this.source["details"]["color"]){this.cursus["color"]=this.source["details"]["color"]}var workspacesUrl=Routing.generate("api_get_workspaces");this.$http.get(workspacesUrl).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);datas.forEach(function(w){return _this.workspaces.push(w)});if(_this.source["workspace"]){var selectedWorkspace=_this.workspaces.find(function(w){return w["id"]===_this.source["workspace"]["id"]});_this.workspace=selectedWorkspace}}})}},{key:"submit",value:function submit(){var _this2=this;this.resetErrors();if(!this.cursus["title"]){this.cursusErrors["title"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.cursusErrors["title"]=null}if(!this.cursus["code"]){this.cursusErrors["code"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.cursusErrors["code"]=null}if(this.workspace){this.cursus["workspace"]=this.workspace["id"]}else{this.cursus["workspace"]=null}if(this.isValid()){var checkCodeUrl=Routing.generate("api_get_cursus_by_code_without_id",{code:this.cursus["code"],id:this.source["id"]});this.$http.get(checkCodeUrl).then(function(d){if(d["status"]===200){if(d["data"]==="null"){var url=Routing.generate("api_put_cursus_edition",{cursus:_this2.source["id"]});_this2.FormBuilderService.submit(url,{cursusDatas:_this2.cursus}).then(function(d){_this2.callback(d["data"]);_this2.$uibModalInstance.close()})}else{_this2.cursusErrors["code"]=Translator.trans("form_not_unique_error",{},"cursus")}}})}}},{key:"resetErrors",value:function resetErrors(){for(var key in this.cursusErrors){this.cursusErrors[key]=null}}},{key:"isValid",value:function isValid(){var valid=true;for(var key in this.cursusErrors){if(this.cursusErrors[key]){valid=false;break}}return valid}}]);return CursusEditionModalCtrl}();exports.default=CursusEditionModalCtrl},680:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CursusImportModalCtrl=function(){function CursusImportModalCtrl($http,$uibModal,$uibModalInstance,callback,FormBuilderService){(0,_classCallCheck3.default)(this,CursusImportModalCtrl);this.$http=$http;this.$uibModal=$uibModal;this.$uibModalInstance=$uibModalInstance;this.callback=callback;this.file={};this.FormBuilderService=FormBuilderService;this.errorMsg=null}(0,_createClass3.default)(CursusImportModalCtrl,[{key:"submit",value:function submit(){var _this=this;this.errorMsg=null;this.FormBuilderService.submit(Routing.generate("api_post_cursus_import"),{archive:this.file}).then(function(d){_this.callback(d["data"]);_this.$uibModalInstance.close()},function(){_this.errorMsg=Translator.trans("cursus_import_error_from_file",{},"cursus")})}}]);return CursusImportModalCtrl}();exports.default=CursusImportModalCtrl},681:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CursusHierarchyModalCtrl=function CursusHierarchyModalCtrl($uibModalInstance,cursus,hierarchy,title){(0,_classCallCheck3.default)(this,CursusHierarchyModalCtrl);this.$uibModalInstance=$uibModalInstance;this.cursus=cursus;this.hierarchy=hierarchy;this.title=title};exports.default=CursusHierarchyModalCtrl},682:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CursusCourseSelectionModalCtrl=function(){function CursusCourseSelectionModalCtrl(NgTableParams,CursusService,CourseService,cursusId,title){(0,_classCallCheck3.default)(this,CursusCourseSelectionModalCtrl);this.CursusService=CursusService;this.CourseService=CourseService;this.courses=CourseService.getCourses();this.cursusId=cursusId;this.title=title;
this.tableParams=new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.courses});CourseService.loadCourses(this.cursusId);this._removeCourseCallback=this._removeCourseCallback.bind(this)}(0,_createClass3.default)(CursusCourseSelectionModalCtrl,[{key:"_removeCourseCallback",value:function _removeCourseCallback(courseId){this.CourseService.removeCourse(courseId);this.tableParams.reload()}},{key:"isInitialized",value:function isInitialized(){return this.CourseService.isInitialized()}},{key:"addCourseToCursus",value:function addCourseToCursus(courseId){this.CursusService.addCourseToCursus(this.cursusId,courseId,this._removeCourseCallback)}}]);return CursusCourseSelectionModalCtrl}();exports.default=CursusCourseSelectionModalCtrl},683:function(module,exports,__webpack_require__){"use strict";var _index=__webpack_require__(1);var _index2=_interopRequireDefault(_index);__webpack_require__(5);__webpack_require__(8);__webpack_require__(6);__webpack_require__(9);__webpack_require__(248);__webpack_require__(149);var _CourseService=__webpack_require__(684);var _CourseService2=_interopRequireDefault(_CourseService);var _CourseCreationModalCtrl=__webpack_require__(688);var _CourseCreationModalCtrl2=_interopRequireDefault(_CourseCreationModalCtrl);var _CourseEditionModalCtrl=__webpack_require__(689);var _CourseEditionModalCtrl2=_interopRequireDefault(_CourseEditionModalCtrl);var _CoursesImportModalCtrl=__webpack_require__(690);var _CoursesImportModalCtrl2=_interopRequireDefault(_CoursesImportModalCtrl);var _CourseViewModalCtrl=__webpack_require__(691);var _CourseViewModalCtrl2=_interopRequireDefault(_CourseViewModalCtrl);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_index2.default.module("CourseModule",["ui.bootstrap","ui.bootstrap.tpls","colorpicker.module","ui.translation","ClarolineAPI","ui.asset","FormBuilder"]).service("CourseService",_CourseService2.default).controller("CourseCreationModalCtrl",_CourseCreationModalCtrl2.default).controller("CourseEditionModalCtrl",_CourseEditionModalCtrl2.default).controller("CoursesImportModalCtrl",_CoursesImportModalCtrl2.default).controller("CourseViewModalCtrl",_CourseViewModalCtrl2.default)},684:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _index=__webpack_require__(1);var _index2=_interopRequireDefault(_index);var _jquery=__webpack_require__(123);var _jquery2=_interopRequireDefault(_jquery);var _course_form_modal=__webpack_require__(685);var _course_form_modal2=_interopRequireDefault(_course_form_modal);var _course_view_modal=__webpack_require__(686);var _course_view_modal2=_interopRequireDefault(_course_view_modal);var _courses_import_form=__webpack_require__(687);var _courses_import_form2=_interopRequireDefault(_courses_import_form);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CourseService=function(){function CourseService($http,$uibModal,ClarolineAPIService){(0,_classCallCheck3.default)(this,CourseService);this.$http=$http;this.$uibModal=$uibModal;this.ClarolineAPIService=ClarolineAPIService;this.course={};this.courses=[];this.initialized=false;this.currentCursusId=null,this.hasChanged=false;this._addCourseCallback=this._addCourseCallback.bind(this);this._updateCourseCallback=this._updateCourseCallback.bind(this);this._removeCourseCallback=this._removeCourseCallback.bind(this)}(0,_createClass3.default)(CourseService,[{key:"_addCourseCallback",value:function _addCourseCallback(data){var _this=this;var coursesJson=JSON.parse(data);if(Array.isArray(coursesJson)){coursesJson.forEach(function(c){_this.courses.push(c)})}else{this.courses.push(coursesJson)}}},{key:"_updateCourseCallback",value:function _updateCourseCallback(data){var courseJson=JSON.parse(data);var index=this.courses.findIndex(function(c){return c["id"]===courseJson["id"]});if(index>-1){this.courses[index]=courseJson}}},{key:"_removeCourseCallback",value:function _removeCourseCallback(data){var courseJson=JSON.parse(data);var index=this.courses.findIndex(function(c){return c["id"]===courseJson["id"]});if(index>-1){this.courses.splice(index,1)}}},{key:"getCourse",value:function getCourse(){return this.course}},{key:"getCourses",value:function getCourses(){return this.courses}},{key:"isInitialized",value:function isInitialized(){return this.initialized}},{key:"loadCourses",value:function loadCourses(){var _this2=this;var cursusId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(this.initialized&&!this.hasChanged&&this.currentCursusId===cursusId){return null}else{this.initialized=false;this.courses.splice(0,this.courses.length);var route=cursusId?Routing.generate("api_get_all_unmapped_courses",{cursus:cursusId}):Routing.generate("api_get_all_courses");return this.$http.get(route).then(function(d){if(d["status"]===200){_index2.default.merge(_this2.courses,d["data"]);_this2.currentCursusId=cursusId;_this2.hasChanged=false;_this2.initialized=true;return"initialized"}})}}},{key:"removeCourse",value:function removeCourse(courseId){var index=this.courses.findIndex(function(c){return c["id"]===courseId});if(index>-1){this.courses.splice(index,1);this.hasChanged=true}}},{key:"createCourse",value:function createCourse(){var _cursusId=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var addCallback=callback!==null?callback:this._addCourseCallback;this.$uibModal.open({template:_course_form_modal2.default,controller:"CourseCreationModalCtrl",controllerAs:"cmc",resolve:{title:function title(){return Translator.trans("course_creation",{},"cursus")},cursusId:function cursusId(){return _cursusId},callback:function callback(){return addCallback}}})}},{key:"editCourse",value:function editCourse(_course){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var updateCallback=callback!==null?callback:this._updateCourseCallback;this.$uibModal.open({template:_course_form_modal2.default,controller:"CourseEditionModalCtrl",controllerAs:"cmc",resolve:{title:function title(){return Translator.trans("course_edition",{},"cursus")},course:function course(){return _course},callback:function callback(){return updateCallback}}})}},{key:"deleteCourse",value:function deleteCourse(courseId){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var url=Routing.generate("api_delete_course",{course:courseId});var deleteCallback=callback!==null?callback:this._removeCourseCallback;this.ClarolineAPIService.confirm({url:url,method:"DELETE"},deleteCallback,Translator.trans("delete_course",{},"cursus"),Translator.trans("delete_course_confirm_message",{},"cursus"))}},{key:"viewCourse",value:function viewCourse(courseId){var _this3=this;var index=this.courses.findIndex(function(c){return c["id"]===courseId});if(index>-1){this.$uibModal.open({template:_course_view_modal2.default,controller:"CourseViewModalCtrl",controllerAs:"cmc",resolve:{course:function course(){return _this3.courses[index]}}})}}},{key:"importCourses",value:function importCourses(){var callback=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;var addCallback=callback!==null?callback:this._addCourseCallback;this.$uibModal.open({template:_courses_import_form2.default,controller:"CoursesImportModalCtrl",controllerAs:"cmc",resolve:{callback:function callback(){return addCallback}}})}},{key:"getCourseById",value:function getCourseById(courseId){var _this4=this;var index=this.courses.findIndex(function(c){return c["id"]===courseId});if(index>-1){this.course=this.courses[index];return"initialized"}else{for(var key in this.course){delete this.course[key]}var route=Routing.generate("api_get_course_by_id",{course:courseId});return this.$http.get(route).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);for(var _key in datas){_this4.course[_key]=datas[_key]}return"initialized"}})}}},{key:"getTinymceConfiguration",value:function getTinymceConfiguration(){var tinymce=window.tinymce;tinymce.claroline.init=tinymce.claroline.init||{};tinymce.claroline.plugins=tinymce.claroline.plugins||{};var plugins=["autoresize advlist autolink lists link image charmap print preview hr anchor pagebreak","searchreplace wordcount visualblocks visualchars fullscreen","insertdatetime media nonbreaking save table directionality","template paste textcolor emoticons code -accordion -mention -codemirror"];var toolbar="bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | fullscreen displayAllButtons";_jquery2.default.each(tinymce.claroline.plugins,function(key,value){if("autosave"!=key&&value===true){plugins.push(key);toolbar+=" "+key}});var config={};for(var prop in tinymce.claroline.configuration){if(tinymce.claroline.configuration.hasOwnProperty(prop)){config[prop]=tinymce.claroline.configuration[prop]}}config.plugins=plugins;config.toolbar1=toolbar;config.trusted=true;config.format="html";return config}},{key:"removeFromArray",value:function removeFromArray(targetArray,id){if(Array.isArray(targetArray)){var index=targetArray.findIndex(function(t){return t["id"]===id});if(index>-1){targetArray.splice(index,1)}}}},{key:"getGeneralParameters",value:function getGeneralParameters(){var url=Routing.generate("api_get_cursus_general_parameters");return this.$http.get(url).then(function(d){if(d["status"]===200){return d["data"]}})}},{key:"setGeneralParameters",value:function setGeneralParameters(params){var url=Routing.generate("api_post_cursus_general_parameters");return this.$http.post(url,{parameters:params}).then(function(d){if(d["status"]===200){return"success"}})}},{key:"getLocationResources",value:function getLocationResources(){var url=Routing.generate("api_get_cursus_reservation_resources");return this.$http.get(url).then(function(d){if(d["status"]===200){return JSON.parse(d["data"])}})}},{key:"getLocations",value:function getLocations(){var url=Routing.generate("api_get_cursus_locations");return this.$http.get(url).then(function(d){if(d["status"]===200){return JSON.parse(d["data"])}})}}]);return CourseService}();exports.default=CourseService},685:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h3>{{ cmc.title }}</h3>\n    </div>\n    <div class="modal-body">\n        <div class="form-group row" ng-class="cmc.courseErrors[\'title\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'title\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.course[\'title\']">\n                <div class="help-block field-error" ng-if="cmc.courseErrors[\'title\']">\n                    {{ cmc.courseErrors[\'title\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.courseErrors[\'code\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'code\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.course[\'code\']">\n                <div class="help-block field-error" ng-if="cmc.courseErrors[\'code\']">\n                    {{ cmc.courseErrors[\'code\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'description\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <textarea data-ui-tinymce="cmc.tinymceOptions"\n                          data-before-unload="off"\n                          id="course-description"\n                          class="form-control"\n                          ng-model="cmc.course[\'description\']"\n                >\n                </textarea>\n            </div>\n        </div>\n        <form-field field="[\'icon\', \'file\']" ng-model="cmc.course[\'icon\']">\n        </form-field>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'public_registration\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="checkbox" ng-model="cmc.course[\'publicRegistration\']">\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'public_unregistration\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="checkbox" ng-model="cmc.course[\'publicUnregistration\']">\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.courseErrors[\'defaultSessionDuration\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'default_session_duration_label\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="number" class="form-control" ng-model="cmc.course[\'defaultSessionDuration\']">\n                <div class="help-block field-error" ng-if="cmc.courseErrors[\'defaultSessionDuration\']">\n                    {{ cmc.courseErrors[\'defaultSessionDuration\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'with_session_event\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="checkbox" ng-model="cmc.course[\'withSessionEvent\']">\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'workspace\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <select class="form-control" ng-model="cmc.workspace" ng-options="w[\'name\'] for w in cmc.workspaces" ng-change="cmc.manageRolesChoices()">\n                    <option></option>\n                </select>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'workspace_model\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <select class="form-control" ng-model="cmc.model" ng-options="wm[\'name\'] for wm in cmc.workspaceModels" ng-change="cmc.manageRolesChoices()">\n                    <option></option>\n                </select>\n            </div>\n        </div>\n        <div class="form-group row" ng-if="!cmc.workspace && !cmc.model">\n            <label class="control-label col-md-3">\n                {{ \'tutor_role_name\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.course[\'tutorRoleName\']">\n            </div>\n        </div>\n        <div class="form-group row" ng-if="cmc.workspace || cmc.model">\n            <label class="control-label col-md-3">\n                {{ \'tutor_role_name\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <select class="form-control" ng-model="cmc.course[\'tutorRoleName\']" ng-options="r for r in cmc.rolesChoices">\n                </select>\n            </div>\n        </div>\n        <div class="form-group row" ng-if="!cmc.workspace && !cmc.model">\n            <label class="control-label col-md-3">\n                {{ \'learner_role_name\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.course[\'learnerRoleName\']">\n            </div>\n        </div>\n        <div class="form-group row" ng-if="cmc.workspace || cmc.model">\n            <label class="control-label col-md-3">\n                {{ \'learner_role_name\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <select class="form-control" ng-model="cmc.course[\'learnerRoleName\']" ng-options="r for r in cmc.rolesChoices">\n                </select>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.courseErrors[\'maxUsers\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'max_users\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="number" class="form-control" ng-model="cmc.course[\'maxUsers\']">\n                <div class="help-block field-error" ng-if="cmc.courseErrors[\'maxUsers\']">\n                    {{ cmc.courseErrors[\'maxUsers\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'user_validation\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="checkbox" ng-model="cmc.course[\'userValidation\']">\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'organization_validation\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="checkbox" ng-model="cmc.course[\'organizationValidation\']">\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'registration_validation\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="checkbox" ng-model="cmc.course[\'registrationValidation\']">\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'validators\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <span class="input-group">\n                    <input type="text" class="form-control" ng-value="cmc.displayValidators()" readonly/>\n                    <span class="input-group-btn">\n                        <button type="button" class="btn btn-default" ng-click="cmc.openUserPicker()" ng-disabled="!cmc.isUserpickerAvailable()">\n                            <i class="fa fa-user"></i>\n                        </button>\n                    </span>\n                </span>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.courseErrors[\'displayOrder\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'display_order\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="number" class="form-control" ng-model="cmc.course[\'displayOrder\']">\n                <div class="help-block field-error" ng-if="cmc.courseErrors[\'displayOrder\']">\n                    {{ cmc.courseErrors[\'displayOrder\'] }}\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'cancel\'|trans:{}:\'platform\' }}\n        </button>\n        <button type="submit" class="btn btn-primary" ng-click="cmc.submit()">\n            {{ \'ok\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},686:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h4>{{ cmc.course[\'title\'] }} <small>[{{ cmc.course[\'code\'] }}]</small></h4>\n    </div>\n    <div class="modal-body">\n        <div class="well well-sm" ng-if="cmc.course[\'description\']" ng-bind-html="cmc.course[\'description\']|trust_html">\n        </div>\n        <div class="table-responsive">\n            <table class="table table-striped table-bordered table-condensed">\n                <tr>\n                    <th>{{ \'public_registration\'|trans:{}:\'cursus\' }}</th>\n                    <td class="text-center">\n                        <i class="fa fa-check-circle" style="color: #5CB85C" ng-if="cmc.course[\'publicRegistration\']"></i>\n                        <i class="fa fa-times-circle" style="color: #D9534F" ng-if="!cmc.course[\'publicRegistration\']"></i>\n                    </td>\n                </tr>\n                <tr>\n                    <th>{{ \'public_unregistration\'|trans:{}:\'cursus\' }}</th>\n                    <td class="text-center">\n                        <i class="fa fa-check-circle" style="color: #5CB85C" ng-if="cmc.course[\'publicUnregistration\']"></i>\n                        <i class="fa fa-times-circle" style="color: #D9534F" ng-if="!cmc.course[\'publicUnregistration\']"></i>\n                    </td>\n                </tr>\n                <tr>\n                    <th>{{ \'registration_validation\'|trans:{}:\'cursus\' }}</th>\n                    <td class="text-center">\n                        <i class="fa fa-check-circle" style="color: #5CB85C" ng-if="cmc.course[\'registrationValidation\']"></i>\n                        <i class="fa fa-times-circle" style="color: #D9534F" ng-if="!cmc.course[\'registrationValidation\']"></i>\n                    </td>\n                </tr>\n                <tr>\n                    <th>{{ \'tutor_role_name\'|trans:{}:\'cursus\' }}</th>\n                    <td class="text-center">{{ cmc.course[\'tutorRoleName\'] }}</td>\n                </tr>\n                <tr>\n                    <th>{{ \'learner_role_name\'|trans:{}:\'cursus\' }}</th>\n                    <td class="text-center">{{ cmc.course[\'learnerRoleName\'] }}</td>\n                </tr>\n                <tr>\n                    <th>{{ \'organization_validation\'|trans:{}:\'cursus\' }}</th>\n                    <td class="text-center">\n                        <i class="fa fa-check-circle" style="color: #5CB85C" ng-if="cmc.course[\'organizationValidation\']"></i>\n                        <i class="fa fa-times-circle" style="color: #D9534F" ng-if="!cmc.course[\'organizationValidation\']"></i>\n                    </td>\n                </tr>\n                <tr>\n                    <th>{{ \'user_validation\'|trans:{}:\'cursus\' }}</th>\n                    <td class="text-center">\n                        <i class="fa fa-check-circle" style="color: #5CB85C" ng-if="cmc.course[\'userValidation\']"></i>\n                        <i class="fa fa-times-circle" style="color: #D9534F" ng-if="!cmc.course[\'userValidation\']"></i>\n                    </td>\n                </tr>\n                <tr>\n                    <th>{{ \'default_session_duration_label\'|trans:{}:\'cursus\' }}</th>\n                    <td class="text-center">{{ cmc.course[\'defaultSessionDuration\'] }}</td>\n                </tr>\n            </table>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" ng-click="$close()">\n            {{ \'close\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},687:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h4>{{ \'courses_import\'|trans:{}:\'cursus\' }}</h4>\n    </div>\n    <form id="courses-import-form" method="post" enctype="multipart/form-data" ng-submit="cmc.submit()">\n        <div class="modal-body">\n            <div class="alert alert-danger" ng-if="cmc.errorMsg">\n                {{ cmc.errorMsg }}\n            </div>\n            <div>\n                <form-field field="[\'archive\', \'file\', {label: \'file\'}]" ng-model="cmc.file"></form-field>\n            </div>\n        </div>\n        <div class="modal-footer">\n            <a href="" class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n                {{ \'cancel\'|trans:{}:\'platform\' }}\n            </a>\n            <button type="submit" class="btn btn-primary">\n                {{ \'ok\'|trans:{}:\'platform\' }}\n            </button>\n        </div>\n    </form>\n</div>\n'},688:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CourseCreationModalCtrl=function(){function CourseCreationModalCtrl($rootScope,$http,$uibModalInstance,FormBuilderService,CourseService,title,cursusId,callback){(0,_classCallCheck3.default)(this,CourseCreationModalCtrl);this.$rootScope=$rootScope;this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.FormBuilderService=FormBuilderService;this.title=title;this.cursusId=cursusId;this.callback=callback;this.course={title:null,code:null,description:"",icon:null,publicRegistration:false,publicUnregistration:false,defaultSessionDuration:1,withSessionEvent:true,workspace:null,workspaceModel:null,maxUsers:"",tutorRoleName:"",learnerRoleName:"",userValidation:false,organizationValidation:false,registrationValidation:false,validators:[],displayOrder:500};this.courseErrors={title:null,code:null,defaultSessionDuration:null,maxUsers:null,displayOrder:null};this.tinymceOptions=CourseService.getTinymceConfiguration();this.validatorsRoles=[];this.validators=[];this.workspaces=[];this.workspace=null;this.workspaceModels=[];this.model=null;this.rolesChoices=[];this._userpickerCallback=this._userpickerCallback.bind(this);this.initializeCourse()}(0,_createClass3.default)(CourseCreationModalCtrl,[{key:"_userpickerCallback",value:function _userpickerCallback(datas){this.validators=datas===null?[]:datas;this.refreshScope()}},{key:"initializeCourse",value:function initializeCourse(){var _this=this;var workspacesUrl=Routing.generate("api_get_workspaces");this.$http.get(workspacesUrl).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);datas.forEach(function(w){return _this.workspaces.push(w)})}});var workspaceModelsUrl=Routing.generate("api_get_workspace_models");this.$http.get(workspaceModelsUrl).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);datas.forEach(function(wm){return _this.workspaceModels.push(wm)})}});var validatorsRolesUrl=Routing.generate("api_get_validators_roles");this.$http.get(validatorsRolesUrl).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);datas.forEach(function(r){return _this.validatorsRoles.push(r["id"])})}})}},{key:"displayValidators",value:function displayValidators(){var value="";this.validators.forEach(function(u){return value+=u["firstName"]+" "+u["lastName"]+", "});return value}},{key:"submit",value:function submit(){var _this2=this;this.resetErrors();if(!this.course["title"]){this.courseErrors["title"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.courseErrors["title"]=null}if(!this.course["code"]){this.courseErrors["code"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.courseErrors["code"]=null}if(this.course["defaultSessionDuration"]===null||this.course["defaultSessionDuration"]===undefined){this.courseErrors["defaultSessionDuration"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.course["defaultSessionDuration"]=parseInt(this.course["defaultSessionDuration"]);if(this.course["defaultSessionDuration"]<0){this.courseErrors["defaultSessionDuration"]=Translator.trans("form_number_superior_error",{value:0},"cursus")}}if(this.course["displayOrder"]===null||this.course["displayOrder"]===undefined){this.courseErrors["displayOrder"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.course["displayOrder"]=parseInt(this.course["displayOrder"]);this.courseErrors["displayOrder"]=null}if(this.course["maxUsers"]){this.course["maxUsers"]=parseInt(this.course["maxUsers"]);if(this.course["maxUsers"]<0){this.courseErrors["maxUsers"]=Translator.trans("form_number_superior_error",{value:0},"cursus")}}if(this.workspace){this.course["workspace"]=this.workspace["id"]}else{this.course["workspace"]=null}if(this.model){this.course["workspaceModel"]=this.model["id"]}else{this.course["workspaceModel"]=null}if(this.course["tutorRoleName"]===null){this.course["tutorRoleName"]=""}if(this.course["learnerRoleName"]===null){this.course["learnerRoleName"]=""}this.course["validators"]=[];this.validators.forEach(function(v){_this2.course["validators"].push(v["id"])});if(this.isValid()){var checkCodeUrl=Routing.generate("api_get_course_by_code_without_id",{code:this.course["code"]});this.$http.get(checkCodeUrl).then(function(d){if(d["status"]===200){if(d["data"]==="null"){var url=_this2.cursusId===null?Routing.generate("api_post_course_creation"):Routing.generate("api_post_cursus_course_creation",{cursus:_this2.cursusId});_this2.FormBuilderService.submit(url,{courseDatas:_this2.course}).then(function(d){_this2.callback(d["data"]);_this2.$uibModalInstance.close()})}else{_this2.courseErrors["code"]=Translator.trans("form_not_unique_error",{},"cursus")}}})}}},{key:"resetErrors",value:function resetErrors(){for(var key in this.courseErrors){this.courseErrors[key]=null}}},{key:"isValid",value:function isValid(){var valid=true;for(var key in this.courseErrors){if(this.courseErrors[key]){valid=false;break}}return valid}},{key:"isUserpickerAvailable",value:function isUserpickerAvailable(){return this.validatorsRoles.length>0}},{key:"getSelectedUsersIds",value:function getSelectedUsersIds(){var selectedUsersIds=[];this.validators.forEach(function(v){selectedUsersIds.push(v["id"])});return selectedUsersIds}},{key:"openUserPicker",value:function openUserPicker(){var userPicker=new UserPicker;var options={picker_name:"validators-picker",picker_title:Translator.trans("validators_selection",{},"cursus"),multiple:true,selected_users:this.getSelectedUsersIds(),forced_roles:this.validatorsRoles,return_datas:true};userPicker.configure(options,this._userpickerCallback);userPicker.open()}},{key:"manageRolesChoices",value:function manageRolesChoices(){if(this.workspace){this.getWorkspaceRoles()}else if(this.model){this.getModelRoles()}else{this.rolesChoices=[]}}},{key:"getWorkspaceRoles",value:function getWorkspaceRoles(){var _this3=this;if(this.workspace){var url=Routing.generate("course_workspace_roles_translation_keys_retrieve",{workspace:this.workspace["id"]});this.$http.get(url).then(function(d){if(d["status"]===200){_this3.rolesChoices=[];d["data"].forEach(function(r){return _this3.rolesChoices.push(r)});if(_this3.rolesChoices.indexOf(_this3.course["tutorRoleName"])===-1){_this3.course["tutorRoleName"]=null}if(_this3.rolesChoices.indexOf(_this3.course["learnerRoleName"])===-1){_this3.course["learnerRoleName"]=null}}})}}},{key:"getModelRoles",value:function getModelRoles(){var _this4=this;if(this.model){var url=Routing.generate("ws_model_roles_translation_keys_retrieve",{model:this.model["id"]});this.$http.get(url).then(function(d){if(d["status"]===200){_this4.rolesChoices=[];d["data"].forEach(function(r){return _this4.rolesChoices.push(r);
});if(_this4.rolesChoices.indexOf(_this4.course["tutorRoleName"])===-1){_this4.course["tutorRoleName"]=null}if(_this4.rolesChoices.indexOf(_this4.course["learnerRoleName"])===-1){_this4.course["learnerRoleName"]=null}}})}}},{key:"refreshScope",value:function refreshScope(){this.$rootScope.$apply()}}]);return CourseCreationModalCtrl}();exports.default=CourseCreationModalCtrl},689:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CourseEditionModalCtrl=function(){function CourseEditionModalCtrl($rootScope,$http,$uibModalInstance,FormBuilderService,CourseService,title,course,callback){(0,_classCallCheck3.default)(this,CourseEditionModalCtrl);this.$rootScope=$rootScope;this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.FormBuilderService=FormBuilderService;this.title=title;this.source=course;this.callback=callback;this.course={title:null,code:null,description:"",icon:null,publicRegistration:false,publicUnregistration:false,defaultSessionDuration:1,withSessionEvent:true,workspace:null,workspaceModel:null,maxUsers:"",tutorRoleName:"",learnerRoleName:"",userValidation:false,organizationValidation:false,registrationValidation:false,validators:[],displayOrder:500};this.courseErrors={title:null,code:null,defaultSessionDuration:null,maxUsers:null,displayOrder:null};this.tinymceOptions=CourseService.getTinymceConfiguration();this.cursusList=[];this.cursus=[];this.validatorsRoles=[];this.validators=[];this.workspaces=[];this.workspace=null;this.workspaceModels=[];this.model=null;this.rolesChoices=[];this._userpickerCallback=this._userpickerCallback.bind(this);this.initializeCourse()}(0,_createClass3.default)(CourseEditionModalCtrl,[{key:"_userpickerCallback",value:function _userpickerCallback(datas){this.validators=datas===null?[]:datas;this.refreshScope()}},{key:"initializeCourse",value:function initializeCourse(){var _this=this;if(this.source["tutorRoleName"]){this.course["tutorRoleName"]=this.source["tutorRoleName"]}if(this.source["learnerRoleName"]){this.course["learnerRoleName"]=this.source["learnerRoleName"]}if(this.source["icon"]){this.course["icon"]=this.source["icon"]}var workspacesUrl=Routing.generate("api_get_workspaces");this.$http.get(workspacesUrl).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);datas.forEach(function(w){return _this.workspaces.push(w)});if(_this.source["workspace"]){var selectedWorkspace=_this.workspaces.find(function(w){return w["id"]===_this.source["workspace"]["id"]});_this.workspace=selectedWorkspace;_this.manageRolesChoices()}}});var workspaceModelsUrl=Routing.generate("api_get_workspace_models");this.$http.get(workspaceModelsUrl).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);datas.forEach(function(wm){return _this.workspaceModels.push(wm)});if(_this.source["workspaceModel"]){var selectedModel=_this.workspaceModels.find(function(wm){return wm["id"]===_this.source["workspaceModel"]["id"]});_this.model=selectedModel;_this.manageRolesChoices()}}});var validatorsRolesUrl=Routing.generate("api_get_validators_roles");this.$http.get(validatorsRolesUrl).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);datas.forEach(function(r){return _this.validatorsRoles.push(r["id"])})}});this.source["validators"].forEach(function(v){return _this.validators.push(v)});this.course["title"]=this.source["title"];this.course["code"]=this.source["code"];this.course["publicRegistration"]=this.source["publicRegistration"];this.course["publicUnregistration"]=this.source["publicUnregistration"];this.course["defaultSessionDuration"]=this.source["defaultSessionDuration"];this.course["displayOrder"]=this.source["displayOrder"];this.course["withSessionEvent"]=this.source["withSessionEvent"];this.course["userValidation"]=this.source["userValidation"];this.course["organizationValidation"]=this.source["organizationValidation"];this.course["registrationValidation"]=this.source["registrationValidation"];if(this.source["description"]){this.course["description"]=this.source["description"]}if(this.source["maxUsers"]){this.course["maxUsers"]=this.source["maxUsers"]}}},{key:"displayValidators",value:function displayValidators(){var value="";this.validators.forEach(function(u){return value+=u["firstName"]+" "+u["lastName"]+", "});return value}},{key:"submit",value:function submit(){var _this2=this;this.resetErrors();if(!this.course["title"]){this.courseErrors["title"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.courseErrors["title"]=null}if(!this.course["code"]){this.courseErrors["code"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.courseErrors["code"]=null}if(this.course["defaultSessionDuration"]===null||this.course["defaultSessionDuration"]===undefined){this.courseErrors["defaultSessionDuration"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.course["defaultSessionDuration"]=parseInt(this.course["defaultSessionDuration"]);if(this.course["defaultSessionDuration"]<0){this.courseErrors["defaultSessionDuration"]=Translator.trans("form_number_superior_error",{value:0},"cursus")}}if(this.course["displayOrder"]===null||this.course["displayOrder"]===undefined){this.courseErrors["displayOrder"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.course["displayOrder"]=parseInt(this.course["displayOrder"]);this.courseErrors["displayOrder"]=null}if(this.course["maxUsers"]){this.course["maxUsers"]=parseInt(this.course["maxUsers"]);if(this.course["maxUsers"]<0){this.courseErrors["maxUsers"]=Translator.trans("form_number_superior_error",{value:0},"cursus")}}if(this.workspace){this.course["workspace"]=this.workspace["id"]}else{this.course["workspace"]=null}if(this.model){this.course["workspaceModel"]=this.model["id"]}else{this.course["workspaceModel"]=null}if(this.course["tutorRoleName"]===null){this.course["tutorRoleName"]=""}if(this.course["learnerRoleName"]===null){this.course["learnerRoleName"]=""}this.course["validators"]=[];this.validators.forEach(function(v){_this2.course["validators"].push(v["id"])});if(this.isValid()){var checkCodeUrl=Routing.generate("api_get_course_by_code_without_id",{code:this.course["code"],id:this.source["id"]});this.$http.get(checkCodeUrl).then(function(d){if(d["status"]===200){if(d["data"]==="null"){var url=Routing.generate("api_put_course_edition",{course:_this2.source["id"]});_this2.FormBuilderService.submit(url,{courseDatas:_this2.course}).then(function(d){_this2.callback(d["data"]);_this2.$uibModalInstance.close()})}else{_this2.courseErrors["code"]=Translator.trans("form_not_unique_error",{},"cursus")}}})}}},{key:"resetErrors",value:function resetErrors(){for(var key in this.courseErrors){this.courseErrors[key]=null}}},{key:"isValid",value:function isValid(){var valid=true;for(var key in this.courseErrors){if(this.courseErrors[key]){valid=false;break}}return valid}},{key:"isUserpickerAvailable",value:function isUserpickerAvailable(){return this.validatorsRoles.length>0}},{key:"getSelectedUsersIds",value:function getSelectedUsersIds(){var selectedUsersIds=[];this.validators.forEach(function(v){selectedUsersIds.push(v["id"])});return selectedUsersIds}},{key:"openUserPicker",value:function openUserPicker(){var userPicker=new UserPicker;var options={picker_name:"validators-picker",picker_title:Translator.trans("validators_selection",{},"cursus"),multiple:true,selected_users:this.getSelectedUsersIds(),forced_roles:this.validatorsRoles,return_datas:true};userPicker.configure(options,this._userpickerCallback);userPicker.open()}},{key:"manageRolesChoices",value:function manageRolesChoices(){if(this.workspace){this.getWorkspaceRoles()}else if(this.model){this.getModelRoles()}else{this.rolesChoices=[]}}},{key:"getWorkspaceRoles",value:function getWorkspaceRoles(){var _this3=this;if(this.workspace){var url=Routing.generate("course_workspace_roles_translation_keys_retrieve",{workspace:this.workspace["id"]});this.$http.get(url).then(function(d){if(d["status"]===200){_this3.rolesChoices=[];d["data"].forEach(function(r){return _this3.rolesChoices.push(r)});if(_this3.rolesChoices.indexOf(_this3.course["tutorRoleName"])===-1){_this3.course["tutorRoleName"]=null}if(_this3.rolesChoices.indexOf(_this3.course["learnerRoleName"])===-1){_this3.course["learnerRoleName"]=null}}})}}},{key:"getModelRoles",value:function getModelRoles(){var _this4=this;if(this.model){var url=Routing.generate("ws_model_roles_translation_keys_retrieve",{model:this.model["id"]});this.$http.get(url).then(function(d){if(d["status"]===200){_this4.rolesChoices=[];d["data"].forEach(function(r){return _this4.rolesChoices.push(r)});if(_this4.rolesChoices.indexOf(_this4.course["tutorRoleName"])===-1){_this4.course["tutorRoleName"]=null}if(_this4.rolesChoices.indexOf(_this4.course["learnerRoleName"])===-1){_this4.course["learnerRoleName"]=null}}})}}},{key:"refreshScope",value:function refreshScope(){this.$rootScope.$apply()}}]);return CourseEditionModalCtrl}();exports.default=CourseEditionModalCtrl},690:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CoursesImportModalCtrl=function(){function CoursesImportModalCtrl($http,$uibModal,$uibModalInstance,callback,FormBuilderService){(0,_classCallCheck3.default)(this,CoursesImportModalCtrl);this.$http=$http;this.$uibModal=$uibModal;this.$uibModalInstance=$uibModalInstance;this.callback=callback;this.file={};this.FormBuilderService=FormBuilderService;this.errorMsg=null}(0,_createClass3.default)(CoursesImportModalCtrl,[{key:"submit",value:function submit(){var _this=this;this.errorMsg=null;this.FormBuilderService.submit(Routing.generate("api_post_courses_import"),{archive:this.file}).then(function(d){_this.callback(d["data"]);_this.$uibModalInstance.close()},function(){_this.errorMsg=Translator.trans("courses_import_error_from_file",{},"cursus")})}}]);return CoursesImportModalCtrl}();exports.default=CoursesImportModalCtrl},691:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CourseViewModalCtrl=function CourseViewModalCtrl(course){(0,_classCallCheck3.default)(this,CourseViewModalCtrl);this.course=course};exports.default=CourseViewModalCtrl},692:function(module,exports,__webpack_require__){"use strict";var _index=__webpack_require__(1);var _index2=_interopRequireDefault(_index);__webpack_require__(5);__webpack_require__(8);__webpack_require__(6);__webpack_require__(441);var _SessionService=__webpack_require__(693);var _SessionService2=_interopRequireDefault(_SessionService);var _SessionCreationModalCtrl=__webpack_require__(701);var _SessionCreationModalCtrl2=_interopRequireDefault(_SessionCreationModalCtrl);var _SessionEditionModalCtrl=__webpack_require__(702);var _SessionEditionModalCtrl2=_interopRequireDefault(_SessionEditionModalCtrl);var _SessionDeletionModalCtrl=__webpack_require__(703);var _SessionDeletionModalCtrl2=_interopRequireDefault(_SessionDeletionModalCtrl);var _UsersRegistrationModalCtrl=__webpack_require__(704);var _UsersRegistrationModalCtrl2=_interopRequireDefault(_UsersRegistrationModalCtrl);var _GroupsRegistrationModalCtrl=__webpack_require__(705);var _GroupsRegistrationModalCtrl2=_interopRequireDefault(_GroupsRegistrationModalCtrl);var _SessionMessageModalCtrl=__webpack_require__(706);var _SessionMessageModalCtrl2=_interopRequireDefault(_SessionMessageModalCtrl);var _SessionUsersExportModalCtrl=__webpack_require__(707);var _SessionUsersExportModalCtrl2=_interopRequireDefault(_SessionUsersExportModalCtrl);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_index2.default.module("SessionModule",["ui.bootstrap","ui.bootstrap.tpls","colorpicker.module","ui.translation","ui.tinymce"]).service("SessionService",_SessionService2.default).controller("SessionCreationModalCtrl",_SessionCreationModalCtrl2.default).controller("SessionEditionModalCtrl",_SessionEditionModalCtrl2.default).controller("SessionDeletionModalCtrl",_SessionDeletionModalCtrl2.default).controller("UsersRegistrationModalCtrl",_UsersRegistrationModalCtrl2.default).controller("GroupsRegistrationModalCtrl",_GroupsRegistrationModalCtrl2.default).controller("SessionMessageModalCtrl",_SessionMessageModalCtrl2.default).controller("SessionUsersExportModalCtrl",_SessionUsersExportModalCtrl2.default).directive("datetimepickerNeutralTimezone",function(){return{restrict:"A",priority:1,require:"ngModel",link:function link(scope,element,attrs,ctrl){ctrl.$formatters.push(function(value){var date=new Date(Date.parse(value));date=new Date(date.getTime()+6e4*date.getTimezoneOffset());return date});ctrl.$parsers.push(function(value){var date=new Date(value.getTime()-6e4*value.getTimezoneOffset());return date})}}})},693:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _index=__webpack_require__(1);var _index2=_interopRequireDefault(_index);var _session_delete_modal=__webpack_require__(694);var _session_delete_modal2=_interopRequireDefault(_session_delete_modal);var _learners_registration_modal=__webpack_require__(695);var _learners_registration_modal2=_interopRequireDefault(_learners_registration_modal);var _learners_groups_registration_modal=__webpack_require__(696);var _learners_groups_registration_modal2=_interopRequireDefault(_learners_groups_registration_modal);var _tutors_registration_modal=__webpack_require__(697);var _tutors_registration_modal2=_interopRequireDefault(_tutors_registration_modal);var _session_form_modal=__webpack_require__(698);var _session_form_modal2=_interopRequireDefault(_session_form_modal);var _session_message_modal=__webpack_require__(699);var _session_message_modal2=_interopRequireDefault(_session_message_modal);var _session_users_export_modal=__webpack_require__(700);var _session_users_export_modal2=_interopRequireDefault(_session_users_export_modal);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionService=function(){function SessionService($http,$uibModal,ClarolineAPIService,CourseService){(0,_classCallCheck3.default)(this,SessionService);this.$http=$http;this.$uibModal=$uibModal;this.ClarolineAPIService=ClarolineAPIService;this.CourseService=CourseService;this.initialized=false;this.pendingInitialized={};this.session={};this.sessions=[];this.users={};this.groups={};this.learners={};this.tutors={};this.pendingLearners={};this.courseSessions={};this.openCourseSessions={};this.closedCourseSessions={};this._addSessionCallback=this._addSessionCallback.bind(this);this._updateSessionCallback=this._updateSessionCallback.bind(this);this._removeSessionCallback=this._removeSessionCallback.bind(this);this._resetDefaultSessionCallback=this._resetDefaultSessionCallback.bind(this);this._removeLearnerCallback=this._removeLearnerCallback.bind(this);this._removeTutorCallback=this._removeTutorCallback.bind(this);this._removeGroupCallback=this._removeGroupCallback.bind(this);this._removePendingLearnerCallback=this._removePendingLearnerCallback.bind(this);this._acceptQueueCallback=this._acceptQueueCallback.bind(this);this._addLearnersCallback=this._addLearnersCallback.bind(this);this._addLearnersGroupsCallback=this._addLearnersGroupsCallback.bind(this);this._addTutorsCallback=this._addTutorsCallback.bind(this)}(0,_createClass3.default)(SessionService,[{key:"_addSessionCallback",value:function _addSessionCallback(data){var _this=this;var sessionsJson=JSON.parse(data);if(Array.isArray(sessionsJson)){sessionsJson.forEach(function(s){if(s["course"]["id"]){var courseId=s["course"]["id"];s["course_title"]=s["course"]["title"];s["course_code"]=s["course"]["code"];if(s["defaultSession"]){_this._resetDefaultSessionCallback(courseId,s["id"])}if(_this.courseSessions[courseId]===undefined){_this.courseSessions[courseId]=[]}_this.courseSessions[courseId].push(s);_this.computeSessionsStatusByCourse(courseId)}_this.sessions.push(s)})}else{if(sessionsJson["course"]["id"]){var courseId=sessionsJson["course"]["id"];sessionsJson["course_title"]=sessionsJson["course"]["title"];sessionsJson["course_code"]=sessionsJson["course"]["code"];if(sessionsJson["defaultSession"]){this._resetDefaultSessionCallback(courseId,sessionsJson["id"])}if(this.courseSessions[courseId]===undefined){this.courseSessions[courseId]=[]}this.courseSessions[courseId].push(sessionsJson);this.computeSessionsStatusByCourse(courseId)}this.sessions.push(sessionsJson)}}},{key:"_updateSessionCallback",value:function _updateSessionCallback(data){var sessionJson=JSON.parse(data);sessionJson["course_title"]=sessionJson["course"]["title"];sessionJson["course_code"]=sessionJson["course"]["code"];var isDefault=sessionJson["defaultSession"];var sessionId=sessionJson["id"];var courseId=sessionJson["course"]["id"];var index=this.sessions.findIndex(function(s){return s["id"]===sessionId});var sessionIndex=this.courseSessions[courseId]?this.courseSessions[courseId].findIndex(function(s){return s["id"]===sessionId}):-1;if(isDefault){this.resetDefaultSession(courseId,sessionId)}if(index>-1){this.sessions[index]=sessionJson}if(sessionIndex>-1){this.courseSessions[courseId][sessionIndex]=sessionJson}this.computeSessionsStatusByCourse(courseId)}},{key:"_removeSessionCallback",value:function _removeSessionCallback(data){var sessionJson=JSON.parse(data);var courseId=sessionJson["course"]["id"];this.CourseService.removeFromArray(this.sessions,sessionJson["id"]);this.CourseService.removeFromArray(this.courseSessions[courseId],sessionJson["id"]);this.computeSessionsStatusByCourse(courseId)}},{key:"_resetDefaultSessionCallback",value:function _resetDefaultSessionCallback(courseId,sessionId){this.courseSessions[courseId].forEach(function(s){if(s["defaultSession"]&&s["id"]!==sessionId){s["defaultSession"]=false}})}},{key:"_removeLearnerCallback",value:function _removeLearnerCallback(data){var sessionUser=JSON.parse(data);var id=sessionUser["id"];var sessionId=sessionUser["session"]["id"];this.CourseService.removeFromArray(this.users[sessionId],id);this.CourseService.removeFromArray(this.learners[sessionId],id)}},{key:"_removeTutorCallback",value:function _removeTutorCallback(data){var sessionUser=JSON.parse(data);var id=sessionUser["id"];var sessionId=sessionUser["session"]["id"];this.CourseService.removeFromArray(this.users[sessionId],id);this.CourseService.removeFromArray(this.tutors[sessionId],id)}},{key:"_removeGroupCallback",value:function _removeGroupCallback(data){var _this2=this;var sessionGroup=JSON.parse(data["group"]);var sessionUsers=JSON.parse(data["users"]);var sessionId=sessionGroup["session"]["id"];this.CourseService.removeFromArray(this.groups[sessionId],sessionGroup["id"]);sessionUsers.forEach(function(su){_this2.CourseService.removeFromArray(_this2.users[sessionId],su["id"]);_this2.CourseService.removeFromArray(_this2.learners[sessionId],su["id"])})}},{key:"_removePendingLearnerCallback",value:function _removePendingLearnerCallback(data){var pendingLearner=JSON.parse(data);var sessionId=pendingLearner["session"]["id"];this.CourseService.removeFromArray(this.pendingLearners[sessionId],pendingLearner["id"])}},{key:"_acceptQueueCallback",value:function _acceptQueueCallback(data){var _this3=this;var queue=JSON.parse(data["queue"]);var sessionUsers=JSON.parse(data["sessionUsers"]);var sessionId=queue["session"]["id"];this.CourseService.removeFromArray(this.pendingLearners[sessionId],queue["id"]);sessionUsers.forEach(function(su){var generatedSU=_this3.generateUserDatas(su);_this3.users[sessionId].push(generatedSU);_this3.learners[sessionId].push(generatedSU)})}},{key:"_addLearnersCallback",value:function _addLearnersCallback(data){var _this4=this;var sessionUsers=JSON.parse(data);sessionUsers.forEach(function(su){var sessionId=su["session"]["id"];var generatedSU=_this4.generateUserDatas(su);_this4.users[sessionId].push(generatedSU);_this4.learners[sessionId].push(generatedSU)})}},{key:"_addLearnersGroupsCallback",value:function _addLearnersGroupsCallback(groupData,usersData){var _this5=this;var sessionGroup=JSON.parse(groupData);var sessionId=sessionGroup["session"]["id"];var generatedSG=this.generateGroupDatas(sessionGroup);this.groups[sessionId].push(generatedSG);var sessionUsers=JSON.parse(usersData);sessionUsers.forEach(function(su){var generatedSU=_this5.generateUserDatas(su);_this5.users[sessionId].push(generatedSU);_this5.learners[sessionId].push(generatedSU)})}},{key:"_addTutorsCallback",value:function _addTutorsCallback(data){var _this6=this;var sessionUsers=JSON.parse(data);sessionUsers.forEach(function(su){var sessionId=su["session"]["id"];var generatedSU=_this6.generateUserDatas(su);_this6.users[sessionId].push(generatedSU);_this6.tutors[sessionId].push(generatedSU)})}},{key:"isInitialized",value:function isInitialized(){return this.initialized}},{key:"getSession",value:function getSession(){return this.session}},{key:"getSessions",value:function getSessions(){return this.sessions}},{key:"getCourseSessions",value:function getCourseSessions(){return this.courseSessions}},{key:"getOpenCourseSessions",value:function getOpenCourseSessions(){return this.openCourseSessions}},{key:"getClosedCourseSessions",value:function getClosedCourseSessions(){return this.closedCourseSessions}},{key:"getOpenCourseSessionsByCourse",value:function getOpenCourseSessionsByCourse(courseId){if(!this.openCourseSessions[courseId]){this.openCourseSessions[courseId]=[]}return this.openCourseSessions[courseId]}},{key:"getClosedCourseSessionsByCourse",value:function getClosedCourseSessionsByCourse(courseId){if(!this.closedCourseSessions[courseId]){this.closedCourseSessions[courseId]=[]}return this.closedCourseSessions[courseId]}},{key:"getGroupsBySession",value:function getGroupsBySession(sessionId){return this.groups[sessionId]?this.groups[sessionId]:[]}},{key:"getLearnersBySession",value:function getLearnersBySession(sessionId){if(!this.learners[sessionId]){this.learners[sessionId]=[]}return this.learners[sessionId]}},{key:"getTutorsBySession",value:function getTutorsBySession(sessionId){if(!this.tutors[sessionId]){this.tutors[sessionId]=[]}return this.tutors[sessionId]}},{key:"getPendingLearnersBySession",value:function getPendingLearnersBySession(sessionId){if(!this.pendingLearners[sessionId]){this.pendingLearners[sessionId]=[]}return this.pendingLearners[sessionId]}},{key:"loadSessions",value:function loadSessions(){var _this7=this;var callback=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(!this.initialized){this.sessions.splice(0,this.sessions.length);var route=Routing.generate("api_get_sessions");return this.$http.get(route).then(function(d){if(d["status"]===200){_index2.default.merge(_this7.sessions,d["data"]);_this7.computeSessionsStatus();_this7.generateCourseInfos();_this7.generateCourseSessions();_this7.initialized=true;if(callback!==null){callback(d["data"])}}})}}},{key:"loadSessionsByCourse",value:function loadSessionsByCourse(courseId){var _this8=this;var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(this.courseSessions[courseId]!==undefined){this.computeSessionsStatusByCourse(courseId)}else{var route=Routing.generate("api_get_sessions_by_course",{course:courseId});this.$http.get(route).then(function(d){if(d["status"]===200){_this8.courseSessions[courseId]=d["data"];_this8.computeSessionsStatusByCourse(courseId);if(callback!==null){callback(d["data"])}}})}}},{key:"createSession",value:function createSession(_course){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var addCallback=callback!==null?callback:this._addSessionCallback;this.$uibModal.open({template:_session_form_modal2.default,controller:"SessionCreationModalCtrl",controllerAs:"cmc",resolve:{title:function title(){return Translator.trans("session_creation",{},"cursus")},course:function course(){return _course},callback:function callback(){return addCallback}}})}},{key:"editSession",value:function editSession(_session){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var updateCallback=callback!==null?callback:this._updateSessionCallback;this.$uibModal.open({template:_session_form_modal2.default,controller:"SessionEditionModalCtrl",controllerAs:"cmc",resolve:{title:function title(){return Translator.trans("session_edition",{},"cursus")},session:function session(){return _session},callback:function callback(){return updateCallback}}})}},{key:"deleteSession",value:function deleteSession(_sessionId){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var deleteCallback=callback!==null?callback:this._removeSessionCallback;this.$uibModal.open({template:_session_delete_modal2.default,controller:"SessionDeletionModalCtrl",controllerAs:"cmc",resolve:{sessionId:function sessionId(){return _sessionId},callback:function callback(){return deleteCallback}}})}},{key:"resetDefaultSession",value:function resetDefaultSession(courseId,sessionId){var _this9=this;var route=Routing.generate("api_put_session_default_reset",{course:courseId,session:sessionId});this.$http.put(route).then(function(d){if(d["status"]===200){_this9._resetDefaultSessionCallback(courseId,sessionId)}})}},{key:"getSessionStatus",value:function getSessionStatus(start,end){var now=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var status="";var startDate=new Date(start);var endDate=new Date(end);var currentDate=now===null?new Date:now;if(startDate.getTime()>currentDate.getTime()){status="not_started"}else if(startDate.getTime()<=currentDate.getTime()&&endDate.getTime()>currentDate.getTime()){status="ongoing"}else if(endDate.getTime()<currentDate.getTime()){status="closed"}return status}},{key:"generateCourseInfos",value:function generateCourseInfos(){this.sessions.forEach(function(s){var courseTitle=s["course"]["title"];var courseCode=s["course"]["code"];s["course_title"]=courseTitle;s["course_code"]=courseCode})}},{key:"generateCourseSessions",value:function generateCourseSessions(){var _this10=this;var coursesDone={};this.sessions.forEach(function(s){var courseId=s["course"]["id"];if(!coursesDone[courseId]){if(_this10.courseSessions[courseId]){_this10.courseSessions[courseId].splice(0,_this10.courseSessions[courseId].length)}else{_this10.courseSessions[courseId]=[]}coursesDone[courseId]=true}_this10.courseSessions[courseId].push(s)})}},{key:"computeSessionsStatus",value:function computeSessionsStatus(){var _this11=this;var now=new Date;this.sessions.forEach(function(s){s["status"]=_this11.getSessionStatus(s["startDate"],s["endDate"],now)})}},{key:"computeSessionsStatusByCourse",value:function computeSessionsStatusByCourse(courseId){var _this12=this;var now=new Date;if(this.openCourseSessions[courseId]){this.openCourseSessions[courseId].splice(0,this.openCourseSessions[courseId].length)}else{this.openCourseSessions[courseId]=[]}if(this.closedCourseSessions[courseId]){this.closedCourseSessions[courseId].splice(0,this.closedCourseSessions[courseId].length)}else{this.closedCourseSessions[courseId]=[]}if(this.courseSessions[courseId]){this.courseSessions[courseId].forEach(function(s){s["status"]=_this12.getSessionStatus(s["startDate"],s["endDate"],now);if(s["status"]==="closed"){_this12.closedCourseSessions[courseId].push(s)}else{_this12.openCourseSessions[courseId].push(s)}})}}},{key:"getWorkspaceFromSessionId",value:function getWorkspaceFromSessionId(sessionId){var route=Routing.generate("api_get_workspace_id_from_session",{session:sessionId});return this.$http.get(route).then(function(d){if(d["status"]===200){return d["data"]}})}},{key:"getSessionById",value:function getSessionById(sessionId){var _this13=this;var index=this.sessions.findIndex(function(s){return s["id"]===sessionId});if(index>-1){this.session=this.sessions[index];return"initialized"}else{for(var key in this.session){delete this.session[key]}var route=Routing.generate("api_get_session_by_id",{session:sessionId});return this.$http.get(route).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);for(var _key in datas){_this13.session[_key]=datas[_key]}return"initialized"}})}}},{key:"generateUserDatas",value:function generateUserDatas(datas){datas["userId"]=datas["user"]["id"];datas["username"]=datas["user"]["username"];datas["firstName"]=datas["user"]["firstName"];datas["lastName"]=datas["user"]["lastName"];datas["fullName"]=datas["user"]["firstName"]+" "+datas["user"]["lastName"];return datas}},{key:"generateGroupDatas",value:function generateGroupDatas(datas){datas["groupId"]=datas["group"]["id"];datas["groupName"]=datas["group"]["name"];return datas}},{key:"loadGroupsBySession",value:function loadGroupsBySession(sessionId){var _this14=this;var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(this.groups[sessionId]===undefined){var route=Routing.generate("api_get_session_groups_by_session",{session:sessionId});this.$http.get(route).then(function(d){if(d["status"]===200){_this14.groups[sessionId]=[];var datas=JSON.parse(d["data"]);datas.forEach(function(sg){_this14.groups[sessionId].push(_this14.generateGroupDatas(sg))});if(callback!==null){callback(datas)}}})}}},{key:"loadUsersBySession",value:function loadUsersBySession(sessionId){var _this15=this;var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(this.users[sessionId]===undefined){var route=Routing.generate("api_get_session_users_by_session",{session:sessionId});this.$http.get(route).then(function(d){if(d["status"]===200){_this15.users[sessionId]=[];var datas=JSON.parse(d["data"]);datas.forEach(function(su){_this15.users[sessionId].push(_this15.generateUserDatas(su))});_this15.sortSessionUsersbyType(sessionId);if(callback!==null){callback(datas)}}})}}},{key:"loadPendingUsersBySession",value:function loadPendingUsersBySession(sessionId){var _this16=this;var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(!this.pendingInitialized[sessionId]){var route=Routing.generate("api_get_session_pending_users_by_session",{session:sessionId});this.$http.get(route).then(function(d){if(d["status"]===200){if(_this16.pendingLearners[sessionId]===undefined){_this16.pendingLearners[sessionId]=[]}else{_this16.pendingLearners[sessionId].splice(0,_this16.pendingLearners[sessionId].length)}var datas=JSON.parse(d["data"]);datas.forEach(function(pu){_this16.pendingLearners[sessionId].push(_this16.generateUserDatas(pu))});_this16.pendingInitialized[sessionId]=true;if(callback!==null){callback(datas)}}})}}},{key:"sortSessionUsersbyType",value:function sortSessionUsersbyType(sessionId){var _this17=this;if(this.learners[sessionId]){this.learners[sessionId].splice(0,this.learners[sessionId].length)}else{this.learners[sessionId]=[]}if(this.tutors[sessionId]){this.tutors[sessionId].splice(0,this.tutors[sessionId].length)}else{this.tutors[sessionId]=[]}this.users[sessionId].forEach(function(u){if(u["userType"]===0){_this17.learners[sessionId].push(u)}else if(u["userType"]===1){_this17.tutors[sessionId].push(u)}})}},{key:"deleteTutor",
value:function deleteTutor(sessionUserId){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var url=Routing.generate("api_delete_session_user",{sessionUser:sessionUserId});var deleteCallback=callback!==null?callback:this._removeTutorCallback;this.ClarolineAPIService.confirm({url:url,method:"DELETE"},deleteCallback,Translator.trans("unregister_tutor_from_session",{},"cursus"),Translator.trans("unregister_tutor_from_session_confirm_message",{},"cursus"))}},{key:"deleteLearner",value:function deleteLearner(sessionUserId){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var url=Routing.generate("api_delete_session_user",{sessionUser:sessionUserId});var deleteCallback=callback!==null?callback:this._removeLearnerCallback;this.ClarolineAPIService.confirm({url:url,method:"DELETE"},deleteCallback,Translator.trans("unregister_learner_from_session",{},"cursus"),Translator.trans("unregister_learner_from_session_confirm_message",{},"cursus"))}},{key:"deleteGroup",value:function deleteGroup(sessionGroupId){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var url=Routing.generate("api_delete_session_group",{sessionGroup:sessionGroupId});var deleteCallback=callback!==null?callback:this._removeGroupCallback;this.ClarolineAPIService.confirm({url:url,method:"DELETE"},deleteCallback,Translator.trans("unregister_group_from_session",{},"cursus"),Translator.trans("unregister_group_from_session_message",{},"cursus"))}},{key:"sendConfirmationMail",value:function sendConfirmationMail(sessionId,userId){var url=Routing.generate("claro_cursus_course_session_user_confirmation_mail_send",{session:sessionId,user:userId});this.ClarolineAPIService.confirm({url:url,method:"POST"},function(){},Translator.trans("send_confirmation_mail",{},"cursus"),Translator.trans("send_confirmation_mail_to_user_message",{},"cursus"))}},{key:"acceptQueue",value:function acceptQueue(queueId){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var url=Routing.generate("api_accept_session_registration_queue",{queue:queueId});var acceptCallback=callback!==null?callback:this._acceptQueueCallback;this.ClarolineAPIService.confirm({url:url,method:"POST"},acceptCallback,Translator.trans("accept_registration",{},"cursus"),Translator.trans("accept_registration_confirm_message",{},"cursus"))}},{key:"declineQueue",value:function declineQueue(queueId){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var url=Routing.generate("api_delete_session_registration_queue",{queue:queueId});var deleteCallback=callback!==null?callback:this._removePendingLearnerCallback;this.ClarolineAPIService.confirm({url:url,method:"DELETE"},deleteCallback,Translator.trans("decline_registration",{},"cursus"),Translator.trans("decline_registration_confirm_message",{},"cursus"))}},{key:"registerLearners",value:function registerLearners(_sessionId2){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var addCallback=callback!==null?callback:this._addLearnersCallback;this.$uibModal.open({template:_learners_registration_modal2.default,controller:"UsersRegistrationModalCtrl",controllerAs:"cmc",resolve:{sessionId:function sessionId(){return _sessionId2},userType:function userType(){return 0},callback:function callback(){return addCallback}}})}},{key:"registerLearnersGroups",value:function registerLearnersGroups(_sessionId3){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var addCallback=callback!==null?callback:this._addLearnersGroupsCallback;this.$uibModal.open({template:_learners_groups_registration_modal2.default,controller:"GroupsRegistrationModalCtrl",controllerAs:"cmc",resolve:{sessionId:function sessionId(){return _sessionId3},groupType:function groupType(){return 0},callback:function callback(){return addCallback}}})}},{key:"registerTutors",value:function registerTutors(_sessionId4){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var addCallback=callback!==null?callback:this._addTutorsCallback;this.$uibModal.open({template:_tutors_registration_modal2.default,controller:"UsersRegistrationModalCtrl",controllerAs:"cmc",resolve:{sessionId:function sessionId(){return _sessionId4},userType:function userType(){return 1},callback:function callback(){return addCallback}}})}},{key:"sendMessageToSession",value:function sendMessageToSession(_session2){this.$uibModal.open({template:_session_message_modal2.default,controller:"SessionMessageModalCtrl",controllerAs:"cmc",resolve:{session:function session(){return _session2}}})}},{key:"exportUsersForm",value:function exportUsersForm(_sessionId5){this.$uibModal.open({template:_session_users_export_modal2.default,controller:"SessionUsersExportModalCtrl",controllerAs:"cmc",resolve:{sessionId:function sessionId(){return _sessionId5}}})}},{key:"exportUsers",value:function exportUsers(sessionId,type){var url=Routing.generate("api_get_session_users_csv_export",{session:sessionId,type:type});window.location.href=url}}]);return SessionService}();exports.default=SessionService},694:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h4>{{ \'delete_session\'|trans:{}:\'cursus\' }}</h4>\n    </div>\n    <div class="modal-body">\n        {{ \'delete_course_session_confirm_msg\'|trans:{}:\'cursus\' }}\n        <br>\n        <br>\n        <div class="checkbox">\n            <label>\n                <input type="checkbox" ng-model="cmc.withWorkspaceDeletion">\n                <b>\n                    {{ \'delete_course_session_workspace_confirm_msg\'|trans:{}:\'cursus\' }}\n                </b>\n            </label>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'cancel\'|trans:{}:\'platform\' }}\n        </button>\n        <button class="btn btn-primary" ng-click="cmc.submit()">\n            {{ \'ok\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},695:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h4>{{ \'register_learners_to_session\'|trans:{}:\'cursus\' }}</h4>\n    </div>\n    <div class="modal-body">\n        <div class="alert alert-danger" ng-repeat="message in cmc.errorMessages">\n            {{ message }}\n        </div>\n        <div class="table-responsive" ng-if="cmc.users.length > 0">\n            <table class="table" ng-table="cmc.tableParams" show-filter="true">\n                <tr ng-repeat="user in $data">\n                    <td data-title="\'firstName\'|trans:{}:\'platform\'" filter="{firstName: \'text\'}" sortable="\'firstName\'">\n                        {{ user[\'firstName\'] }}\n                    </td>\n                    <td data-title="\'lastName\'|trans:{}:\'platform\'" filter="{lastName: \'text\'}" sortable="\'lastName\'">\n                        {{ user[\'lastName\'] }}\n                    </td>\n                    <td data-title="\'username\'|trans:{}:\'platform\'" filter="{username: \'text\'}" sortable="\'username\'">\n                        {{ user[\'username\'] }}\n                    </td>\n                    <td>\n                        <button class="btn btn-success btn-sm" ng-click="cmc.registerUser(user[\'id\'])">\n                            {{ \'register\'|trans:{}:\'platform\' }}\n                        </button>\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class="alert alert-warning" ng-if="cmc.users.length === 0">\n            {{ \'no_user\'|trans:{}:\'platform\' }}\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'close\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},696:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h4>{{ \'register_groups_to_session\'|trans:{}:\'cursus\' }}</h4>\n    </div>\n    <div class="modal-body">\n        <div class="alert alert-danger" ng-repeat="message in cmc.errorMessages">\n            {{ message }}\n        </div>\n        <div class="table-responsive" ng-if="cmc.groups.length > 0">\n            <table class="table" ng-table="cmc.tableParams" show-filter="true">\n                <tr ng-repeat="group in $data">\n                    <td data-title="\'name\'|trans:{}:\'platform\'" filter="{name: \'text\'}" sortable="\'name\'">\n                        {{ group[\'name\'] }}\n                    </td>\n                    <td>\n                        <button class="btn btn-success btn-sm" ng-click="cmc.registerGroup(group[\'id\'])">\n                            {{ \'register\'|trans:{}:\'platform\' }}\n                        </button>\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class="alert alert-warning" ng-if="cmc.groups.length === 0">\n            {{ \'no_group\'|trans:{}:\'platform\' }}\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'close\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},697:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h4>{{ \'register_tutors_to_session\'|trans:{}:\'cursus\' }}</h4>\n    </div>\n    <div class="modal-body">\n        <div class="table-responsive" ng-if="cmc.users.length > 0">\n            <table class="table" ng-table="cmc.tableParams" show-filter="true">\n                <tr ng-repeat="user in $data">\n                    <td data-title="\'firstName\'|trans:{}:\'platform\'" filter="{firstName: \'text\'}" sortable="\'firstName\'">\n                        {{ user[\'firstName\'] }}\n                    </td>\n                    <td data-title="\'lastName\'|trans:{}:\'platform\'" filter="{lastName: \'text\'}" sortable="\'lastName\'">\n                        {{ user[\'lastName\'] }}\n                    </td>\n                    <td data-title="\'username\'|trans:{}:\'platform\'" filter="{username: \'text\'}" sortable="\'username\'">\n                        {{ user[\'username\'] }}\n                    </td>\n                    <td>\n                        <button class="btn btn-success btn-sm" ng-click="cmc.registerUser(user[\'id\'])">\n                            {{ \'register\'|trans:{}:\'platform\' }}\n                        </button>\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class="alert alert-warning" ng-if="cmc.users.length === 0">\n            {{ \'no_user\'|trans:{}:\'platform\' }}\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'close\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},698:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h3>{{ cmc.title }}</h3>\n    </div>\n    <div class="modal-body">\n        <div class="form-group row" ng-class="cmc.sessionErrors[\'name\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'name\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.session[\'name\']">\n                <div class="help-block field-error" ng-if="cmc.sessionErrors[\'name\']">\n                    {{ cmc.sessionErrors[\'name\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.sessionErrors[\'startDate\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'start_date\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-6">\n                <span class="input-group">\n                    <input type="text"\n                           class="form-control"\n                           uib-datepicker-popup="{{ cmc.dates[\'start\'][\'format\'] }}"\n                           is-open="cmc.dates[\'start\'][\'open\']"\n                           datepicker-options="cmc.dateOptions"\n                           ng-required="true"\n                           placeholder="{{ cmc.dateOptions[\'placeHolder\'] }}"\n                           ng-model="cmc.session[\'startDate\']"\n                           datetimepicker-neutral-timezone\n                    />\n                    <span class="input-group-btn">\n                        <button type="button" class="btn btn-default" ng-click="cmc.openDatePicker(\'start\')">\n                            <i class="fa fa-calendar"></i>\n                        </button>\n                    </span>\n                </span>\n                <div class="help-block field-error" ng-if="cmc.sessionErrors[\'startDate\']">\n                    {{ cmc.sessionErrors[\'startDate\'] }}\n                </div>\n            </div>\n            <div class="col-md-3">\n                <uib-timepicker show-spinners="false" show-meridian="false" ng-model="cmc.session[\'startDate\']" datetimepicker-neutral-timezone>\n                </uib-timepicker>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.sessionErrors[\'endDate\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'end_date\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-6">\n                <span class="input-group">\n                    <input type="text"\n                           class="form-control"\n                           uib-datepicker-popup="{{ cmc.dates[\'end\'][\'format\'] }}"\n                           is-open="cmc.dates[\'end\'][\'open\']"\n                           datepicker-options="cmc.dateOptions"\n                           ng-required="true"\n                           placeholder="{{ cmc.dateOptions[\'placeHolder\'] }}"\n                           ng-model="cmc.session[\'endDate\']"\n                           datetimepicker-neutral-timezone\n                    />\n                    <span class="input-group-btn">\n                        <button type="button" class="btn btn-default" ng-click="cmc.openDatePicker(\'end\')">\n                            <i class="fa fa-calendar"></i>\n                        </button>\n                    </span>\n                </span>\n                <div class="help-block field-error" ng-if="cmc.sessionErrors[\'endDate\']">\n                    {{ cmc.sessionErrors[\'endDate\'] }}\n                </div>\n            </div>\n            <div class="col-md-3">\n                <uib-timepicker show-spinners="false" show-meridian="false" ng-model="cmc.session[\'endDate\']" datetimepicker-neutral-timezone>\n                </uib-timepicker>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'description\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <textarea data-ui-tinymce="cmc.tinymceOptions"\n                          data-before-unload="off"\n                          id="session-description"\n                          class="form-control"\n                          ng-model="cmc.session[\'description\']"\n                >\n                </textarea>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'default_session\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="checkbox" ng-model="cmc.session[\'defaultSession\']">\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'public_registration\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="checkbox" ng-model="cmc.session[\'publicRegistration\']">\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'public_unregistration\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="checkbox" ng-model="cmc.session[\'publicUnregistration\']">\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'session_event_registration\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <select class="form-control" ng-model="cmc.eventRegistrationType" ng-options="c[\'name\'] for c in cmc.eventRegistrationTypeChoices">\n                </select>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'cursus\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <select multiple class="form-control" ng-model="cmc.cursus" ng-options="c[\'title\'] for c in cmc.cursusList">\n                    <option></option>\n                </select>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.sessionErrors[\'maxUsers\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'max_users\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="number" class="form-control" ng-model="cmc.session[\'maxUsers\']">\n                <div class="help-block field-error" ng-if="cmc.sessionErrors[\'maxUsers\']">\n                    {{ cmc.sessionErrors[\'maxUsers\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'user_validation\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="checkbox" ng-model="cmc.session[\'userValidation\']">\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'organization_validation\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="checkbox" ng-model="cmc.session[\'organizationValidation\']">\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'registration_validation\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="checkbox" ng-model="cmc.session[\'registrationValidation\']">\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'validators\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <span class="input-group">\n                    <input type="text" class="form-control" ng-value="cmc.displayValidators()" readonly/>\n                    <span class="input-group-btn">\n                        <button type="button" class="btn btn-default" ng-click="cmc.openUserPicker()" ng-disabled="!cmc.isUserpickerAvailable()">\n                            <i class="fa fa-user"></i>\n                        </button>\n                    </span>\n                </span>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.sessionErrors[\'displayOrder\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'display_order\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="number" class="form-control" ng-model="cmc.session[\'displayOrder\']">\n                <div class="help-block field-error" ng-if="cmc.sessionErrors[\'displayOrder\']">\n                    {{ cmc.sessionErrors[\'displayOrder\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'color\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input colorpicker="hex" type="text" class="form-control" ng-model="cmc.session[\'color\']">\n            </div>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'cancel\'|trans:{}:\'platform\' }}\n        </button>\n        <button type="submit" class="btn btn-primary" ng-click="cmc.submit()">\n            {{ \'ok\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},699:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h3>{{ \'send_message_to_session_participants\'|trans:{}:\'cursus\' }}</h3>\n    </div>\n    <div class="modal-body">\n        <b>\n            {{ cmc.session[\'course\'][\'title\'] }}\n            <small>[{{ cmc.session[\'course\'][\'code\'] }}]</small>\n        </b>\n        <br>\n        {{ cmc.session[\'name\'] }}\n        <hr>\n        <div class="form-group row">\n            <div class="col-md-1">\n                <input id="internal-chk" type="checkbox" ng-model="cmc.message[\'internal\']">\n            </div>\n            <label class="control-label pointer-hand col-md-11" for="internal-chk">\n                {{ \'send_platform_message\'|trans:{}:\'cursus\' }}\n            </label>\n        </div>\n        <div class="form-group row">\n            <div class="col-md-1">\n                <input id="external-chk" type="checkbox" ng-model="cmc.message[\'external\']">\n            </div>\n            <label class="control-label pointer-hand col-md-11" for="external-chk">\n                {{ \'send_email\'|trans:{}:\'cursus\' }}\n            </label>\n        </div>\n        <hr>\n        <div class="form-group row" ng-class="cmc.messageErrors[\'object\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-12">\n                {{ \'object\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-12">\n                <input type="text" class="form-control" ng-model="cmc.message[\'object\']">\n                <div class="help-block field-error" ng-if="cmc.messageErrors[\'name\']">\n                    {{ cmc.messageErrors[\'name\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.messageErrors[\'content\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-12">\n                {{ \'message\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-12">\n                <textarea data-ui-tinymce="cmc.tinymceOptions"\n                          data-before-unload="off"\n                          id="message-body"\n                          class="form-control"\n                          ng-model="cmc.message[\'content\']"\n                >\n                </textarea>\n                <div class="help-block field-error" ng-if="cmc.messageErrors[\'content\']">\n                    {{ cmc.messageErrors[\'content\'] }}\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'cancel\'|trans:{}:\'platform\' }}\n        </button>\n        <button type="submit" class="btn btn-primary" ng-click="cmc.submit()" ng-disabled="!cmc.message[\'internal\'] && !cmc.message[\'external\']">\n            {{ \'ok\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},700:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h3>{{ \'export_users\'|trans:{}:\'cursus\' }}</h3>\n    </div>\n    <div class="modal-body">\n        <div class="form-group row">\n            <div class="col-md-1">\n                <input id="learners-chk" type="checkbox" ng-model="cmc.learners">\n            </div>\n            <label class="control-label pointer-hand col-md-11" for="learners-chk">\n                {{ \'learners\'|trans:{}:\'cursus\' }}\n            </label>\n        </div>\n        <div class="form-group row">\n            <div class="col-md-1">\n                <input id="trainers-chk" type="checkbox" ng-model="cmc.trainers">\n            </div>\n            <label class="control-label pointer-hand col-md-11" for="trainers-chk">\n                {{ \'trainers\'|trans:{}:\'cursus\' }}\n            </label>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'cancel\'|trans:{}:\'platform\' }}\n        </button>\n        <button type="submit" class="btn btn-primary" ng-click="cmc.submit()" ng-disabled="!cmc.learners && !cmc.trainers">\n            {{ \'ok\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},701:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionCreationModalCtrl=function(){function SessionCreationModalCtrl($rootScope,$http,$uibModalInstance,CursusService,CourseService,title,course,callback){(0,_classCallCheck3.default)(this,SessionCreationModalCtrl);this.$rootScope=$rootScope;this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.CursusService=CursusService;this.CourseService=CourseService;this.title=title;this.course=course;this.callback=callback;this.session={name:null,startDate:null,endDate:null,description:null,defaultSession:false,publicRegistration:false,publicUnregistration:false,cursus:[],maxUsers:null,userValidation:false,organizationValidation:false,registrationValidation:false,validators:[],eventRegistrationType:0,displayOrder:500,color:null};this.sessionErrors={name:null,startDate:null,endDate:null,maxUsers:null,displayOrder:null};this.dateOptions={formatYear:"yy",startingDay:1,placeHolder:"jj/mm/aaaa"};this.dates={start:{format:"dd/MM/yyyy",open:false},end:{format:"dd/MM/yyyy",open:false}};this.tinymceOptions=CourseService.getTinymceConfiguration();this.cursusList=[];this.cursus=[];this.validatorsRoles=[];this.validators=[];this.eventRegistrationTypeChoices=[{value:0,name:Translator.trans("event_registration_automatic",{},"cursus")},{value:1,name:Translator.trans("event_registration_manual",{},"cursus")},{value:2,name:Translator.trans("event_registration_public",{},"cursus")}];this.eventRegistrationType=this.eventRegistrationTypeChoices[0];this._userpickerCallback=this._userpickerCallback.bind(this);this.initializeSession()}(0,_createClass3.default)(SessionCreationModalCtrl,[{key:"_userpickerCallback",value:function _userpickerCallback(datas){this.validators=datas===null?[]:datas;this.refreshScope()}},{key:"initializeSession",value:function initializeSession(){var _this=this;this.CursusService.getRootCursus().then(function(d){d.forEach(function(c){return _this.cursusList.push(c)})});var url=Routing.generate("api_get_validators_roles");this.$http.get(url).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);datas.forEach(function(r){return _this.validatorsRoles.push(r["id"])})}});var startDate=new Date;var endDate=new Date(startDate);endDate.setDate(endDate.getDate()+this.course["defaultSessionDuration"]);this.session["startDate"]=startDate;this.session["endDate"]=endDate;this.session["publicRegistration"]=this.course["publicRegistration"];this.session["publicUnregistration"]=this.course["publicUnregistration"];this.session["userValidation"]=this.course["userValidation"];this.session["organizationValidation"]=this.course["organizationValidation"];this.session["registrationValidation"]=this.course["registrationValidation"];this.session["displayOrder"]=this.course["displayOrder"];if(this.course["description"]){this.session["description"]=this.course["description"]}}},{key:"displayValidators",value:function displayValidators(){var value="";this.validators.forEach(function(u){return value+=u["firstName"]+" "+u["lastName"]+", "});return value}},{key:"submit",value:function submit(){var _this2=this;this.resetErrors();if(!this.session["name"]){this.sessionErrors["name"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.sessionErrors["name"]=null}if(!this.session["startDate"]){if(this.session["startDate"]===null){this.sessionErrors["startDate"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.sessionErrors["startDate"]=Translator.trans("form_not_valid_error",{},"cursus")}}else{this.sessionErrors["startDate"]=null}if(!this.session["endDate"]){if(this.session["endDate"]===null){this.sessionErrors["endDate"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.sessionErrors["endDate"]=Translator.trans("form_not_valid_error",{},"cursus")}}else{this.sessionErrors["endDate"]=null}if(this.session["displayOrder"]===null||this.session["displayOrder"]===undefined){this.sessionErrors["displayOrder"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.session["displayOrder"]=parseInt(this.session["displayOrder"]);this.sessionErrors["displayOrder"]=null}if(this.session["maxUsers"]){this.session["maxUsers"]=parseInt(this.session["maxUsers"]);if(this.session["maxUsers"]<0){this.sessionErrors["maxUsers"]=Translator.trans("form_number_superior_error",{value:0},"cursus")}}if(this.eventRegistrationType){this.session["eventRegistrationType"]=this.eventRegistrationType["value"]}else{this.session["eventRegistrationType"]=0}this.session["cursus"]=[];this.cursus.forEach(function(c){_this2.session["cursus"].push(c["id"])});this.session["validators"]=[];this.validators.forEach(function(v){_this2.session["validators"].push(v["id"])});if(this.isValid()){var url=Routing.generate("api_post_session_creation",{course:this.course["id"]});this.$http.post(url,{sessionDatas:this.session}).then(function(d){_this2.callback(d["data"]);_this2.$uibModalInstance.close()})}}},{key:"resetErrors",value:function resetErrors(){for(var key in this.sessionErrors){this.sessionErrors[key]=null}}},{key:"isValid",value:function isValid(){var valid=true;for(var key in this.sessionErrors){if(this.sessionErrors[key]){
valid=false;break}}return valid}},{key:"isUserpickerAvailable",value:function isUserpickerAvailable(){return this.validatorsRoles.length>0}},{key:"openDatePicker",value:function openDatePicker(type){if(type==="start"){this.dates["start"]["open"]=true}else if(type==="end"){this.dates["end"]["open"]=true}}},{key:"getSelectedUsersIds",value:function getSelectedUsersIds(){var selectedUsersIds=[];this.validators.forEach(function(v){selectedUsersIds.push(v["id"])});return selectedUsersIds}},{key:"openUserPicker",value:function openUserPicker(){var userPicker=new UserPicker;var options={picker_name:"validators-picker",picker_title:Translator.trans("validators_selection",{},"cursus"),multiple:true,selected_users:this.getSelectedUsersIds(),forced_roles:this.validatorsRoles,return_datas:true};userPicker.configure(options,this._userpickerCallback);userPicker.open()}},{key:"refreshScope",value:function refreshScope(){this.$rootScope.$apply()}}]);return SessionCreationModalCtrl}();exports.default=SessionCreationModalCtrl},702:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionEditionModalCtrl=function(){function SessionEditionModalCtrl($rootScope,$http,$uibModalInstance,CursusService,CourseService,title,session,callback){(0,_classCallCheck3.default)(this,SessionEditionModalCtrl);this.$rootScope=$rootScope;this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.CursusService=CursusService;this.title=title;this.session={name:null,startDate:null,endDate:null,description:null,defaultSession:false,publicRegistration:false,publicUnregistration:false,cursus:[],maxUsers:null,userValidation:false,organizationValidation:false,registrationValidation:false,validators:[],eventRegistrationType:0,displayOrder:500,color:null};this.source=session;this.callback=callback;this.sessionErrors={name:null,startDate:null,endDate:null,maxUsers:null,displayOrder:null};this.dateOptions={formatYear:"yy",startingDay:1,placeHolder:"jj/mm/aaaa"};this.dates={start:{format:"dd/MM/yyyy",open:false},end:{format:"dd/MM/yyyy",open:false}};this.tinymceOptions=CourseService.getTinymceConfiguration();this.cursusList=[];this.cursus=[];this.validatorsRoles=[];this.validators=[];this.eventRegistrationTypeChoices=[{value:0,name:Translator.trans("event_registration_automatic",{},"cursus")},{value:1,name:Translator.trans("event_registration_manual",{},"cursus")},{value:2,name:Translator.trans("event_registration_public",{},"cursus")}];this.eventRegistrationType=this.eventRegistrationTypeChoices[0];this._userpickerCallback=this._userpickerCallback.bind(this);this.initializeSession()}(0,_createClass3.default)(SessionEditionModalCtrl,[{key:"_userpickerCallback",value:function _userpickerCallback(datas){this.validators=datas===null?[]:datas;this.refreshScope()}},{key:"initializeSession",value:function initializeSession(){var _this=this;var startDate=this.source["startDate"]?this.source["startDate"].replace(/\+.*$/,""):new Date;var endDate=this.source["endDate"]?this.source["endDate"].replace(/\+.*$/,""):new Date(startDate);this.CursusService.getRootCursus().then(function(d){d.forEach(function(c){return _this.cursusList.push(c)});_this.source["cursus"].forEach(function(sc){var selectedCursus=_this.cursusList.find(function(c){return c["id"]===sc["id"]});_this.cursus.push(selectedCursus)})});var url=Routing.generate("api_get_validators_roles");this.$http.get(url).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);datas.forEach(function(r){return _this.validatorsRoles.push(r["id"])})}});this.source["validators"].forEach(function(v){return _this.validators.push(v)});this.session["name"]=this.source["name"];this.session["startDate"]=startDate;this.session["endDate"]=endDate;this.session["defaultSession"]=this.source["defaultSession"];this.session["publicRegistration"]=this.source["publicRegistration"];this.session["publicUnregistration"]=this.source["publicUnregistration"];this.session["userValidation"]=this.source["userValidation"];this.session["organizationValidation"]=this.source["organizationValidation"];this.session["registrationValidation"]=this.source["registrationValidation"];this.session["displayOrder"]=this.source["displayOrder"];if(this.source["details"]["color"]){this.session["color"]=this.source["details"]["color"]}if(this.source["description"]){this.session["description"]=this.source["description"]}if(this.source["maxUsers"]){this.session["maxUsers"]=this.source["maxUsers"]}this.session["eventRegistrationType"]=this.source["eventRegistrationType"];this.eventRegistrationType=this.eventRegistrationTypeChoices[this.source["eventRegistrationType"]]}},{key:"displayValidators",value:function displayValidators(){var value="";this.validators.forEach(function(u){return value+=u["firstName"]+" "+u["lastName"]+", "});return value}},{key:"submit",value:function submit(){var _this2=this;this.resetErrors();if(!this.session["name"]){this.sessionErrors["name"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.sessionErrors["name"]=null}if(!this.session["startDate"]){if(this.session["startDate"]===null){this.sessionErrors["startDate"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.sessionErrors["startDate"]=Translator.trans("form_not_valid_error",{},"cursus")}}else{this.sessionErrors["startDate"]=null}if(!this.session["endDate"]){if(this.session["endDate"]===null){this.sessionErrors["endDate"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.sessionErrors["endDate"]=Translator.trans("form_not_valid_error",{},"cursus")}}else{this.sessionErrors["endDate"]=null}if(this.session["displayOrder"]===null||this.session["displayOrder"]===undefined){this.sessionErrors["displayOrder"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.session["displayOrder"]=parseInt(this.session["displayOrder"]);this.sessionErrors["displayOrder"]=null}if(this.session["maxUsers"]){this.session["maxUsers"]=parseInt(this.session["maxUsers"]);if(this.session["maxUsers"]<0){this.sessionErrors["maxUsers"]=Translator.trans("form_number_superior_error",{value:0},"cursus")}}if(this.eventRegistrationType){this.session["eventRegistrationType"]=this.eventRegistrationType["value"]}else{this.session["eventRegistrationType"]=0}this.session["cursus"]=[];this.cursus.forEach(function(c){_this2.session["cursus"].push(c["id"])});this.session["validators"]=[];this.validators.forEach(function(v){_this2.session["validators"].push(v["id"])});if(this.isValid()){var url=Routing.generate("api_put_session_edition",{session:this.source["id"]});this.$http.put(url,{sessionDatas:this.session}).then(function(d){_this2.callback(d["data"]);_this2.$uibModalInstance.close()})}}},{key:"resetErrors",value:function resetErrors(){for(var key in this.sessionErrors){this.sessionErrors[key]=null}}},{key:"isValid",value:function isValid(){var valid=true;for(var key in this.sessionErrors){if(this.sessionErrors[key]){valid=false;break}}return valid}},{key:"isUserpickerAvailable",value:function isUserpickerAvailable(){return this.validatorsRoles.length>0}},{key:"openDatePicker",value:function openDatePicker(type){if(type==="start"){this.dates["start"]["open"]=true}else if(type==="end"){this.dates["end"]["open"]=true}}},{key:"getSelectedUsersIds",value:function getSelectedUsersIds(){var selectedUsersIds=[];this.validators.forEach(function(v){selectedUsersIds.push(v["id"])});return selectedUsersIds}},{key:"openUserPicker",value:function openUserPicker(){var userPicker=new UserPicker;var options={picker_name:"validators-picker",picker_title:Translator.trans("validators_selection",{},"cursus"),multiple:true,selected_users:this.getSelectedUsersIds(),forced_roles:this.validatorsRoles,return_datas:true};userPicker.configure(options,this._userpickerCallback);userPicker.open()}},{key:"refreshScope",value:function refreshScope(){this.$rootScope.$apply()}}]);return SessionEditionModalCtrl}();exports.default=SessionEditionModalCtrl},703:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionDeletionModalCtrl=function(){function SessionDeletionModalCtrl($http,$uibModalInstance,sessionId,callback){(0,_classCallCheck3.default)(this,SessionDeletionModalCtrl);this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.sessionId=sessionId;this.withWorkspaceDeletion=false;this.callback=callback}(0,_createClass3.default)(SessionDeletionModalCtrl,[{key:"submit",value:function submit(){var _this=this;var mode=this.withWorkspaceDeletion?1:0;var route=Routing.generate("api_delete_session",{session:this.sessionId,mode:mode});this.$http.delete(route).then(function(d){if(d["status"]===200){_this.callback(d["data"]);_this.$uibModalInstance.close(d["data"])}})}}]);return SessionDeletionModalCtrl}();exports.default=SessionDeletionModalCtrl},704:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var UsersRegistrationModalCtrl=function(){function UsersRegistrationModalCtrl($http,$uibModalInstance,NgTableParams,sessionId,userType,callback){(0,_classCallCheck3.default)(this,UsersRegistrationModalCtrl);this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.sessionId=sessionId;this.userType=userType;this.callback=callback;this.users=[];this.tableParams=new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.users});this.errorMessages=[];this.loadUsers()}(0,_createClass3.default)(UsersRegistrationModalCtrl,[{key:"loadUsers",value:function loadUsers(){var _this=this;var route=Routing.generate("api_get_session_unregistered_users",{session:this.sessionId,userType:this.userType});this.$http.get(route).then(function(d){if(d["status"]===200){_this.users.splice(0,_this.users.length);var users=JSON.parse(d["data"]);users.forEach(function(u){_this.users.push(u)})}})}},{key:"registerUser",value:function registerUser(userId){var _this2=this;this.errorMessages=[];var route=Routing.generate("api_post_session_user_registration",{session:this.sessionId,user:userId,userType:this.userType});this.$http.post(route).then(function(d){if(d["status"]===200){var datas=d["data"];if(datas["status"]==="success"){_this2.callback(datas["sessionUsers"]);var index=_this2.users.findIndex(function(u){return u["id"]===userId});if(index>-1){_this2.users.splice(index,1);_this2.tableParams.reload()}}else if(datas["status"]==="failed"){var msg=Translator.trans("required_places_msg",{remainingPlaces:datas["datas"]["remainingPlaces"],requiredPlaces:datas["datas"]["requiredPlaces"]},"cursus");_this2.errorMessages.push(msg)}}})}}]);return UsersRegistrationModalCtrl}();exports.default=UsersRegistrationModalCtrl},705:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var GroupsRegistrationModalCtrl=function(){function GroupsRegistrationModalCtrl($http,$uibModalInstance,NgTableParams,sessionId,groupType,callback){(0,_classCallCheck3.default)(this,GroupsRegistrationModalCtrl);this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.sessionId=sessionId;this.groupType=groupType;this.callback=callback;this.groups=[];this.tableParams=new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.groups});this.errorMessages=[];this.loadGroups()}(0,_createClass3.default)(GroupsRegistrationModalCtrl,[{key:"loadGroups",value:function loadGroups(){var _this=this;var route=Routing.generate("api_get_session_unregistered_groups",{session:this.sessionId,groupType:this.groupType});this.$http.get(route).then(function(d){if(d["status"]===200){_this.groups.splice(0,_this.groups.length);var groups=JSON.parse(d["data"]);groups.forEach(function(g){_this.groups.push(g)})}})}},{key:"registerGroup",value:function registerGroup(groupId){var _this2=this;this.errorMessages=[];var route=Routing.generate("api_post_session_group_registration",{session:this.sessionId,group:groupId,groupType:this.groupType});this.$http.post(route).then(function(d){if(d["status"]===200){var datas=d["data"];if(datas["status"]==="success"){_this2.callback(datas["sessionGroup"],datas["sessionUsers"]);var index=_this2.groups.findIndex(function(g){return g["id"]===groupId});if(index>-1){_this2.groups.splice(index,1);_this2.tableParams.reload()}}else if(datas["status"]==="failed"){var msg=Translator.trans("required_places_msg",{remainingPlaces:datas["datas"]["remainingPlaces"],requiredPlaces:datas["datas"]["requiredPlaces"]},"cursus");_this2.errorMessages.push(msg)}}})}}]);return GroupsRegistrationModalCtrl}();exports.default=GroupsRegistrationModalCtrl},706:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionMessageModalCtrl=function(){function SessionMessageModalCtrl($http,$uibModalInstance,CourseService,session){(0,_classCallCheck3.default)(this,SessionMessageModalCtrl);this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.session=session;this.message={object:null,content:null,internal:true,external:true};this.messageErrors={object:null,content:null};this.tinymceOptions=CourseService.getTinymceConfiguration()}(0,_createClass3.default)(SessionMessageModalCtrl,[{key:"submit",value:function submit(){var _this=this;this.resetErrors();if(!this.message["object"]){this.messageErrors["object"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.messageErrors["object"]=null}if(!this.message["content"]){this.messageErrors["content"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.messageErrors["content"]=null}if(this.isValid()){var url=Routing.generate("api_post_session_message_send",{session:this.session["id"]});this.$http.post(url,{messageDatas:this.message}).then(function(d){if(d["status"]===200){_this.$uibModalInstance.close()}})}}},{key:"resetErrors",value:function resetErrors(){for(var key in this.messageErrors){this.messageErrors[key]=null}}},{key:"isValid",value:function isValid(){var valid=true;for(var key in this.messageErrors){if(this.messageErrors[key]){valid=false;break}}return valid}}]);return SessionMessageModalCtrl}();exports.default=SessionMessageModalCtrl},707:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionUsersExportModalCtrl=function(){function SessionUsersExportModalCtrl($uibModalInstance,SessionService,sessionId){(0,_classCallCheck3.default)(this,SessionUsersExportModalCtrl);this.$uibModalInstance=$uibModalInstance;this.SessionService=SessionService;this.sessionId=sessionId;this.learners=true;this.trainers=false}(0,_createClass3.default)(SessionUsersExportModalCtrl,[{key:"submit",value:function submit(){var exportType=0;if(this.learners){exportType+=1}if(this.trainers){exportType+=2}this.SessionService.exportUsers(this.sessionId,exportType);this.$uibModalInstance.close()}}]);return SessionUsersExportModalCtrl}();exports.default=SessionUsersExportModalCtrl},708:function(module,exports,__webpack_require__){"use strict";var _index=__webpack_require__(1);var _index2=_interopRequireDefault(_index);__webpack_require__(5);__webpack_require__(6);var _SessionEventService=__webpack_require__(709);var _SessionEventService2=_interopRequireDefault(_SessionEventService);var _SessionEventCreationModalCtrl=__webpack_require__(715);var _SessionEventCreationModalCtrl2=_interopRequireDefault(_SessionEventCreationModalCtrl);var _SessionEventEditionModalCtrl=__webpack_require__(716);var _SessionEventEditionModalCtrl2=_interopRequireDefault(_SessionEventEditionModalCtrl);var _SessionEventRepeatModalCtrl=__webpack_require__(717);var _SessionEventRepeatModalCtrl2=_interopRequireDefault(_SessionEventRepeatModalCtrl);var _SessionEventCommentsManagementModalCtrl=__webpack_require__(718);var _SessionEventCommentsManagementModalCtrl2=_interopRequireDefault(_SessionEventCommentsManagementModalCtrl);var _SessionEventUsersRegistrationModalCtrl=__webpack_require__(719);var _SessionEventUsersRegistrationModalCtrl2=_interopRequireDefault(_SessionEventUsersRegistrationModalCtrl);var _SessionEventUsersExportModalCtrl=__webpack_require__(720);var _SessionEventUsersExportModalCtrl2=_interopRequireDefault(_SessionEventUsersExportModalCtrl);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_index2.default.module("SessionEventModule",["ui.bootstrap","ui.bootstrap.tpls","ui.translation"]).service("SessionEventService",_SessionEventService2.default).controller("SessionEventCreationModalCtrl",_SessionEventCreationModalCtrl2.default).controller("SessionEventEditionModalCtrl",_SessionEventEditionModalCtrl2.default).controller("SessionEventRepeatModalCtrl",_SessionEventRepeatModalCtrl2.default).controller("SessionEventCommentsManagementModalCtrl",_SessionEventCommentsManagementModalCtrl2.default).controller("SessionEventUsersRegistrationModalCtrl",_SessionEventUsersRegistrationModalCtrl2.default).controller("SessionEventUsersExportModalCtrl",_SessionEventUsersExportModalCtrl2.default)},709:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _session_event_form_modal=__webpack_require__(710);var _session_event_form_modal2=_interopRequireDefault(_session_event_form_modal);var _session_event_repeat_form_modal=__webpack_require__(711);var _session_event_repeat_form_modal2=_interopRequireDefault(_session_event_repeat_form_modal);var _session_event_comments_management_modal=__webpack_require__(712);var _session_event_comments_management_modal2=_interopRequireDefault(_session_event_comments_management_modal);var _participants_registration_modal=__webpack_require__(713);var _participants_registration_modal2=_interopRequireDefault(_participants_registration_modal);var _session_event_users_export_modal=__webpack_require__(714);var _session_event_users_export_modal2=_interopRequireDefault(_session_event_users_export_modal);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionEventService=function(){function SessionEventService($http,$uibModal,ClarolineAPIService,CourseService){(0,_classCallCheck3.default)(this,SessionEventService);this.$http=$http;this.$uibModal=$uibModal;this.ClarolineAPIService=ClarolineAPIService;this.CourseService=CourseService;this.sessionEvent={};this.sessionEvents={};this.openSessionEvents={};this.closedSessionEvents={};this.users={};this._addSessionEventCallback=this._addSessionEventCallback.bind(this);this._addMultipleSessionEventsCallback=this._addMultipleSessionEventsCallback.bind(this);this._updateSessionEventCallback=this._updateSessionEventCallback.bind(this);this._removeSessionEventCallback=this._removeSessionEventCallback.bind(this);this._addUsersCallback=this._addUsersCallback.bind(this);this._removeUserCallback=this._removeUserCallback.bind(this)}(0,_createClass3.default)(SessionEventService,[{key:"_addSessionEventCallback",value:function _addSessionEventCallback(data){var eventJson=JSON.parse(data);if(eventJson["session"]["id"]){var sessionId=eventJson["session"]["id"];this.sessionEvents[sessionId].push(eventJson);this.computeSessionEventsStatusBySession(sessionId)}}},{key:"_addMultipleSessionEventsCallback",value:function _addMultipleSessionEventsCallback(data){var _this=this;var eventsJson=JSON.parse(data);var sessionIds={};eventsJson.forEach(function(e){if(e["session"]["id"]){var sessionId=e["session"]["id"];sessionIds[sessionId]=sessionId;_this.sessionEvents[sessionId].push(e)}});for(var sessionId in sessionIds){this.computeSessionEventsStatusBySession(sessionId)}}},{key:"_updateSessionEventCallback",value:function _updateSessionEventCallback(data){var eventJson=JSON.parse(data);var sessionId=eventJson["session"]["id"];var eventIndex=this.sessionEvents[sessionId].findIndex(function(e){return e["id"]===eventJson["id"]});if(eventIndex>-1){this.sessionEvents[sessionId][eventIndex]=eventJson}this.computeSessionEventsStatusBySession(sessionId)}},{key:"_removeSessionEventCallback",value:function _removeSessionEventCallback(data){var eventJson=JSON.parse(data);var sessionId=eventJson["session"]["id"];var eventIndex=this.sessionEvents[sessionId].findIndex(function(e){return e["id"]===eventJson["id"]});if(eventIndex>-1){this.sessionEvents[sessionId].splice(eventIndex,1)}this.computeSessionEventsStatusBySession(sessionId)}},{key:"_addUsersCallback",value:function _addUsersCallback(data){var _this2=this;var sessionEventUsers=JSON.parse(data);sessionEventUsers.forEach(function(seu){var sessionEventId=seu["sessionEvent"]["id"];_this2.users[sessionEventId].push(_this2.generateUserDatas(seu))})}},{key:"_removeUserCallback",value:function _removeUserCallback(data){var sessionEventUser=JSON.parse(data);var id=sessionEventUser["id"];var sessionEventId=sessionEventUser["sessionEvent"]["id"];this.CourseService.removeFromArray(this.users[sessionEventId],id)}},{key:"getSessionEvent",value:function getSessionEvent(){return this.sessionEvent}},{key:"getSessionEvents",value:function getSessionEvents(){return this.sessionEvents}},{key:"getOpenSessionEvents",value:function getOpenSessionEvents(){return this.openSessionEvents}},{key:"getOpenSessionEventsBySession",value:function getOpenSessionEventsBySession(sessionId){if(!this.openSessionEvents[sessionId]){this.openSessionEvents[sessionId]=[]}return this.openSessionEvents[sessionId]}},{key:"getClosedSessionEvents",value:function getClosedSessionEvents(){return this.closedSessionEvents}},{key:"getClosedSessionEventsBySession",value:function getClosedSessionEventsBySession(sessionId){if(!this.closedSessionEvents[sessionId]){this.closedSessionEvents[sessionId]=[]}return this.closedSessionEvents[sessionId]}},{key:"getUsersBySessionEvent",value:function getUsersBySessionEvent(sessionEventId){if(!this.users[sessionEventId]){this.users[sessionEventId]=[]}return this.users[sessionEventId]}},{key:"generateUserDatas",value:function generateUserDatas(datas){datas["userId"]=datas["user"]["id"];datas["username"]=datas["user"]["username"];datas["firstName"]=datas["user"]["firstName"];datas["lastName"]=datas["user"]["lastName"];datas["fullName"]=datas["user"]["firstName"]+" "+datas["user"]["lastName"];switch(datas["registrationStatus"]){case 0:datas["status"]=Translator.trans("registered",{},"platform");break;case 1:datas["status"]=Translator.trans("pending",{},"platform");break;default:datas["status"]=Translator.trans("unknown",{},"platform")}return datas}},{key:"loadEventsBySession",value:function loadEventsBySession(sessionId){var _this3=this;var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(this.sessionEvents[sessionId]!==undefined){this.computeSessionEventsStatusBySession(sessionId)}else{var route=Routing.generate("api_get_session_events_by_session",{session:sessionId});this.$http.get(route).then(function(d){if(d["status"]===200){_this3.sessionEvents[sessionId]=d["data"];_this3.computeSessionEventsStatusBySession(sessionId);if(callback!==null){callback(d["data"])}}})}}},{key:"loadUsersBySessionEvent",value:function loadUsersBySessionEvent(sessionEventId){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(this.users[sessionEventId]===undefined||this.users[sessionEventId].length===0){this.forceLoadUsersBySessionEvent(sessionEventId,callback)}}},{key:"forceLoadUsersBySessionEvent",value:function forceLoadUsersBySessionEvent(sessionEventId){var _this4=this;var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var route=Routing.generate("api_get_session_event_users_by_session_event",{sessionEvent:sessionEventId});this.$http.get(route).then(function(d){if(d["status"]===200){if(_this4.users[sessionEventId]===undefined){_this4.users[sessionEventId]=[]}else{_this4.users[sessionEventId].splice(0,_this4.users[sessionEventId].length)}var datas=JSON.parse(d["data"]);datas.forEach(function(seu){_this4.users[sessionEventId].push(_this4.generateUserDatas(seu))});if(callback!==null){callback(d["data"])}}})}},{key:"createSessionEvent",value:function createSessionEvent(_session){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var addCallback=callback!==null?callback:this._addSessionEventCallback;this.$uibModal.open({template:_session_event_form_modal2.default,controller:"SessionEventCreationModalCtrl",controllerAs:"cmc",resolve:{title:function title(){return Translator.trans("session_event_creation",{},"cursus")},session:function session(){return _session},callback:function callback(){return addCallback}}})}},{key:"editSessionEvent",value:function editSessionEvent(_sessionEvent){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var updateCallback=callback!==null?callback:this._updateSessionEventCallback;this.$uibModal.open({template:_session_event_form_modal2.default,controller:"SessionEventEditionModalCtrl",controllerAs:"cmc",resolve:{title:function title(){return Translator.trans("session_event_edition",{},"cursus")},sessionEvent:function sessionEvent(){return _sessionEvent},callback:function callback(){return updateCallback}}})}},{key:"deleteSessionEvent",value:function deleteSessionEvent(sessionEventId){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var url=Routing.generate("api_delete_session_event",{sessionEvent:sessionEventId});var deleteCallback=callback!==null?callback:this._removeSessionEventCallback;this.ClarolineAPIService.confirm({url:url,method:"DELETE"},deleteCallback,Translator.trans("delete_session_event",{},"cursus"),Translator.trans("delete_session_event_confirm_message",{},"cursus"))}},{key:"getSessionEventStatus",value:function getSessionEventStatus(start,end){var now=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var status="";var startDate=new Date(start);var endDate=new Date(end);var currentDate=now===null?new Date:now;if(startDate.getTime()>currentDate.getTime()){status="not_started"}else if(startDate.getTime()<=currentDate.getTime()&&endDate.getTime()>currentDate.getTime()){status="ongoing"}else if(endDate.getTime()<currentDate.getTime()){status="closed"}return status}},{key:"computeSessionEventsStatusBySession",value:function computeSessionEventsStatusBySession(sessionId){var _this5=this;var now=new Date;if(this.openSessionEvents[sessionId]){this.openSessionEvents[sessionId].splice(0,this.openSessionEvents[sessionId].length)}else{this.openSessionEvents[sessionId]=[]}if(this.closedSessionEvents[sessionId]){this.closedSessionEvents[sessionId].splice(0,this.closedSessionEvents[sessionId].length)}else{this.closedSessionEvents[sessionId]=[]}this.sessionEvents[sessionId].forEach(function(e){if(e["location"]){e["address"]="\n          "+e["location"]["street"]+", "+e["location"]["street_number"]+" "+(e["location"]["box_number"]?"/"+e["location"]["box_number"]:"")+"<br>\n          "+e["location"]["pc"]+" "+e["location"]["town"]+"<br>\n          "+e["location"]["country"]+"\n          "+(e["location"]["phone"]?"<br>"+e["location"]["phone"]:"")+"\n        "}e["status"]=_this5.getSessionEventStatus(e["startDate"],e["endDate"],now);if(e["status"]==="closed"){_this5.closedSessionEvents[sessionId].push(e)}else{_this5.openSessionEvents[sessionId].push(e)}})}},{key:"repeatEvent",value:function repeatEvent(_sessionEvent2){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var addCallback=callback!==null?callback:this._addMultipleSessionEventsCallback;this.$uibModal.open({template:_session_event_repeat_form_modal2.default,controller:"SessionEventRepeatModalCtrl",controllerAs:"cmc",resolve:{sessionEvent:function sessionEvent(){return _sessionEvent2},callback:function callback(){return addCallback}}})}},{key:"manageComments",value:function manageComments(_sessionEvent3){this.$uibModal.open({template:_session_event_comments_management_modal2.default,controller:"SessionEventCommentsManagementModalCtrl",controllerAs:"cmc",resolve:{sessionEvent:function sessionEvent(){return _sessionEvent3}}})}},{key:"createComment",value:function createComment(sessionEventId,content){var url=Routing.generate("api_post_session_event_comment",{sessionEvent:sessionEventId});return this.$http.post(url,{comment:content}).then(function(d){if(d["status"]===200){return JSON.parse(d["data"])}})}},{key:"editComment",value:function editComment(commentId,content){var url=Routing.generate("api_put_session_event_comment_edit",{sessionEventComment:commentId});return this.$http.put(url,{comment:content}).then(function(d){if(d["status"]===200){return JSON.parse(d["data"])}})}},{key:"deleteComment",value:function deleteComment(commentId){var url=Routing.generate("api_delete_session_event_comment",{sessionEventComment:commentId});return this.$http.delete(url).then(function(d){if(d["status"]===200){return d["data"]}})}},{key:"getSessionEventById",value:function getSessionEventById(sessionId,sessionEventId){var _this6=this;var index=this.sessionEvents[sessionId]?this.sessionEvents[sessionId].findIndex(function(se){return se["id"]===sessionEventId}):-1;if(index>-1){this.sessionEvent=this.sessionEvents[sessionId][index];return"initialized"}else{for(var key in this.sessionEvent){delete this.sessionEvent[key]}var route=Routing.generate("api_get_session_event_by_id",{sessionEvent:sessionEventId});return this.$http.get(route).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);for(var _key in datas){_this6.sessionEvent[_key]=datas[_key]}return"initialized"}})}}},{key:"registerParticipants",value:function registerParticipants(_sessionId,_sessionEventId){var callback=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var addCallback=callback!==null?callback:this._addUsersCallback;this.$uibModal.open({template:_participants_registration_modal2.default,controller:"SessionEventUsersRegistrationModalCtrl",controllerAs:"cmc",resolve:{sessionId:function sessionId(){return _sessionId},sessionEventId:function sessionEventId(){return _sessionEventId},callback:function callback(){return addCallback}}})}},{key:"deleteParticipant",value:function deleteParticipant(sessionEventUserId){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;
var removeCallback=callback!==null?callback:this._removeUserCallback;var url=Routing.generate("api_delete_session_event_user",{sessionEventUser:sessionEventUserId});this.ClarolineAPIService.confirm({url:url,method:"DELETE"},removeCallback,Translator.trans("remove_participant",{},"cursus"),Translator.trans("remove_participant_confirm_message",{},"cursus"))}},{key:"exportUsersForm",value:function exportUsersForm(_sessionEventId2){this.$uibModal.open({template:_session_event_users_export_modal2.default,controller:"SessionEventUsersExportModalCtrl",controllerAs:"cmc",resolve:{sessionEventId:function sessionEventId(){return _sessionEventId2}}})}},{key:"exportUsers",value:function exportUsers(sessionEventId,type){var url=Routing.generate("api_get_session_event_users_csv_export",{sessionEvent:sessionEventId,type:type});window.location.href=url}}]);return SessionEventService}();exports.default=SessionEventService},710:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h3>{{ cmc.title }}</h3>\n    </div>\n    <div class="modal-body">\n        <div class="form-group row" ng-class="cmc.sessionEventErrors[\'name\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'name\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.sessionEvent[\'name\']">\n                <div class="help-block field-error" ng-if="cmc.sessionEventErrors[\'name\']">\n                    {{ cmc.sessionEventErrors[\'name\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'description\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <textarea data-ui-tinymce="cmc.tinymceOptions"\n                          data-before-unload="off"\n                          id="session-event-description"\n                          class="form-control"\n                          ng-model="cmc.sessionEvent[\'description\']"\n                >\n                </textarea>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.sessionEventErrors[\'startDate\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'start_date\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-6">\n                <span class="input-group">\n                    <input type="text"\n                           class="form-control"\n                           uib-datepicker-popup="{{ cmc.dates[\'start\'][\'format\'] }}"\n                           is-open="cmc.dates[\'start\'][\'open\']"\n                           datepicker-options="cmc.dateOptions"\n                           ng-required="true"\n                           placeholder="{{ cmc.dateOptions[\'placeHolder\'] }}"\n                           ng-model="cmc.sessionEvent[\'startDate\']"\n                           datetimepicker-neutral-timezone\n                    />\n                    <span class="input-group-btn">\n                        <button type="button" class="btn btn-default" ng-click="cmc.openDatePicker(\'start\')">\n                            <i class="fa fa-calendar"></i>\n                        </button>\n                    </span>\n                </span>\n                <div class="help-block field-error" ng-if="cmc.sessionEventErrors[\'startDate\']">\n                    {{ cmc.sessionEventErrors[\'startDate\'] }}\n                </div>\n            </div>\n            <div class="col-md-3">\n                <uib-timepicker show-spinners="false" show-meridian="false" ng-model="cmc.sessionEvent[\'startDate\']" datetimepicker-neutral-timezone>\n                </uib-timepicker>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.sessionEventErrors[\'endDate\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'end_date\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-6">\n                <span class="input-group">\n                    <input type="text"\n                           class="form-control"\n                           uib-datepicker-popup="{{ cmc.dates[\'end\'][\'format\'] }}"\n                           is-open="cmc.dates[\'end\'][\'open\']"\n                           datepicker-options="cmc.dateOptions"\n                           ng-required="true"\n                           placeholder="{{ cmc.dateOptions[\'placeHolder\'] }}"\n                           ng-model="cmc.sessionEvent[\'endDate\']"\n                           datetimepicker-neutral-timezone\n                    />\n                    <span class="input-group-btn">\n                        <button type="button" class="btn btn-default" ng-click="cmc.openDatePicker(\'end\')">\n                            <i class="fa fa-calendar"></i>\n                        </button>\n                    </span>\n                </span>\n                <div class="help-block field-error" ng-if="cmc.sessionEventErrors[\'endDate\']">\n                    {{ cmc.sessionEventErrors[\'endDate\'] }}\n                </div>\n            </div>\n            <div class="col-md-3">\n                <uib-timepicker show-spinners="false" show-meridian="false" ng-model="cmc.sessionEvent[\'endDate\']" datetimepicker-neutral-timezone>\n                </uib-timepicker>\n            </div>\n        </div>\n        <div class="form-group row" ng-if="!cmc.isSessionEventRegistrationDisabled">\n            <label class="control-label col-md-3">\n                {{ \'session_event_registration\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <select class="form-control" ng-model="cmc.registrationType" ng-options="c[\'name\'] for c in cmc.registrationTypeChoices">\n                </select>\n            </div>\n        </div>\n        <div class="form-group row"\n             ng-class="cmc.sessionEventErrors[\'maxUsers\'] ? \'has-error\' : \'\'"\n             ng-if="!cmc.isSessionEventRegistrationDisabled && !cmc.isAuto()"\n        >\n            <label class="control-label col-md-3">\n                {{ \'max_users\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="number" class="form-control" ng-model="cmc.sessionEvent[\'maxUsers\']">\n                <div class="help-block field-error" ng-if="cmc.sessionEventErrors[\'maxUsers\']">\n                    {{ cmc.sessionEventErrors[\'maxUsers\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'location\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <select class="form-control" ng-model="cmc.location" ng-options="l[\'name\'] for l in cmc.locations">\n                    <option></option>\n                </select>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'location_extra\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <textarea data-ui-tinymce="cmc.tinymceOptions"\n                          data-before-unload="off"\n                          id="session-event-location-extra"\n                          class="form-control"\n                          ng-model="cmc.sessionEvent[\'locationExtra\']"\n                >\n                </textarea>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'tutors\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <select multiple class="form-control" ng-model="cmc.tutors" ng-options="t[\'fullName\'] for t in cmc.tutorsList">\n                    <option></option>\n                </select>\n            </div>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'cancel\'|trans:{}:\'platform\' }}\n        </button>\n        <button type="submit" class="btn btn-primary" ng-click="cmc.submit()">\n            {{ \'ok\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},711:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h3>{{ \'repeat_session_event\'|trans:{}:\'cursus\' }}</h3>\n    </div>\n    <div class="modal-body">\n        <div class="row">\n            <div class="col-md-12">\n            <label class="control-label" >\n                {{ \'repetition\'|trans:{}:\'cursus\' }}\n            </label>\n            </div>\n        </div>\n        <div class="alert alert-danger" ng-if="cmc.repeatOptionsErrors[\'iteration\']">\n            {{ cmc.repeatOptionsErrors[\'iteration\'] }}\n        </div>\n        <div class="row">\n            <div class="col-md-6">\n                <input type="checkbox" ng-model="cmc.repeatOptions[\'monday\']">\n                <span class="pointer-hand" ng-click="cmc.checkDay(\'monday\')">\n                    {{ \'day.monday\'|trans:{}:\'agenda\' }}\n                </span>\n            </div>\n            <div class="col-md-6">\n                <input type="checkbox" ng-model="cmc.repeatOptions[\'saturday\']">\n                <span class="pointer-hand" ng-click="cmc.checkDay(\'saturday\')">\n                    {{ \'day.saturday\'|trans:{}:\'agenda\' }}\n                </span>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-md-6">\n                <input type="checkbox" ng-model="cmc.repeatOptions[\'tuesday\']">\n                <span class="pointer-hand" ng-click="cmc.checkDay(\'tuesday\')">\n                    {{ \'day.tuesday\'|trans:{}:\'agenda\' }}\n                </span>\n            </div>\n            <div class="col-md-6">\n                <input type="checkbox" ng-model="cmc.repeatOptions[\'sunday\']">\n                <span class="pointer-hand" ng-click="cmc.checkDay(\'sunday\')">\n                    {{ \'day.sunday\'|trans:{}:\'agenda\' }}\n                </span>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-md-12">\n                <input type="checkbox" ng-model="cmc.repeatOptions[\'wednesday\']">\n                <span class="pointer-hand" ng-click="cmc.checkDay(\'wednesday\')">\n                    {{ \'day.wednesday\'|trans:{}:\'agenda\' }}\n                </span>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-md-12">\n                <input type="checkbox" ng-model="cmc.repeatOptions[\'thursday\']">\n                <span class="pointer-hand" ng-click="cmc.checkDay(\'thursday\')">\n                    {{ \'day.thursday\'|trans:{}:\'agenda\' }}\n                </span>\n            </div>\n        </div>\n        <div class="row">\n            <div class="col-md-12">\n                <input type="checkbox" ng-model="cmc.repeatOptions[\'friday\']">\n                <span class="pointer-hand" ng-click="cmc.checkDay(\'friday\')">\n                    {{ \'day.friday\'|trans:{}:\'agenda\' }}\n                </span>\n            </div>\n        </div>\n        <hr>\n        <div class="form-group row" ng-class="cmc.repeatOptionsErrors[\'endDate\'] ? \'has-error\' : \'\'" ng-if="!cmc.repeatOptions[\'duration\']">\n            <label class="control-label col-md-3">\n                {{ \'until\'|trans:{}:\'cursus\' }}\n            </label>\n            <div class="col-md-9">\n                <span class="input-group">\n                    <input type="text"\n                           class="form-control"\n                           uib-datepicker-popup="{{ cmc.endDate[\'format\'] }}"\n                           is-open="cmc.endDate[\'open\']"\n                           datepicker-options="cmc.dateOptions"\n                           ng-required="true"\n                           placeholder="{{ cmc.dateOptions[\'placeHolder\'] }}"\n                           ng-model="cmc.endDate[\'date\']"\n                    />\n                    <span class="input-group-btn">\n                        <button type="button" class="btn btn-default" ng-click="cmc.openDatePicker()">\n                            <i class="fa fa-calendar"></i>\n                        </button>\n                    </span>\n                </span>\n                <div class="help-block field-error" ng-if="cmc.repeatOptionsErrors[\'endDate\']">\n                    {{ cmc.repeatOptionsErrors[\'endDate\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.repeatOptionsErrors[\'duration\'] ? \'has-error\' : \'\'" ng-if="!cmc.endDate[\'date\']">\n            <label class="control-label col-md-3">\n                {{ \'duration\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <span class="input-group">\n                    <input type="number" class="form-control" ng-model="cmc.repeatOptions[\'duration\']">\n                     <span class="input-group-addon">\n                         {{ \'weeks\'|trans:{}:\'platform\' }}\n                     </span>\n                </span>\n                <div class="help-block field-error" ng-if="cmc.repeatOptionsErrors[\'duration\']">\n                    {{ cmc.repeatOptionsErrors[\'duration\'] }}\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'cancel\'|trans:{}:\'platform\' }}\n        </button>\n        <button type="submit" class="btn btn-primary" ng-click="cmc.submit()">\n            {{ \'ok\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},712:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h3>{{ \'informations_management\'|trans:{}:\'cursus\' }}</h3>\n    </div>\n    <div class="modal-body">\n        <uib-accordion>\n            <uib-accordion-group is-open="cmc.isCollapsed">\n                <uib-accordion-heading>\n                    {{ \'session_event\'|trans:{}:\'cursus\' }}\n                    <i class="pull-right fa" ng-class="cmc.isCollapsed ? \'fa-chevron-down\' : \'fa-chevron-right\'">\n                    </i>\n                </uib-accordion-heading>\n                <div>\n                    <h3>{{ cmc.sessionEvent[\'name\'] }}</h3>\n                    <div>\n                        {{ cmc.sessionEvent[\'startDate\']|date:\'dd/MM/yyyy HH:mm\' }}\n                        <i class="fa fa-long-arrow-right"></i>\n                        {{ cmc.sessionEvent[\'endDate\']|date:\'dd/MM/yyyy HH:mm\' }}\n                    </div>\n                    <div ng-bind-html="cmc.sessionEvent[\'address\']|trust_html">\n                    </div>\n                    <div ng-bind-html="cmc.sessionEvent[\'locationExtra\']|trust_html">\n                    </div>\n                    <hr ng-if="cmc.sessionEvent[\'description\']">\n                    <div ng-bind-html="cmc.sessionEvent[\'description\']|trust_html">\n                    </div>\n                </div>\n            </uib-accordion-group>\n        </uib-accordion>\n        <button class="btn btn-default" ng-if="!cmc.isCreationFormVisible" ng-click="cmc.displayCommentCreationForm()">\n            <i class="fa fa-plus-circle"></i>\n            {{ \'add_information\'|trans:{}:\'cursus\' }}\n        </button>\n        <div ng-if="cmc.isCreationFormVisible" >\n            <hr>\n            <label>{{ \'add_information\'|trans:{}:\'cursus\' }}</label>\n            <textarea data-ui-tinymce="cmc.tinymceOptions"\n                      data-before-unload="off"\n                      id="session-event-comment-create"\n                      class="form-control"\n                      ng-model="cmc.newComment"\n            >\n            </textarea>\n            <br>\n            <button class="btn btn-primary" ng-click="cmc.confirmCommentCreation()" ng-disabled="!cmc.newComment">\n                {{ \'ok\'|trans:{}:\'platform\' }}\n            </button>\n            <button class="btn btn-default" ng-click="cmc.cancelCommentCreation()">\n                {{ \'cancel\'|trans:{}:\'platform\' }}\n            </button>\n            <hr>\n        </div>\n        <br>\n        <br>\n        <div class="table-responsive" ng-if="!cmc.updateId">\n            <table class="table" ng-table="cmc.tableParams" show-filter="true">\n                <tr ng-repeat="comment in $data">\n                    <td data-title="\'informations\'|trans:{}:\'platform\'" filter="{content: \'text\'}" sortable="\'content\'">\n                        <div ng-bind-html="comment[\'content\']|trust_html">\n                        </div>\n                    </td>\n                    <td class="text-center" data-title="\'creation_date\'|trans:{}:\'platform\'" sortable="\'creationDate\'">\n                        {{ comment[\'creationDate\']|date:\'dd/MM/yyyy\' }}\n                    </td>\n                    <td class="text-center">\n                        <div class="btn-group" role="group" style="display:flex">\n                            <button type="button"\n                                    class="btn btn-primary btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="left"\n                                    title="{{ \'edit_information\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.displayCommentEditionForm(comment)"\n                            >\n                                <i class="fa fa-edit"></i>\n                            </button>\n                            <button type="button"\n                                    class="btn btn-danger btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="left"\n                                    title="{{ \'delete_information\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.deleteComment(comment[\'id\'])"\n                            >\n                                <i class="fa fa-trash"></i>\n                            </button>\n                        </div>\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div ng-if="cmc.updateId">\n            <hr>\n            <label>{{ \'edit_information\'|trans:{}:\'cursus\' }}</label>\n            <textarea data-ui-tinymce="cmc.tinymceOptions"\n                      data-before-unload="off"\n                      id="session-event-comment-edit"\n                      class="form-control"\n                      ng-model="cmc.updateComment"\n            >\n            </textarea>\n            <br>\n            <button class="btn btn-primary" ng-click="cmc.confirmCommentEdition()" ng-disabled="!cmc.updateComment">\n                {{ \'ok\'|trans:{}:\'platform\' }}\n            </button>\n            <button class="btn btn-default" ng-click="cmc.cancelCommentEdition()">\n                {{ \'cancel\'|trans:{}:\'platform\' }}\n            </button>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'close\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},713:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h4>{{ \'register_participants_to_session_event\'|trans:{}:\'cursus\' }}</h4>\n    </div>\n    <div class="modal-body">\n        <div class="alert alert-danger" ng-repeat="message in cmc.errorMessages">\n            {{ message }}\n        </div>\n        <div class="table-responsive" ng-if="cmc.users.length > 0">\n            <table class="table" ng-table="cmc.tableParams" show-filter="true">\n                <tr ng-repeat="user in $data">\n                    <td data-title="\'firstName\'|trans:{}:\'platform\'" filter="{firstName: \'text\'}" sortable="\'firstName\'">\n                        {{ user[\'firstName\'] }}\n                    </td>\n                    <td data-title="\'lastName\'|trans:{}:\'platform\'" filter="{lastName: \'text\'}" sortable="\'lastName\'">\n                        {{ user[\'lastName\'] }}\n                    </td>\n                    <td data-title="\'username\'|trans:{}:\'platform\'" filter="{username: \'text\'}" sortable="\'username\'">\n                        {{ user[\'username\'] }}\n                    </td>\n                    <td>\n                        <button class="btn btn-success btn-sm" ng-click="cmc.registerUser(user[\'id\'])">\n                            {{ \'register\'|trans:{}:\'platform\' }}\n                        </button>\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class="alert alert-warning" ng-if="cmc.users.length === 0">\n            {{ \'no_user\'|trans:{}:\'platform\' }}\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'close\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},714:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h3>{{ \'export_users\'|trans:{}:\'cursus\' }}</h3>\n    </div>\n    <div class="modal-body">\n        <div class="form-group row">\n            <div class="col-md-1">\n                <input id="participants-chk" type="checkbox" ng-model="cmc.participants">\n            </div>\n            <label class="control-label pointer-hand col-md-11" for="participants-chk">\n                {{ \'participants\'|trans:{}:\'cursus\' }}\n            </label>\n        </div>\n        <div class="form-group row">\n            <div class="col-md-1">\n                <input id="trainers-chk" type="checkbox" ng-model="cmc.trainers">\n            </div>\n            <label class="control-label pointer-hand col-md-11" for="trainers-chk">\n                {{ \'trainers\'|trans:{}:\'cursus\' }}\n            </label>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'cancel\'|trans:{}:\'platform\' }}\n        </button>\n        <button type="submit" class="btn btn-primary" ng-click="cmc.submit()" ng-disabled="!cmc.participants && !cmc.trainers">\n            {{ \'ok\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},715:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionEventCreationModalCtrl=function(){function SessionEventCreationModalCtrl($http,$uibModalInstance,CourseService,SessionService,title,session,callback){(0,_classCallCheck3.default)(this,SessionEventCreationModalCtrl);this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.CourseService=CourseService;this.SessionService=SessionService;this.title=title;this.session=session;this.callback=callback;this.sessionEvent={name:null,startDate:null,endDate:null,description:null,location:null,locationExtra:null,internalLocation:false,locationResource:null,tutors:[],maxUsers:null,registrationType:0};this.sessionEventErrors={name:null,startDate:null,endDate:null,maxUsers:null};this.dateOptions={formatYear:"yy",startingDay:1,placeHolder:"jj/mm/aaaa"};this.dates={start:{format:"dd/MM/yyyy",open:false},end:{format:"dd/MM/yyyy",open:false}};this.tinymceOptions=CourseService.getTinymceConfiguration();this.locations=[];this.location=null;this.locationResources=[];this.locationResource=null;this.registrationTypeChoices=[{value:0,name:Translator.trans("event_registration_automatic",{},"cursus")},{value:1,name:Translator.trans("event_registration_manual",{},"cursus")},{value:2,name:Translator.trans("event_registration_public",{},"cursus")}];this.registrationType=this.registrationTypeChoices[0];this.tutorsList=SessionService.getTutorsBySession(session["id"]);this.tutors=SessionService.getTutorsBySession(session["id"]);this.isSessionEventRegistrationDisabled=true;this.initializeSessionEvent()}(0,_createClass3.default)(SessionEventCreationModalCtrl,[{key:"initializeSessionEvent",value:function initializeSessionEvent(){var _this=this;if(this.session["description"]){this.sessionEvent["description"]=this.session["description"]}if(this.session["eventRegistrationType"]){this.sessionEvent["registrationType"]=this.session["eventRegistrationType"];this.registrationType=this.registrationTypeChoices[this.session["eventRegistrationType"]]}if(this.session["maxUsers"]){this.sessionEvent["maxUsers"]=this.session["maxUsers"]}this.sessionEvent["startDate"]=this.session["startDate"].replace(/\+.*$/,"");this.sessionEvent["endDate"]=this.session["endDate"].replace(/\+.*$/,"");this.CourseService.getGeneralParameters().then(function(d){_this.isSessionEventRegistrationDisabled=d["disableSessionEventRegistration"]});this.CourseService.getLocations().then(function(d){d.forEach(function(l){return _this.locations.push(l)})});this.CourseService.getLocationResources().then(function(d){d.forEach(function(r){return _this.locationResources.push(r)})})}},{key:"submit",value:function submit(){var _this2=this;this.resetErrors();if(!this.sessionEvent["name"]){this.sessionEventErrors["name"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.sessionEventErrors["name"]=null}if(!this.sessionEvent["startDate"]){if(this.sessionEvent["startDate"]===null){this.sessionEventErrors["startDate"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.sessionEventErrors["startDate"]=Translator.trans("form_not_valid_error",{},"cursus")}}else{this.sessionEventErrors["startDate"]=null}if(!this.sessionEvent["endDate"]){if(this.sessionEvent["endDate"]===null){this.sessionEventErrors["endDate"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.sessionEventErrors["endDate"]=Translator.trans("form_not_valid_error",{},"cursus")}}else{this.sessionEventErrors["endDate"]=null}if(this.isSessionEventRegistrationDisabled){this.sessionEvent["registrationType"]=0;this.sessionEvent["maxUsers"]=null}else{if(this.registrationType){this.sessionEvent["registrationType"]=this.registrationType["value"]}else{this.sessionEvent["registrationType"]=0}if(this.sessionEvent["registrationType"]===0){this.sessionEvent["maxUsers"]=null}if(this.sessionEvent["maxUsers"]){this.sessionEvent["maxUsers"]=parseInt(this.sessionEvent["maxUsers"]);if(this.sessionEvent["maxUsers"]<0){this.sessionEventErrors["maxUsers"]=Translator.trans("form_number_superior_error",{value:0},"cursus")}}}if(this.location){this.sessionEvent["location"]=this.location["id"]}else{this.sessionEvent["location"]=null}if(this.locationResource){this.sessionEvent["locationResource"]=this.locationResource["id"]}else{this.sessionEvent["locationResource"]=null}this.sessionEvent["tutors"]=[];this.tutors.forEach(function(t){return _this2.sessionEvent["tutors"].push(t["userId"])});if(this.isValid()){var url=Routing.generate("api_post_session_event_creation",{session:this.session["id"]});this.$http.post(url,{sessionEventDatas:this.sessionEvent}).then(function(d){_this2.callback(d["data"]);_this2.$uibModalInstance.close()})}}},{key:"resetErrors",value:function resetErrors(){for(var key in this.sessionEventErrors){this.sessionEventErrors[key]=null}}},{key:"isValid",value:function isValid(){var valid=true;for(var key in this.sessionEventErrors){if(this.sessionEventErrors[key]){valid=false;break}}return valid}},{key:"openDatePicker",value:function openDatePicker(type){if(type==="start"){this.dates["start"]["open"]=true}else if(type==="end"){this.dates["end"]["open"]=true}}},{key:"isAuto",value:function isAuto(){return this.registrationType===this.registrationTypeChoices[0]}}]);return SessionEventCreationModalCtrl}();exports.default=SessionEventCreationModalCtrl},716:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionEventEditionModalCtrl=function(){function SessionEventEditionModalCtrl($http,$uibModalInstance,CourseService,SessionService,title,sessionEvent,callback){(0,_classCallCheck3.default)(this,SessionEventEditionModalCtrl);this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.CourseService=CourseService;this.callback=callback;this.title=title;this.source=sessionEvent;this.sessionEvent={name:null,startDate:null,endDate:null,description:null,location:null,locationExtra:null,internalLocation:false,locationResource:null,tutors:[],maxUsers:null,registrationType:0};this.sessionEventErrors={name:null,startDate:null,endDate:null,maxUsers:null};this.dateOptions={formatYear:"yy",startingDay:1,placeHolder:"jj/mm/aaaa"};this.dates={start:{format:"dd/MM/yyyy",open:false},end:{format:"dd/MM/yyyy",open:false}};this.tinymceOptions=CourseService.getTinymceConfiguration();this.locations=[];this.location=null;this.locationResources=[];this.locationResource=null;this.registrationTypeChoices=[{value:0,name:Translator.trans("event_registration_automatic",{},"cursus")},{value:1,name:Translator.trans("event_registration_manual",{},"cursus")},{value:2,name:Translator.trans("event_registration_public",{},"cursus")}];this.registrationType=this.registrationTypeChoices[0];this.tutorsList=SessionService.getTutorsBySession(this.source["session"]["id"]);this.tutors=[];this.isSessionEventRegistrationDisabled=true;this.initializeSessionEvent()}(0,_createClass3.default)(SessionEventEditionModalCtrl,[{key:"initializeSessionEvent",value:function initializeSessionEvent(){var _this=this;this.sessionEvent["name"]=this.source["name"];this.sessionEvent["startDate"]=this.source["startDate"].replace(/\+.*$/,"");this.sessionEvent["endDate"]=this.source["endDate"].replace(/\+.*$/,"");if(this.source["description"]){this.sessionEvent["description"]=this.source["description"]}this.sessionEvent["registrationType"]=this.source["registrationType"];this.registrationType=this.registrationTypeChoices[this.source["registrationType"]];if(this.source["maxUsers"]){this.sessionEvent["maxUsers"]=this.source["maxUsers"]}if(this.source["locationExtra"]){this.sessionEvent["locationExtra"]=this.source["locationExtra"];
}if(this.source["locationResource"]){this.sessionEvent["internalLocation"]=true}this.CourseService.getGeneralParameters().then(function(d){_this.isSessionEventRegistrationDisabled=d["disableSessionEventRegistration"]});this.CourseService.getLocations().then(function(d){d.forEach(function(r){return _this.locations.push(r)});if(_this.source["location"]){var selectedLocation=_this.locations.find(function(l){return l["id"]===_this.source["location"]["id"]});_this.location=selectedLocation}});this.CourseService.getLocationResources().then(function(d){d.forEach(function(r){return _this.locationResources.push(r)});if(_this.source["locationResource"]){var selectedResource=_this.locationResources.find(function(lr){return lr["id"]===_this.source["locationResource"]["id"]});_this.locationResource=selectedResource}});this.source["tutors"].forEach(function(t){var selectedTutor=_this.tutorsList.find(function(tl){return t["id"]===tl["userId"]});_this.tutors.push(selectedTutor)})}},{key:"submit",value:function submit(){var _this2=this;this.resetErrors();if(!this.sessionEvent["name"]){this.sessionEventErrors["name"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.sessionEventErrors["name"]=null}if(!this.sessionEvent["startDate"]){if(this.sessionEvent["startDate"]===null){this.sessionEventErrors["startDate"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.sessionEventErrors["startDate"]=Translator.trans("form_not_valid_error",{},"cursus")}}else{this.sessionEventErrors["startDate"]=null}if(!this.sessionEvent["endDate"]){if(this.sessionEvent["endDate"]===null){this.sessionEventErrors["endDate"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.sessionEventErrors["endDate"]=Translator.trans("form_not_valid_error",{},"cursus")}}else{this.sessionEventErrors["endDate"]=null}if(this.isSessionEventRegistrationDisabled){this.sessionEvent["registrationType"]=0;this.sessionEvent["maxUsers"]=null}else{if(this.registrationType){this.sessionEvent["registrationType"]=this.registrationType["value"]}else{this.sessionEvent["registrationType"]=0}if(this.sessionEvent["registrationType"]===0){this.sessionEvent["maxUsers"]=null}if(this.sessionEvent["maxUsers"]){this.sessionEvent["maxUsers"]=parseInt(this.sessionEvent["maxUsers"]);if(this.sessionEvent["maxUsers"]<0){this.sessionEventErrors["maxUsers"]=Translator.trans("form_number_superior_error",{value:0},"cursus")}}}if(this.location){this.sessionEvent["location"]=this.location["id"]}else{this.sessionEvent["location"]=null}if(this.locationResource){this.sessionEvent["locationResource"]=this.locationResource["id"]}else{this.sessionEvent["locationResource"]=null}this.sessionEvent["tutors"]=[];this.tutors.forEach(function(t){return _this2.sessionEvent["tutors"].push(t["userId"])});if(this.isValid()){var url=Routing.generate("api_put_session_event_edition",{sessionEvent:this.source["id"]});this.$http.post(url,{sessionEventDatas:this.sessionEvent}).then(function(d){_this2.callback(d["data"]);_this2.$uibModalInstance.close()})}}},{key:"resetErrors",value:function resetErrors(){for(var key in this.sessionEventErrors){this.sessionEventErrors[key]=null}}},{key:"isValid",value:function isValid(){var valid=true;for(var key in this.sessionEventErrors){if(this.sessionEventErrors[key]){valid=false;break}}return valid}},{key:"openDatePicker",value:function openDatePicker(type){if(type==="start"){this.dates["start"]["open"]=true}else if(type==="end"){this.dates["end"]["open"]=true}}},{key:"isAuto",value:function isAuto(){return this.registrationType===this.registrationTypeChoices[0]}}]);return SessionEventEditionModalCtrl}();exports.default=SessionEventEditionModalCtrl},717:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionEventRepeatModalCtrl=function(){function SessionEventRepeatModalCtrl($http,$uibModalInstance,sessionEvent,callback){(0,_classCallCheck3.default)(this,SessionEventRepeatModalCtrl);this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.sessionEvent=sessionEvent;this.callback=callback;this.repeatOptions={monday:true,tuesday:true,wednesday:true,thursday:true,friday:true,saturday:false,sunday:false,endDate:null,duration:null};this.repeatOptionsErrors={iteration:null,endDate:null,duration:null};this.dateOptions={formatYear:"yy",startingDay:1,placeHolder:"jj/mm/aaaa"};this.dateOptions={formatYear:"yy",startingDay:1,placeHolder:"jj/mm/aaaa"};this.endDate={date:null,format:"dd/MM/yyyy",open:false}}(0,_createClass3.default)(SessionEventRepeatModalCtrl,[{key:"submit",value:function submit(){var _this=this;this.repeatOptions["endDate"]=null;this.resetErrors();if(!this.repeatOptions["monday"]&&!this.repeatOptions["tuesday"]&&!this.repeatOptions["wednesday"]&&!this.repeatOptions["thursday"]&&!this.repeatOptions["friday"]&&!this.repeatOptions["saturday"]&&!this.repeatOptions["sunday"]){this.repeatOptionsErrors["iteration"]=Translator.trans("form_not_blank_error",{},"cursus")}if(!this.endDate["date"]&&!this.repeatOptions["duration"]){if(this.endDate["date"]===null){this.repeatOptionsErrors["endDate"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.repeatOptionsErrors["endDate"]=Translator.trans("form_not_valid_error",{},"cursus")}this.repeatOptionsErrors["duration"]=Translator.trans("form_not_blank_error",{},"cursus")}if(this.repeatOptions["duration"]){this.repeatOptions["duration"]=parseInt(this.repeatOptions["duration"]);if(this.repeatOptions["duration"]<1){this.repeatOptionsErrors["duration"]=Translator.trans("form_number_superior_error",{value:1},"cursus")}}if(this.isValid()){if(this.endDate["date"]){this.repeatOptions["endDate"]=this.endDate["date"].toString();this.repeatOptions["endDate"]=this.repeatOptions["endDate"].replace(/\+.*$/,"")}var url=Routing.generate("api_post_session_event_repeat",{sessionEvent:this.sessionEvent["id"]});this.$http.post(url,{repeatOptionsDatas:this.repeatOptions}).then(function(d){_this.callback(d["data"]);_this.$uibModalInstance.close()})}}},{key:"resetErrors",value:function resetErrors(){for(var key in this.repeatOptionsErrors){this.repeatOptionsErrors[key]=null}}},{key:"isValid",value:function isValid(){var valid=true;for(var key in this.repeatOptionsErrors){if(this.repeatOptionsErrors[key]){valid=false;break}}return valid}},{key:"openDatePicker",value:function openDatePicker(){this.endDate["open"]=true}},{key:"checkDay",value:function checkDay(day){this.repeatOptions[day]=!this.repeatOptions[day]}}]);return SessionEventRepeatModalCtrl}();exports.default=SessionEventRepeatModalCtrl},718:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionEventCommentsManagementModalCtrl=function(){function SessionEventCommentsManagementModalCtrl($sce,NgTableParams,CourseService,SessionEventService,sessionEvent){(0,_classCallCheck3.default)(this,SessionEventCommentsManagementModalCtrl);this.$sce=$sce;this.SessionEventService=SessionEventService;this.sessionEvent=sessionEvent;this.isCollapsed=false;this.comments=this.sessionEvent["comments"];this.tableParams=new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.comments});this.tinymceOptions=CourseService.getTinymceConfiguration();this.isCreationFormVisible=false;this.updateId=null;this.newComment=null;this.updateComment=null}(0,_createClass3.default)(SessionEventCommentsManagementModalCtrl,[{key:"addCommentCallback",value:function addCommentCallback(comment){this.comments.push(comment);this.tableParams.reload()}},{key:"updateCommentCallback",value:function updateCommentCallback(comment){var index=this.comments.findIndex(function(c){return c["id"]===comment["id"]});if(index>-1){this.comments[index]["content"]=comment["content"];this.comments[index]["editionDate"]=comment["editionDate"];this.tableParams.reload()}}},{key:"removeCommentCallback",value:function removeCommentCallback(commentId){var index=this.comments.findIndex(function(c){return c["id"]===commentId});if(index>-1){this.comments.splice(index,1);this.tableParams.reload()}}},{key:"displayCommentCreationForm",value:function displayCommentCreationForm(){this.isCreationFormVisible=true}},{key:"confirmCommentCreation",value:function confirmCommentCreation(){var _this=this;if(this.newComment){this.SessionEventService.createComment(this.sessionEvent["id"],this.newComment).then(function(d){return _this.addCommentCallback(d)})}this.isCreationFormVisible=false;this.newComment=null}},{key:"cancelCommentCreation",value:function cancelCommentCreation(){this.isCreationFormVisible=false;this.newComment=null}},{key:"displayCommentEditionForm",value:function displayCommentEditionForm(comment){this.updateId=comment["id"];this.updateComment=comment["content"]}},{key:"confirmCommentEdition",value:function confirmCommentEdition(){var _this2=this;if(this.updateId,this.updateComment){this.SessionEventService.editComment(this.updateId,this.updateComment).then(function(d){return _this2.updateCommentCallback(d)})}this.updateId=null;this.updateComment=null}},{key:"cancelCommentEdition",value:function cancelCommentEdition(){this.updateId=null;this.updateComment=null}},{key:"deleteComment",value:function deleteComment(commentId){var _this3=this;this.SessionEventService.deleteComment(commentId).then(function(d){if(d==="success"){_this3.removeCommentCallback(commentId)}})}}]);return SessionEventCommentsManagementModalCtrl}();exports.default=SessionEventCommentsManagementModalCtrl},719:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionEventUsersRegistrationModalCtrl=function(){function SessionEventUsersRegistrationModalCtrl($http,$uibModalInstance,NgTableParams,sessionId,sessionEventId,callback){(0,_classCallCheck3.default)(this,SessionEventUsersRegistrationModalCtrl);this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.sessionId=sessionId;this.sessionEventId=sessionEventId;this.callback=callback;this.users=[];this.tableParams=new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.users});this.errorMessages=[];this.loadUsers()}(0,_createClass3.default)(SessionEventUsersRegistrationModalCtrl,[{key:"loadUsers",value:function loadUsers(){var _this=this;var route=Routing.generate("api_get_session_event_unregistered_users",{sessionEvent:this.sessionEventId});this.$http.get(route).then(function(d){if(d["status"]===200){_this.users.splice(0,_this.users.length);var users=JSON.parse(d["data"]);users.forEach(function(u){_this.users.push(u)})}})}},{key:"registerUser",value:function registerUser(userId){var _this2=this;this.errorMessages=[];var route=Routing.generate("api_post_session_event_user_registration",{sessionEvent:this.sessionEventId,user:userId});this.$http.post(route).then(function(d){if(d["status"]===200){var datas=d["data"];if(datas["status"]==="success"){if(_this2.callback){_this2.callback(datas["sessionEventUsers"])}var index=_this2.users.findIndex(function(u){return u["id"]===userId});if(index>-1){_this2.users.splice(index,1);_this2.tableParams.reload()}}else if(datas["status"]==="failed"){var msg=Translator.trans("required_places_msg",{remainingPlaces:datas["datas"]["remainingPlaces"],requiredPlaces:datas["datas"]["requiredPlaces"]},"cursus");_this2.errorMessages.push(msg)}}})}}]);return SessionEventUsersRegistrationModalCtrl}();exports.default=SessionEventUsersRegistrationModalCtrl},720:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionEvantUsersExportModalCtrl=function(){function SessionEvantUsersExportModalCtrl($uibModalInstance,SessionEventService,sessionEventId){(0,_classCallCheck3.default)(this,SessionEvantUsersExportModalCtrl);this.$uibModalInstance=$uibModalInstance;this.SessionEventService=SessionEventService;this.sessionEventId=sessionEventId;this.participants=true;this.trainers=false}(0,_createClass3.default)(SessionEvantUsersExportModalCtrl,[{key:"submit",value:function submit(){var exportType=0;if(this.participants){exportType+=1}if(this.trainers){exportType+=2}this.SessionEventService.exportUsers(this.sessionEventId,exportType);this.$uibModalInstance.close()}}]);return SessionEvantUsersExportModalCtrl}();exports.default=SessionEvantUsersExportModalCtrl},721:function(module,exports,__webpack_require__){"use strict";var _index=__webpack_require__(1);var _index2=_interopRequireDefault(_index);__webpack_require__(5);__webpack_require__(6);var _DocumentModelService=__webpack_require__(722);var _DocumentModelService2=_interopRequireDefault(_DocumentModelService);var _DocumentModelSelectionModalCtrl=__webpack_require__(724);var _DocumentModelSelectionModalCtrl2=_interopRequireDefault(_DocumentModelSelectionModalCtrl);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_index2.default.module("DocumentModelModule",["ui.bootstrap","ui.bootstrap.tpls","ui.translation"]).service("DocumentModelService",_DocumentModelService2.default).controller("DocumentModelSelectionModalCtrl",_DocumentModelSelectionModalCtrl2.default)},722:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _document_model_selection_modal=__webpack_require__(723);var _document_model_selection_modal2=_interopRequireDefault(_document_model_selection_modal);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DocumentModelService=function(){function DocumentModelService($http,$uibModal,ClarolineAPIService){(0,_classCallCheck3.default)(this,DocumentModelService);this.$http=$http;this.$uibModal=$uibModal;this.ClarolineAPIService=ClarolineAPIService}(0,_createClass3.default)(DocumentModelService,[{key:"getAllDocumentModels",value:function getAllDocumentModels(){var url=Routing.generate("api_get_cursus_document_models");return this.$http.get(url).then(function(d){if(d["status"]===200){return JSON.parse(d["data"])}})}},{key:"getDocumentModelById",value:function getDocumentModelById(modelId){var url=Routing.generate("api_get_cursus_document_model",{documentModel:modelId});return this.$http.get(url).then(function(d){if(d["status"]===200){return JSON.parse(d["data"])}})}},{key:"getDocumentModelsByType",value:function getDocumentModelsByType(type){var url=Routing.generate("api_get_cursus_document_models_by_type",{type:type});return this.$http.get(url).then(function(d){if(d["status"]===200){return JSON.parse(d["data"])}})}},{key:"getPopulatedDocumentModelsByType",value:function getPopulatedDocumentModelsByType(type,sourceId){var url=Routing.generate("api_get_cursus_populated_document_models_by_type",{type:type,sourceId:sourceId});return this.$http.get(url).then(function(d){if(d["status"]===200){return d["data"]}})}},{key:"getDocumentTypeName",value:function getDocumentTypeName(documentType){var name="";switch(documentType){case 0:name=Translator.trans("session_invitation",{},"cursus");break;case 1:name=Translator.trans("session_event_invitation",{},"cursus");break;case 2:name=Translator.trans("session_certificate",{},"cursus");break;case 3:name=Translator.trans("session_event_certificate",{},"cursus");break;default:break}return name}},{key:"deleteDocumentModel",value:function deleteDocumentModel(documentModelId){var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var url=Routing.generate("api_delete_cursus_document_model",{documentModel:documentModelId});this.ClarolineAPIService.confirm({url:url,method:"DELETE"},callback,Translator.trans("delete_document_model",{},"cursus"),Translator.trans("delete_document_model_confirm_message",{},"cursus"))}},{key:"displayDocumentSelection",value:function displayDocumentSelection(_datas,_documentType){var _callback=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this.$uibModal.open({template:_document_model_selection_modal2.default,controller:"DocumentModelSelectionModalCtrl",controllerAs:"cmc",resolve:{datas:function datas(){return _datas},documentType:function documentType(){return _documentType},callback:function callback(){return _callback}}})}}]);return DocumentModelService}();exports.default=DocumentModelService},723:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h3>{{ cmc.title }}</h3>\n    </div>\n    <div class="modal-body">\n        <div ng-if="cmc.documentModels.length > 0">\n            <div class="row">\n                <div class="col-md-12">\n                    <select class="form-control" ng-model="cmc.documentModel" ng-options="d[\'name\'] for d in cmc.documentModels">\n                        <option></option>\n                    </select>\n                </div>\n            </div>\n            <div ng-if="cmc.documentModel[\'content\']">\n                <hr>\n                <div ng-bind-html="cmc.documentModel[\'content\']|trust_html">\n                </div>\n            </div>\n        </div>\n        <div class="alert alert-warning" ng-if="cmc.documentModels.length === 0">\n            {{ \'no_template\'|trans:{}:\'cursus\' }}\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'cancel\'|trans:{}:\'platform\' }}\n        </button>\n        <button type="submit" class="btn btn-primary" ng-click="cmc.submit()" ng-disabled="!cmc.documentModel[\'content\']">\n            {{ \'send\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},724:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DocumentModelSelectionModalCtrl=function(){function DocumentModelSelectionModalCtrl($http,$uibModalInstance,DocumentModelService,datas,documentType,callback){(0,_classCallCheck3.default)(this,DocumentModelSelectionModalCtrl);this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.DocumentModelService=DocumentModelService;this.datas=datas;this.documentType=documentType;this.title=DocumentModelService.getDocumentTypeName(documentType);this.callback=callback;this.documentModel={};this.documentModels=[];this.initialize()}(0,_createClass3.default)(DocumentModelSelectionModalCtrl,[{key:"initialize",value:function initialize(){var _this=this;this.DocumentModelService.getPopulatedDocumentModelsByType(this.documentType,this.datas["id"]).then(function(d){d.forEach(function(dc){return _this.documentModels.push(dc)})})}},{key:"submit",value:function submit(){var _this2=this;if(this.documentModel){var url=Routing.generate("api_post_cursus_document_send",{documentModel:this.documentModel["id"],sourceId:this.datas["id"]});this.$http.post(url).then(function(d){if(d["status"]===200){if(_this2.callback){_this2.callback(d["data"])}_this2.$uibModalInstance.close()}})}}}]);return DocumentModelSelectionModalCtrl}();exports.default=DocumentModelSelectionModalCtrl},725:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=function($stateProvider,$urlRouterProvider){$stateProvider.state("root_cursus_management",{url:"/cursus",template:_root_cursus_management2.default,controller:"RootCursusManagementCtrl",controllerAs:"cmc",ncyBreadcrumb:{label:Translator.trans("cursus_management",{},"cursus")}}).state("cursus",{url:"/cursus/{cursusId}",template:_cursus_management2.default,controller:"CursusManagementCtrl",controllerAs:"cmc",ncyBreadcrumb:{label:"{{ cmc.breadCrumbLabel }}",parent:"root_cursus_management"}}).state("courses_management",{url:"/courses",template:_courses_management2.default,controller:"CoursesManagementCtrl",controllerAs:"cmc",ncyBreadcrumb:{label:Translator.trans("courses_management",{},"cursus")}}).state("sessions_management",{url:"/sessions",template:_sessions_management2.default,controller:"SessionsManagementCtrl",controllerAs:"cmc",ncyBreadcrumb:{label:Translator.trans("sessions_management",{},"cursus")}}).state("course",{url:"/courses/{courseId}",template:_course_management2.default,controller:"CourseManagementCtrl",controllerAs:"cmc",ncyBreadcrumb:{label:"{{ cmc.breadCrumbLabel }}",parent:"courses_management"}}).state("session",{url:"/sessions/{sessionId}",template:_session_management2.default,controller:"SessionManagementCtrl",controllerAs:"cmc",ncyBreadcrumb:{label:"{{ cmc.breadCrumbLabel }}",parent:"sessions_management"}}).state("session_event",{url:"/sessions/{sessionId}/event/{sessionEventId}",template:_session_event_management2.default,controller:"SessionEventManagementCtrl",controllerAs:"cmc",ncyBreadcrumb:{label:"{{ cmc.breadCrumbLabelEvent }}",parent:"session({sessionId: cmc.sessionId})"}}).state("configuration",{url:"/configuration",template:_configuration2.default,ncyBreadcrumb:{label:Translator.trans("configuration",{},"platform")}}).state("general_parameters",{url:"/configuration/parameters",template:_general_parameters2.default,controller:"GeneralParametersCtrl",controllerAs:"cmc",ncyBreadcrumb:{label:Translator.trans("general_parameters",{},"cursus"),parent:"configuration"}}).state("locations_management",{url:"/configuration/locations",template:_locations_management2.default,controller:"LocationsManagementCtrl",controllerAs:"cmc",ncyBreadcrumb:{label:Translator.trans("locations_management",{},"cursus"),parent:"configuration"}}).state("document_models_management",{url:"/configuration/documents",template:_document_models_management2.default,controller:"DocumentModelsManagementCtrl",controllerAs:"cmc",ncyBreadcrumb:{label:Translator.trans("document_models_management",{},"cursus"),parent:"configuration"}}).state("document_model_creation",{url:"/configuration/documents/creation",template:_document_model_form2.default,controller:"DocumentModelCreationCtrl",controllerAs:"cmc",ncyBreadcrumb:{label:Translator.trans("document_model_creation",{},"cursus"),parent:"document_models_management"}}).state("document_model_edition",{url:"/configuration/documents/{modelId}/edition",template:_document_model_form2.default,controller:"DocumentModelEditionCtrl",controllerAs:"cmc",ncyBreadcrumb:{label:Translator.trans("document_model_edition",{},"cursus"),parent:"document_models_management"}});$urlRouterProvider.otherwise("/courses")};var _root_cursus_management=__webpack_require__(726);var _root_cursus_management2=_interopRequireDefault(_root_cursus_management);var _cursus_management=__webpack_require__(727);var _cursus_management2=_interopRequireDefault(_cursus_management);var _courses_management=__webpack_require__(728);var _courses_management2=_interopRequireDefault(_courses_management);var _sessions_management=__webpack_require__(729);var _sessions_management2=_interopRequireDefault(_sessions_management);var _course_management=__webpack_require__(730);var _course_management2=_interopRequireDefault(_course_management);var _session_management=__webpack_require__(731);var _session_management2=_interopRequireDefault(_session_management);var _session_event_management=__webpack_require__(732);var _session_event_management2=_interopRequireDefault(_session_event_management);var _configuration=__webpack_require__(733);var _configuration2=_interopRequireDefault(_configuration);var _general_parameters=__webpack_require__(734);var _general_parameters2=_interopRequireDefault(_general_parameters);var _locations_management=__webpack_require__(735);var _locations_management2=_interopRequireDefault(_locations_management);var _document_models_management=__webpack_require__(736);var _document_models_management2=_interopRequireDefault(_document_models_management);var _document_model_form=__webpack_require__(737);var _document_model_form2=_interopRequireDefault(_document_model_form);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}},726:function(module,exports){module.exports='<div class="panel-heading clearfix">\n    <h3 class="panel-title">\n        {{ \'cursus_management\'|trans:{}:\'cursus\' }}\n        <span class="pull-right">\n            <a class="btn btn-default btn-sm"\n               ui-sref="courses_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'courses_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-tasks"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="sessions_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'sessions_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-cubes"></i>\n            </a>\n            <a class="btn btn-success btn-sm disabled"\n               ui-sref="root_cursus_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'cursus_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-database"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="configuration"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'configuration\'|trans:{}:\'platform\' }}"\n            >\n                <i class="fa fa-cogs"></i>\n            </a>\n        </span>\n    </h3>\n</div>\n<div class="panel-body">\n    <div class="btn-group margin-top-sm" role="group">\n        <button class="btn btn-primary" ng-click="cmc.createCursus()">\n            <i class="fa fa-plus-circle"></i>\n            {{ \'create_cursus\'|trans:{}:\'cursus\' }}\n        </button>\n        <button class="btn btn-default" ng-click="cmc.importCursus()">\n            <i class="fa fa-sign-in"></i>\n            {{ \'import\'|trans:{}:\'platform\' }}\n        </button>\n        <a href="{{ \'claro_cursus_export\'|path:{} }}" class="btn btn-default" ng-class="cmc.cursus.length === 0 ? \'disabled\' : \'\'">\n            <i class="fa fa-sign-out"></i>\n            {{ \'export\'|trans:{}:\'platform\' }}\n        </a>\n    </div>\n    <br>\n    <br>\n\n    <div class="table-responsive" ng-if="cmc.cursus.length > 0">\n        <table class="table">\n            <tr>\n                <th>{{ \'cursus\'|trans:{}:\'cursus\' }}</th>\n                <th class="text-center">{{ \'actions\'|trans:{}:\'platform\' }}</th>\n            </tr>\n            <tr ng-repeat="cursus in cmc.cursus">\n                <td>\n                    <span ng-if="cursus[\'details\'][\'color\']">\n                        <i class="fa fa-circle" style="color: {{ cursus[\'details\'][\'color\'] }}"></i>\n                        &nbsp;\n                    </span>\n                    &nbsp;\n                    <img ng-src="{{ \'uploads/thumbnails/\' + cursus[\'icon\']|asset }}" alt="" width="20px" ng-if="cursus[\'icon\']">\n                    <a ui-sref="cursus({cursusId: cursus[\'id\']})">{{ cursus[\'title\'] }}</a>\n                </td>\n                <td class="text-center">\n                    <div class="btn-group" role="group">\n                        <button class="btn btn-default" ng-click="cmc.viewCursus(cursus[\'id\'])">\n                            <i class="fa fa-eye"></i>\n                        </button>\n                        <button class="btn btn-default" ng-click="cmc.editCursus(cursus)">\n                            <i class="fa fa-edit"></i>\n                        </button>\n                        <button class="btn btn-danger" ng-click="cmc.deleteCursus(cursus[\'id\'])">\n                            <i class="fa fa-trash"></i>\n                        </button>\n                    </div>\n                </td>\n            </tr>\n        </table>\n    </div>\n    <div class="alert alert-warning" ng-if="cmc.cursus.length === 0">\n        {{ \'no_cursus\'|trans:{}:\'cursus\' }}\n    </div>\n</div>'},727:function(module,exports){module.exports='<div class="panel-heading clearfix">\n    <h3 class="panel-title">\n        <span ng-if="cmc.cursus.length > 0">\n            <span ng-if="cmc.cursus[0][\'details\'][\'color\']">\n                <i class="fa fa-circle" style="color: {{ cmc.cursus[0][\'details\'][\'color\'] }}"></i>\n                &nbsp;\n            </span>\n            {{ cmc.cursus[0][\'title\'] }}\n        </span>\n        <span ng-if="cmc.cursus.length === 0">\n            {{ \'cursus\'|trans:{}:\'cursus\' }}\n        </span>\n        <span class="pull-right">\n            <a class="btn btn-default btn-sm"\n               ui-sref="courses_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'courses_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-tasks"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="sessions_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'sessions_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-cubes"></i>\n            </a>\n            <a class="btn btn-success btn-sm"\n               ui-sref="root_cursus_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'cursus_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-database"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="configuration"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'configuration\'|trans:{}:\'platform\' }}"\n            >\n                <i class="fa fa-cogs"></i>\n            </a>\n        </span>\n    </h3>\n</div>\n<div class="panel-body">\n    <div>\n        <script type="text/ng-template" id="cursus_nodes_renderer.html">\n            <div class="cursus-element" ng-if="!cursus.course">\n                <span ng-if="cursus[\'details\'][\'color\']">\n                    <i class="fa fa-circle" style="color: {{ cursus[\'details\'][\'color\'] }}"></i>\n                    &nbsp;\n                </span>\n                &nbsp;\n                <img ng-src="{{ \'uploads/thumbnails/\' + cursus[\'icon\']|asset }}" alt="" width="20px" ng-if="cursus[\'icon\']">\n                <span ng-class="cmc.hierarchy[cursus.id].length > 0 ? \'pointer-hand\' : \'\'"\n                      data-toggle="collapse"\n                      href="#collapse-{{ cursus.id }}"\n                >\n                    {{ cursus.title }}\n                </span>\n                &nbsp;\n                <span ng-if="cursus.blocking">\n                    <i class="fa fa-lock"></i>\n                    &nbsp;\n                </span>\n                <span class="dropdown">\n                    <i class="cursus-option-btn fa fa-cog pointer-hand" id="option-btn-{{ cursus.id }}" data-toggle="dropdown"></i>\n                    <ul class="dropdown-menu" role="menu" aria-labelledby="option-btn-{{ cursus.id }}" style="white-space: nowrap">\n                        <li role="presentation">\n                            <a role="menuitem" class="pointer-hand" ng-click="cmc.editCursus(cursus)">\n                                <i class="fa fa-edit"></i>\n                                {{ \'edit\'|trans:{}:\'platform\' }}\n                            </a>\n                        </li>\n                        <li role="presentation" class="divider"></li>\n                        <li role="presentation">\n                            <a role="menuitem" class="pointer-hand" ng-click="cmc.createChildCursus(cursus.id)">\n                                <i class="fa fa-sitemap"></i>\n                                {{ \'create_cursus_child\'|trans:{}:\'cursus\' }}\n                            </a>\n                        </li>\n                        <li role="presentation" class="divider"></li>\n                        <li role="presentation">\n                            <a role="menuitem" class="pointer-hand" ng-click="cmc.createCourse(cursus.id)">\n                                <i class="fa fa-plus-circle"></i>\n                                {{ \'create_course\'|trans:{}:\'cursus\' }}\n                            </a>\n                        </li>\n                        <li role="presentation">\n                            <a role="menuitem" class="pointer-hand" ng-click="cmc.addCourse(cursus.id, cursus.title)">\n                                <i class="fa fa-plus-square"></i>\n                                {{ \'add_course_to_cursus\'|trans:{}:\'cursus\' }}\n                            </a>\n                        </li>\n                        <li role="presentation" class="divider"></li>\n                        <li role="presentation">\n                            <a role="menuitem" class="pointer-hand" ng-click="cmc.deleteCursus(cursus.id)">\n                                <i class="fa fa-trash"></i>\n                                {{ \'delete\'|trans:{}:\'platform\' }}\n                            </a>\n                        </li>\n                    </ul>\n                </span>\n                <span ng-if="cmc.hierarchy[cursus.id].length > 0">\n                    &nbsp;\n                    <i class="fa fa-caret-down pointer-hand"\n                       data-toggle="collapse"\n                       href="#collapse-{{ cursus.id }}"\n                    ></i>\n                </span>\n            </div>\n            <span ng-if="cursus.course">\n                <a ui-sref="course({courseId: cursus.course.id})">\n                    <span class="label label-primary">\n                        {{ cursus.course.title }}\n                    </span>\n                </a>\n                <button class="label label-danger" ng-click="cmc.removeCourse(cursus.id)">\n                    <i class="fa fa-times"></i>\n                </button>\n            </span>\n            <ul ng-if="cmc.hierarchy[cursus.id].length > 0" id="collapse-{{ cursus.id }}" class="collapse in">\n                <li ng-repeat="cursus in cmc.hierarchy[cursus.id]" ng-include="\'cursus_nodes_renderer.html\'">\n                </li>\n            </ul>\n        </script>\n        <div ng-repeat="cursus in cmc.hierarchy[\'root\']" ng-include="\'cursus_nodes_renderer.html\'">\n        </div>\n    </div>\n</div>';
},728:function(module,exports){module.exports='<div class="panel-heading clearfix">\n    <h3 class="panel-title">\n        {{ \'courses_management\'|trans:{}:\'cursus\' }}\n        <span class="pull-right">\n            <a class="btn btn-success btn-sm disabled"\n               ui-sref="courses_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'courses_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-tasks"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="sessions_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'sessions_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-cubes"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="root_cursus_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'cursus_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-database"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="configuration"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'configuration\'|trans:{}:\'platform\' }}"\n            >\n                <i class="fa fa-cogs"></i>\n            </a>\n        </span>\n    </h3>\n</div>\n<div class="panel-body">\n    <img ng-src="{{ \'bundles/clarolinecursus/images/trainings.png\'|asset }}" alt="{{ \'courses_image\'|trans:{}:\'cursus\' }}" height="120px">\n    <br>\n    <br>\n    <div class="dropdown">\n        <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n            <i class="fa fa-cog"></i>\n            <span class="caret"></span>\n        </button>\n        <ul class="dropdown-menu">\n            <li ng-click="cmc.createCourse()">\n                <a href="">{{ \'create_course\'|trans:{}:\'cursus\' }}</a>\n            </li>\n            <li class="divider" role="separator"></li>\n            <li ng-click="cmc.importCourses()">\n                <a href="">{{ \'import_courses\'|trans:{}:\'cursus\' }}</a>\n            </li>\n            <li>\n                <a href="{{ \'claro_cursus_courses_export\'|path:{} }}">\n                    {{ \'export_all_courses\'|trans:{}:\'cursus\' }}\n                </a>\n            </li>\n        </ul>\n    </div>\n    <br>\n    <div ng-if="cmc.isInitialized() && cmc.courses.length > 0">\n        <table class="table" ng-table="cmc.tableParams" show-filter="true">\n            <tbody ng-repeat="course in $data">\n            <tr>\n                <td data-title="\'title\'|trans:{}:\'platform\'" filter="{title: \'text\'}" sortable="\'title\'">\n                    <span data-toggle="tooltip" data-placement="top" title="{{ \'display_sessions\'|trans:{}:\'cursus\' }}">\n                        <i class="fa pointer-hand" ng-class="cmc.isCollapsed[course[\'id\']] ? \'fa-chevron-circle-down\' : \'fa-chevron-circle-right\'"\n                           style="color: #286090"\n                           ng-click="(cmc.isCollapsed[course[\'id\']] = !cmc.isCollapsed[course[\'id\']]) && cmc.loadSessions(course[\'id\'])"\n                        >\n                        </i>\n                    </span>\n                    &nbsp;\n                    <img ng-src="{{ \'uploads/thumbnails/\' + course[\'icon\']|asset }}" alt="" width="20px" ng-if="course[\'icon\']">\n                    <a ui-sref="course({courseId: course[\'id\']})">\n                        {{ course[\'title\'] }}\n                    </a>\n                </td>\n                <td class="text-center" data-title="\'code\'|trans:{}:\'platform\'" filter="{code: \'text\'}" sortable="\'code\'">\n                    {{ course[\'code\'] }}\n                </td>\n                <td class="text-center" data-title="\'actions\'|trans:{}:\'platform\'">\n                    <button class="btn btn-info btn-sm"\n                            data-toggle="tooltip"\n                            data-placement="top"\n                            title="{{ \'display_course_details\'|trans:{}:\'cursus\' }}"\n                            ng-click="cmc.viewCourse(course[\'id\'])"\n                    >\n                        <i class="fa fa-eye"></i>\n                    </button>\n                    <button class="btn btn-primary btn-sm"\n                            data-toggle="tooltip"\n                            data-placement="top"\n                            title="{{ \'add_session\'|trans:{}:\'cursus\' }}"\n                            ng-click="cmc.createSession(course)"\n                    >\n                        <i class="fa fa-cube"></i>\n                    </button>\n                    <button class="btn btn-primary btn-sm"\n                            data-toggle="tooltip"\n                            data-placement="top"\n                            title="{{ \'edit_course\'|trans:{}:\'cursus\' }}"\n                            ng-click="cmc.editCourse(course)"\n                    >\n                        <i class="fa fa-edit"></i>\n                    </button>\n                    <button class="btn btn-danger btn-sm"\n                            data-toggle="tooltip"\n                            data-placement="top"\n                            title="{{ \'delete_course\'|trans:{}:\'cursus\' }}"\n                            ng-click="cmc.deleteCourse(course[\'id\'])"\n                    >\n                        <i class="fa fa-trash"></i>\n                    </button>\n                </td>\n            </tr>\n            <tr uib-collapse="!cmc.isCollapsed[course[\'id\']]">\n                <td colspan="3">\n                    <div class="alert alert-warning" ng-if="!cmc.sessions[course[\'id\']] || cmc.sessions[course[\'id\']].length === 0">\n                        {{ \'no_open_session\'|trans:{}:\'cursus\' }}\n                    </div>\n                    <div class="table-responsive" ng-if="cmc.sessions[course[\'id\']].length > 0">\n                        <h5><strong>{{ \'sessions_details\'|trans:{}:\'cursus\' }}</strong></h5>\n                        <table class="table">\n                            <tr>\n                                <th>{{ \'name\'|trans:{}:\'platform\' }}</th>\n                                <th>{{ \'start_date\'|trans:{}:\'platform\' }}</th>\n                                <th>{{ \'end_date\'|trans:{}:\'platform\' }}</th>\n                                <th>{{ \'status\'|trans:{}:\'platform\' }}</th>\n                                <th>{{ \'actions\'|trans:{}:\'platform\' }}</th>\n                            </tr>\n                            <tr ng-repeat="session in cmc.sessions[course[\'id\']]" ng-if="session[\'status\'] !== \'closed\'">\n                                <td ignore-cell="true">\n                                    <a ui-sref="session({sessionId: session[\'id\']})">\n                                        {{ session[\'name\'] }}\n                                    </a>\n                                    <i class="fa fa-star"\n                                       data-toggle="tooltip"\n                                       data-placement="top"\n                                       title="{{ \'default_session\'|trans:{}:\'cursus\' }}"\n                                       style="color: greenyellow"\n                                       ng-if="session[\'defaultSession\']"\n                                    >\n                                    </i>\n                                </td>\n                                <td class="text-center" ignore-cell="true">\n                                    {{ session[\'startDate\']|date:\'dd/MM/yyyy\' }}\n                                </td>\n                                <td class="text-center" ignore-cell="true">\n                                    {{ session[\'endDate\']|date:\'dd/MM/yyyy\' }}\n                                </td>\n                                <td class="text-center" ignore-cell="true">\n                                    <i class="fa fa-circle-thin"\n                                       data-toggle="tooltip"\n                                       data-placement="top"\n                                       title="{{ \'session_not_started\'|trans:{}:\'cursus\' }}"\n                                       style="color: #706c6c"\n                                       ng-if="session[\'status\'] === \'not_started\'"\n                                    >\n                                    </i>\n                                    <i class="fa fa-adjust"\n                                       data-toggle="tooltip"\n                                       data-placement="top"\n                                       title="{{ \'session_open\'|trans:{}:\'cursus\' }}"\n                                       style="color: #706c6c"\n                                       ng-if="session[\'status\'] === \'ongoing\'"\n                                    >\n                                    </i>\n                                    <i class="fa fa-circle"\n                                       data-toggle="tooltip"\n                                       data-placement="top"\n                                       title="{{ \'session_closed\'|trans:{}:\'cursus\' }}"\n                                       style="color: #706c6c"\n                                       ng-if="session[\'status\'] === \'closed\'"\n                                    >\n                                    </i>\n                                </td>\n                                <td class="text-center" ignore-cell="true">\n                                    <button class="btn btn-default btn-sm"\n                                            data-toggle="tooltip"\n                                            data-placement="top"\n                                            title="{{ \'edit_session\'|trans:{}:\'cursus\' }}"\n                                            ng-click="cmc.editSession(session)"\n                                    >\n                                        <i class="fa fa-edit"></i>\n                                    </button>\n                                    <button class="btn btn-default btn-sm"\n                                            data-toggle="tooltip"\n                                            data-placement="top"\n                                            title="{{ \'send_message_to_session_participants\'|trans:{}:\'cursus\' }}"\n                                            ng-click="cmc.sendMessageToSessionLearners(session)"\n                                    >\n                                        <i class="fa fa-envelope-o"></i>\n                                    </button>\n                                    <button class="btn btn-danger btn-sm"\n                                            data-toggle="tooltip"\n                                            data-placement="top"\n                                            title="{{ \'delete_session\'|trans:{}:\'cursus\' }}"\n                                            ng-click="cmc.deleteSession(session[\'id\'])"\n                                    >\n                                        <i class="fa fa-trash"></i>\n                                    </button>\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                </td>\n            </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class="alert alert-warning" ng-if="cmc.isInitialized() && cmc.courses.length === 0">\n        {{ \'no_course\'|trans:{}:\'cursus\' }}\n    </div>\n</div>'},729:function(module,exports){module.exports='<div class="panel-heading clearfix">\n    <h3 class="panel-title">\n        {{ \'sessions_management\'|trans:{}:\'cursus\' }}\n        <span class="pull-right">\n            <a class="btn btn-default btn-sm"\n               ui-sref="courses_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'courses_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-tasks"></i>\n            </a>\n            <a class="btn btn-success btn-sm disabled"\n               ui-sref="sessions_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'sessions_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-cubes"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="root_cursus_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'cursus_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-database"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="configuration"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'configuration\'|trans:{}:\'platform\' }}"\n            >\n                <i class="fa fa-cogs"></i>\n            </a>\n        </span>\n    </h3>\n</div>\n<div class="panel-body">\n    <img ng-src="{{ \'bundles/clarolinecursus/images/sessions.jpg\'|asset }}" alt="{{ \'sessions_image\'|trans:{}:\'cursus\' }}" height="120px">\n    <br>\n    <br>\n    <button class="btn btn-primary" ng-click="cmc.displayCoursesList()">\n        <i class="fa fa-plus-circle"></i>\n        {{ \'create_session\'|trans:{}:\'cursus\' }}\n    </button>\n    <br>\n    <br>\n    <div class="row">\n        <div class="col-md-2">\n            {{ \'display_sessions_from\'|trans:{}:\'cursus\' }}\n        </div>\n        <div class="col-md-2">\n            <span class="input-group">\n                <input type="text"\n                       class="form-control"\n                       uib-datepicker-popup="{{ cmc.filterStartDate[\'format\'] }}"\n                       ng-model="cmc.filterStartDate[\'date\']"\n                       is-open="cmc.filterStartDate[\'open\']"\n                       datepicker-options="cmc.dateOptions"\n                       ng-required="true"\n                       placeholder="{{ cmc.dateOptions[\'placeHolder\'] }}"\n                />\n                <span class="input-group-btn">\n                    <button type="button" class="btn btn-default" ng-click="cmc.openStartDatePicker()">\n                        <i class="fa fa-calendar"></i>\n                    </button>\n                </span>\n            </span>\n        </div>\n        <div class="col-md-1 text-center">\n            {{ \'display_sessions_to\'|trans:{}:\'cursus\' }}\n        </div>\n        <div class="col-md-2">\n            <span class="input-group">\n                <input type="text"\n                       class="form-control"\n                       uib-datepicker-popup="{{ cmc.filterEndDate[\'format\'] }}"\n                       ng-model="cmc.filterEndDate[\'date\']"\n                       is-open="cmc.filterEndDate[\'open\']"\n                       datepicker-options="cmc.dateOptions"\n                       ng-required="true"\n                       placeholder="{{ cmc.dateOptions[\'placeHolder\'] }}"\n                />\n                <span class="input-group-btn">\n                    <button type="button" class="btn btn-default" ng-click="cmc.openEndDatePicker()">\n                        <i class="fa fa-calendar"></i>\n                    </button>\n                </span>\n            </span>\n        </div>\n    </div>\n    <br>\n    <div ng-if="cmc.isInitialized() && cmc.sessions.length > 0">\n        <table class="table" ng-table="cmc.tableParams" show-filter="true">\n            <tbody ng-repeat="session in $data" ng-if="cmc.isValidStartDate(session[\'startDate\'])">\n                <tr>\n                    <td class="text-center" data-title="\'start_date\'|trans:{}:\'platform\'" sortable="\'startDate\'">\n                        {{ session[\'startDate\']|date:\'dd/MM/yyyy\' }}\n                    </td>\n                    <td class="text-center" data-title="\'end_date\'|trans:{}:\'platform\'" sortable="\'endDate\'">\n                        {{ session[\'endDate\']|date:\'dd/MM/yyyy\' }}\n                    </td>\n                    <td data-title="\'session\'|trans:{}:\'cursus\'" filter="{name: \'text\'}" sortable="\'name\'">\n                        <span data-toggle="tooltip" data-placement="top" title="{{ \'display_session_events\'|trans:{}:\'cursus\' }}" ng-click="cmc.isCollapsed[session[\'id\']] = !cmc.isCollapsed[session[\'id\']]">\n                            <i class="fa pointer-hand" ng-class="cmc.isCollapsed[session[\'id\']] ? \'fa-chevron-circle-down\' : \'fa-chevron-circle-right\'"\n                               style="color: #286090"\n                               ng-click="cmc.loadEvents(session[\'id\'])"\n                            >\n                            </i>\n                        </span>\n                        <a ui-sref="session({sessionId: session[\'id\']})">\n                            {{ session[\'name\'] }}\n                        </a>\n                    </td>\n                    <td class="text-center" data-title="\'course\'|trans:{}:\'cursus\'" filter="{course_title: \'text\'}" sortable="\'course_title\'">\n                        <a ui-sref="course({courseId: session[\'course\'][\'id\']})">\n                            {{ session[\'course_title\'] }}\n                        </a>\n                    </td>\n                    <td class="text-center" data-title="\'course_code\'|trans:{}:\'cursus\'" filter="{course_code: \'text\'}" sortable="\'course_code\'">\n                        {{ session[\'course_code\'] }}\n                    </td>\n                    <td class="text-center" data-title="\'actions\'|trans:{}:\'platform\'">\n                        <button class="btn btn-primary btn-sm"\n                                data-toggle="tooltip"\n                                data-placement="top"\n                                title="{{ \'create_session_event\'|trans:{}:\'cursus\' }}"\n                                ng-click="cmc.createEvent(session)"\n                        >\n                            <i class="fa fa-calendar"></i>\n                        </button>\n                        <button class="btn btn-primary btn-sm"\n                                data-toggle="tooltip"\n                                data-placement="top"\n                                title="{{ \'edit_session\'|trans:{}:\'cursus\' }}"\n                                ng-click="cmc.editSession(session)"\n                        >\n                            <i class="fa fa-edit"></i>\n                        </button>\n                        <button class="btn btn-primary btn-sm"\n                                data-toggle="tooltip"\n                                data-placement="top"\n                                title="{{ \'send_message_to_session_participants\'|trans:{}:\'cursus\' }}"\n                                ng-click="cmc.sendMessageToSessionLearners(session)"\n                        >\n                            <i class="fa fa-envelope"></i>\n                        </button>\n                        <button class="btn btn-danger btn-sm"\n                                data-toggle="tooltip"\n                                data-placement="top"\n                                title="{{ \'delete_session\'|trans:{}:\'cursus\' }}"\n                                ng-click="cmc.deleteSession(session[\'id\'])"\n                        >\n                            <i class="fa fa-trash"></i>\n                        </button>\n                    </td>\n                </tr>\n                <tr uib-collapse="!cmc.isCollapsed[session[\'id\']]">\n                    <td colspan="6">\n                        <div class="alert alert-warning" ng-if="!cmc.events[session[\'id\']] || cmc.events[session[\'id\']].length === 0">\n                            {{ \'no_session_event\'|trans:{}:\'cursus\' }}\n                        </div>\n                        <div class="table-responsive" ng-if="cmc.events[session[\'id\']].length > 0">\n                            <h5><strong>{{ \'session_events_details\'|trans:{}:\'cursus\' }}</strong></h5>\n                            <table class="table">\n                                <tr>\n                                    <th>{{ \'name\'|trans:{}:\'platform\' }}</th>\n                                    <th>{{ \'start_date\'|trans:{}:\'platform\' }}</th>\n                                    <th>{{ \'end_date\'|trans:{}:\'platform\' }}</th>\n                                    <th>{{ \'session_event_location\'|trans:{}:\'cursus\' }}</th>\n                                    <th>{{ \'location_extra\'|trans:{}:\'cursus\' }}</th>\n                                    <th></th>\n                                </tr>\n                                <tr ng-repeat="event in cmc.events[session[\'id\']]" ng-if="event[\'status\'] !== \'closed\'">\n                                    <td ignore-cell="true">\n                                        <a ui-sref="session_event({sessionId: session[\'id\'], sessionEventId: event[\'id\']})">\n                                            {{ event[\'name\'] }}\n                                        </a>\n                                    </td>\n                                    <td class="text-center" ignore-cell="true">\n                                        {{ event[\'startDate\']|date:\'dd/MM/yyyy HH:mm\' }}\n                                    </td>\n                                    <td class="text-center" ignore-cell="true">\n                                        {{ event[\'endDate\']|date:\'dd/MM/yyyy HH:mm\' }}\n                                    </td>\n                                    <td class="text-center" ignore-cell="true">\n                                        <div ng-bind-html="event[\'address\']|trust_html"></div>\n                                    </td>\n                                    <td class="text-center" ignore-cell="true">\n                                        <div ng-bind-html="event[\'locationExtra\']|trust_html"></div>\n                                    </td>\n                                    <td class="text-center" ignore-cell="true">\n                                        <button class="btn btn-default btn-sm"\n                                                data-toggle="tooltip"\n                                                data-placement="top"\n                                                title="{{ \'informations_management\'|trans:{}:\'cursus\' }}"\n                                                ng-click="cmc.manageEventComments(event)"\n                                        >\n                                            <i class="fa fa-info"></i>\n                                        </button>\n                                    </td>\n                                </tr>\n                            </table>\n                        </div>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n    </div>\n    <div class="alert-warning" ng-if="cmc.isInitialized() && cmc.sessions.length === 0">\n        {{ \'no_session\'|trans:{}:\'cursus\' }}\n    </div>\n</div>'},730:function(module,exports){module.exports='<div class="panel-heading clearfix">\n    <h3 class="panel-title">\n        [{{ \'course\'|trans:{}:\'cursus\' }}]\n        {{ cmc.course[\'title\'] }}\n        <span class="pull-right">\n            <a class="btn btn-success btn-sm"\n               ui-sref="courses_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'courses_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-tasks"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="sessions_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'sessions_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-cubes"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="root_cursus_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'cursus_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-database"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="configuration"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'configuration\'|trans:{}:\'platform\' }}"\n            >\n                <i class="fa fa-cogs"></i>\n            </a>\n        </span>\n    </h3>\n</div>\n<div class="panel-body cursus-management-panel">\n    <div class="pull-right">\n        <button class="btn btn-primary"\n                data-toggle="tooltip"\n                data-placement="top"\n                title="{{ \'edit_course\'|trans:{}:\'cursus\' }}"\n                ng-click="cmc.editCourse()"\n        >\n            <i class="fa fa-edit"></i>\n        </button>\n        <button class="btn btn-primary"\n                data-toggle="tooltip"\n                data-placement="top"\n                title="{{ \'create_session\'|trans:{}:\'cursus\' }}"\n                ng-click="cmc.createSession()"\n        >\n            <i class="fa fa-cube"></i>\n        </button>\n    </div>\n    <br>\n    <br>\n    <br>\n\n    <uib-accordion>\n        <uib-accordion-group is-open="cmc.isCollapsed[\'description\']">\n            <uib-accordion-heading>\n                <div class="text-center">\n                    {{ \'course_description\'|trans:{}:\'cursus\' }}\n                </div>\n            </uib-accordion-heading>\n            <div ng-bind-html="cmc.course[\'description\']|trust_html">\n            </div>\n            <div class="alert alert-warning" ng-if="!cmc.course[\'description\']">\n                {{ \'no_description\'|trans:{}:\'cursus\' }}\n            </div>\n        </uib-accordion-group>\n\n        <uib-accordion-group is-open="cmc.isCollapsed[\'openSessions\']">\n            <uib-accordion-heading>\n                <div class="text-center">\n                    {{ \'open_sessions\'|trans:{}:\'cursus\' }}\n                    &nbsp;\n                    <span class="badge">{{ cmc.openSessions.length }}</span>\n                </div>\n            </uib-accordion-heading>\n            <div class="table-responsive" ng-if="cmc.openSessions.length > 0">\n                <table class="table cursus-table" ng-table="cmc.tableParams[\'openSessions\']" show-filter="false">\n                    <tr ng-repeat="session in $data">\n                        <td data-title="\'name\'|trans:{}:\'platform\'" filter="{name: \'text\'}" sortable="\'name\'">\n                            <a ui-sref="session({sessionId: session[\'id\']})">\n                                {{ session[\'name\'] }}\n                            </a>\n                            <i class="fa fa-star"\n                               data-toggle="tooltip"\n                               data-placement="top"\n                               title="{{ \'default_session\'|trans:{}:\'cursus\' }}"\n                               style="color: greenyellow"\n                               ng-if="session[\'defaultSession\']"\n                            >\n                            </i>\n                        </td>\n                        <td class="text-center" data-title="\'start_date\'|trans:{}:\'platform\'" sortable="\'startDate\'">\n                            {{ session[\'startDate\']|date:\'dd/MM/yyyy\' }}\n                        </td>\n                        <td class="text-center" data-title="\'end_date\'|trans:{}:\'platform\'" sortable="\'endDate\'">\n                            {{ session[\'endDate\']|date:\'dd/MM/yyyy\' }}\n                        </td>\n                        <td class="text-center" data-title="\'status\'|trans:{}:\'platform\'" sortable="\'status\'">\n                            <i class="fa fa-circle-thin"\n                               data-toggle="tooltip"\n                               data-placement="top"\n                               title="{{ \'session_not_started\'|trans:{}:\'cursus\' }}"\n                               style="color: #706c6c"\n                               ng-if="session[\'status\'] === \'not_started\'"\n                            >\n                            </i>\n                            <i class="fa fa-adjust"\n                               data-toggle="tooltip"\n                               data-placement="top"\n                               title="{{ \'session_open\'|trans:{}:\'cursus\' }}"\n                               style="color: #706c6c"\n                               ng-if="session[\'status\'] === \'ongoing\'"\n                            >\n                            </i>\n                            <i class="fa fa-circle"\n                               data-toggle="tooltip"\n                               data-placement="top"\n                               title="{{ \'session_closed\'|trans:{}:\'cursus\' }}"\n                               style="color: #706c6c"\n                               ng-if="session[\'status\'] === \'closed\'"\n                            >\n                            </i>\n                        </td>\n                        <td class="text-center" data-title="\'actions\'|trans:{}:\'platform\'">\n                            <button class="btn btn-primary btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'edit_session\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.editSession(session)"\n                            >\n                                <i class="fa fa-edit"></i>\n                            </button>\n                            <button class="btn btn-default btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'invite_learners_to_session\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.inviteLearners(session)"\n                                    ng-if="!cmc.isInvitationsDisabled"\n                            >\n                                <i class="fa fa-plus-square"></i>\n                            </button>\n                            <button class="btn btn-default btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'send_message_to_session_participants\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.sendMessageToSessionLearners(session)"\n                            >\n                                <i class="fa fa-envelope-o"></i>\n                            </button>\n                            <button class="btn btn-default btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'generate_certificates\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.generateCertificates(session)"\n                                    ng-if="!cmc.isCertificatesDisabled"\n                            >\n                                <i class="fa fa-graduation-cap"></i>\n                            </button>\n                            <button class="btn btn-default btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'go_to_workspace\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.openWorkspace(session[\'id\'])"\n                            >\n                                <i class="fa fa-book"></i>\n                            </button>\n                            <button class="btn btn-danger btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'delete_session\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.deleteSession(session[\'id\'])"\n                            >\n                                <i class="fa fa-trash"></i>\n                            </button>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <div class="alert alert-warning" ng-if="cmc.openSessions.length === 0">\n                {{ \'no_open_session\'|trans:{}:\'cursus\' }}\n            </div>\n        </uib-accordion-group>\n\n        <uib-accordion-group is-open="cmc.isCollapsed[\'closedSessions\']">\n            <uib-accordion-heading>\n                <div class="text-center">\n                    {{ \'closed_sessions\'|trans:{}:\'cursus\' }}\n                    &nbsp;\n                    <span class="badge">{{ cmc.closedSessions.length }}</span>\n                </div>\n            </uib-accordion-heading>\n            <div class="table-responsive" ng-if="cmc.closedSessions.length > 0">\n                <table class="table cursus-table" ng-table="cmc.tableParams[\'closedSessions\']" show-filter="false">\n                    <tr ng-repeat="session in $data">\n                        <td data-title="\'name\'|trans:{}:\'platform\'" filter="{name: \'text\'}" sortable="\'name\'">\n                            <a ui-sref="session({sessionId: session[\'id\']})">\n                                {{ session[\'name\'] }}\n                            </a>\n                            <i class="fa fa-star"\n                               data-toggle="tooltip"\n                               data-placement="top"\n                               title="{{ \'default_session\'|trans:{}:\'cursus\' }}"\n                               style="color: greenyellow"\n                               ng-if="session[\'defaultSession\']"\n                            >\n                            </i>\n                        </td>\n                        <td class="text-center" data-title="\'start_date\'|trans:{}:\'platform\'" sortable="\'startDate\'">\n                            {{ session[\'startDate\']|date:\'dd/MM/yyyy\' }}\n                        </td>\n                        <td class="text-center" data-title="\'end_date\'|trans:{}:\'platform\'" sortable="\'endDate\'">\n                            {{ session[\'endDate\']|date:\'dd/MM/yyyy\' }}\n                        </td>\n                        <td class="text-center" data-title="\'actions\'|trans:{}:\'platform\'">\n                            <button class="btn btn-primary btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'edit_session\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.editSession(session)"\n                            >\n                                <i class="fa fa-edit"></i>\n                            </button>\n                            <button class="btn btn-default btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'send_message_to_session_participants\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.sendMessageToSessionLearners(session)"\n                            >\n                                <i class="fa fa-envelope-o"></i>\n                            </button>\n                            <button class="btn btn-default btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'generate_certificates\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.generateCertificates(session)"\n                                    ng-if="!cmc.isCertificatesDisabled"\n                            >\n                                <i class="fa fa-graduation-cap"></i>\n                            </button>\n                            <button class="btn btn-default btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'go_to_workspace\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.openWorkspace(session[\'id\'])"\n                            >\n                                <i class="fa fa-book"></i>\n                            </button>\n                            <button class="btn btn-danger btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'delete_session\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.deleteSession(session[\'id\'])"\n                            >\n                                <i class="fa fa-trash"></i>\n                            </button>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <div class="alert alert-warning" ng-if="cmc.closedSessions.length === 0">\n                {{ \'no_closed_session\'|trans:{}:\'cursus\' }}\n            </div>\n        </uib-accordion-group>\n    </uib-accordion>\n</div>';
},731:function(module,exports){module.exports='<div class="panel-heading clearfix">\n    <h3 class="panel-title">\n        [{{ \'session\'|trans:{}:\'cursus\' }}]\n        {{ cmc.session[\'name\'] }}\n        <span class="pull-right">\n            <a class="btn btn-default btn-sm"\n               ui-sref="courses_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'courses_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-tasks"></i>\n            </a>\n            <a class="btn btn-success btn-sm"\n               ui-sref="sessions_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'sessions_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-cubes"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="root_cursus_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'cursus_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-database"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="configuration"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'configuration\'|trans:{}:\'platform\' }}"\n            >\n                <i class="fa fa-cogs"></i>\n            </a>\n        </span>\n    </h3>\n</div>\n<div class="panel-body cursus-management-panel">\n    <div class="pull-right">\n        <button class="btn btn-primary"\n                data-toggle="tooltip"\n                data-placement="top"\n                title="{{ \'edit_session\'|trans:{}:\'cursus\' }}"\n                ng-click="cmc.editSession()"\n        >\n            <i class="fa fa-edit"></i>\n        </button>\n        <button class="btn btn-primary"\n                data-toggle="tooltip"\n                data-placement="top"\n                title="{{ \'create_session_event\'|trans:{}:\'cursus\' }}"\n                ng-click="cmc.createSessionEvent()"\n        >\n            <i class="fa fa-calendar"></i>\n        </button>\n        <button class="btn btn-primary"\n                data-toggle="tooltip"\n                data-placement="top"\n                title="{{ \'invite_learners_to_session\'|trans:{}:\'cursus\' }}"\n                ng-click="cmc.inviteLearners()"\n                ng-if="!cmc.isInvitationsDisabled"\n        >\n            <i class="fa fa-plus-square"></i>\n        </button>\n        <button class="btn btn-primary"\n                data-toggle="tooltip"\n                data-placement="top"\n                title="{{ \'send_message_to_session_participants\'|trans:{}:\'cursus\' }}"\n                ng-click="cmc.sendMessageToSessionLearners()"\n        >\n            <i class="fa fa-envelope-o"></i>\n        </button>\n        <button class="btn btn-primary"\n                data-toggle="tooltip"\n                data-placement="top"\n                title="{{ \'generate_certificates\'|trans:{}:\'cursus\' }}"\n                ng-click="cmc.generateCertificates()"\n                ng-if="!cmc.isCertificatesDisabled"\n        >\n            <i class="fa fa-graduation-cap"></i>\n        </button>\n        <button class="btn btn-primary"\n                data-toggle="tooltip"\n                data-placement="top"\n                title="{{ \'export_users\'|trans:{}:\'cursus\' }}"\n                ng-click="cmc.exportUsers()"\n        >\n            <i class="fa fa-users"></i>\n            <i class="fa fa-sign-out"></i>\n        </button>\n    </div>\n    <br>\n    <br>\n    <br>\n\n    <uib-accordion>\n        <uib-accordion-group is-open="cmc.isCollapsed[\'description\']">\n            <uib-accordion-heading>\n                <div class="text-center">\n                    {{ \'session_description\'|trans:{}:\'cursus\' }}\n                </div>\n            </uib-accordion-heading>\n            <b>{{ \'duration\'|trans:{}:\'platform\' }} :</b>\n            {{ cmc.session[\'startDate\']|date:\'dd/MM/yyyy\' }}\n            <i class="fa fa-long-arrow-right"></i>\n            {{ cmc.session[\'endDate\']|date:\'dd/MM/yyyy\' }}\n            <hr>\n            <div ng-bind-html="cmc.session[\'description\']|trust_html">\n            </div>\n            <div class="alert alert-warning" ng-if="!cmc.session[\'description\']">\n                {{ \'no_description\'|trans:{}:\'cursus\' }}\n            </div>\n        </uib-accordion-group>\n\n        <uib-accordion-group is-open="cmc.isCollapsed[\'learners\']">\n            <uib-accordion-heading>\n                <div class="text-center">\n                    {{ \'learners\'|trans:{}:\'cursus\' }}\n                    &nbsp;\n                    <span class="badge">{{ cmc.learners.length }}</span>\n                    &nbsp;\n                    <i class="fa fa-user"\n                       data-toggle="tooltip"\n                       data-placement="top"\n                       title="{{ \'register_learners_to_session\'|trans:{}:\'cursus\' }}"\n                       ng-click="cmc.registerLearners($event)"\n                    >\n                    </i>\n                    &nbsp;\n                    <i class="fa fa-users"\n                       data-toggle="tooltip"\n                       data-placement="top"\n                       title="{{ \'register_groups_to_session\'|trans:{}:\'cursus\' }}"\n                       ng-click="cmc.registerLearnersGroups($event)"\n                    >\n                    </i>\n                </div>\n            </uib-accordion-heading>\n            <uib-tabset active="active">\n                <uib-tab index="0">\n                    <uib-tab-heading>\n                        {{ \'users\'|trans:{}:\'platform\' }}\n                        <span class="badge">{{ cmc.learners.length }}</span>\n                    </uib-tab-heading>\n                    <br>\n                    <div class="table-responsive" ng-if="cmc.learners.length > 0">\n                        <table class="table cursus-table" ng-table="cmc.tableParams[\'learners\']" show-filter="false">\n                            <thead></thead>\n                            <tr ng-repeat="learner in $data">\n                                <td>\n                                    {{ learner[\'firstName\'] }}\n                                    {{ learner[\'lastName\'] }}\n                                    &nbsp;\n                                    <button class="btn btn-default btn-sm"\n                                            data-toggle="tooltip"\n                                            data-placement="top"\n                                            title="{{ \'send_confirmation_mail_to_user\'|trans:{}:\'cursus\' }}"\n                                            ng-click="cmc.sendConfirmationMail(learner[\'userId\'])"\n                                    >\n                                        <i class="fa fa-envelope-o"></i>\n                                    </button>\n                                    <button class="btn btn-danger btn-sm"\n                                            data-toggle="tooltip"\n                                            data-placement="top"\n                                            title="{{ \'unregister_learner_from_session\'|trans:{}:\'cursus\' }}"\n                                            ng-click="cmc.deleteLearner(learner[\'id\'])"\n                                    >\n                                        <i class="fa fa-trash"></i>\n                                    </button>\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                    <div class="alert alert-warning" ng-if="cmc.learners.length === 0">\n                        {{ \'no_registered_learner\'|trans:{}:\'cursus\' }}\n                    </div>\n                </uib-tab>\n                <uib-tab index="1">\n                    <uib-tab-heading>\n                        {{ \'groups\'|trans:{}:\'platform\' }}\n                        <span class="badge">{{ cmc.groups.length }}</span>\n                    </uib-tab-heading>\n                    <br>\n                    <div class="table-responsive" ng-if="cmc.groups.length > 0">\n                        <table class="table cursus-table" ng-table="cmc.tableParams[\'groups\']" show-filter="false">\n                            <thead></thead>\n                            <tr ng-repeat="group in $data">\n                                <td>\n                                    {{ group[\'groupName\'] }}\n                                    &nbsp;\n                                    <button class="btn btn-danger btn-sm"\n                                            data-toggle="tooltip"\n                                            data-placement="top"\n                                            title="{{ \'unregister_group_from_session\'|trans:{}:\'cursus\' }}"\n                                            ng-click="cmc.deleteGroup(group[\'id\'])"\n                                    >\n                                        <i class="fa fa-trash"></i>\n                                    </button>\n                                </td>\n                            </tr>\n                        </table>\n                    </div>\n                    <div class="alert alert-warning" ng-if="cmc.groups.length === 0">\n                        {{ \'no_registered_group\'|trans:{}:\'cursus\' }}\n                    </div>\n                </uib-tab>\n                <uib-tab index="2">\n                    <uib-tab-heading>\n                        {{ \'pending\'|trans:{}:\'platform\' }}\n                        <span class="badge">{{ cmc.pendingLearners.length }}</span>\n                    </uib-tab-heading>\n                    <br>\n                    <div class="table-responsive" ng-if="cmc.pendingLearners.length > 0">\n                        <table class="table cursus-table" ng-table="cmc.tableParams[\'pendingLearners\']" show-filter="false">\n                            <thead></thead>\n                            <tbody>\n                                <tr ng-repeat="pendingLearner in $data">\n                                    <td>\n                                        {{ pendingLearner[\'firstName\'] }}\n                                        {{ pendingLearner[\'lastName\'] }}\n                                        &nbsp;\n                                        <button class="btn btn-success btn-sm" ng-click="cmc.acceptQueue(pendingLearner[\'id\'])">\n                                            <i class="fa fa-check"></i>\n                                        </button>\n                                        <button class="btn btn-danger btn-sm" ng-click="cmc.declineQueue(pendingLearner[\'id\'])">\n                                            <i class="fa fa-times"></i>\n                                        </button>\n                                    </td>\n                                </tr>\n                            </tbody>\n                        </table>\n                    </div>\n                    <div class="alert alert-warning" ng-if="cmc.pendingLearners.length === 0">\n                        {{ \'no_pending_learner\'|trans:{}:\'cursus\' }}\n                    </div>\n                </uib-tab>\n            </uib-tabset>\n        </uib-accordion-group>\n\n        <uib-accordion-group is-open="cmc.isCollapsed[\'tutors\']">\n            <uib-accordion-heading>\n                <div class="text-center">\n                    {{ \'tutors\'|trans:{}:\'cursus\' }}\n                    &nbsp;\n                    <span class="badge">{{ cmc.tutors.length }}</span>\n                    &nbsp;\n                    <i class="fa fa-user"\n                       data-toggle="tooltip"\n                       data-placement="top"\n                       title="{{ \'register_tutors_to_session\'|trans:{}:\'cursus\' }}"\n                       ng-click="cmc.registerTutors($event)"\n                    >\n                    </i>\n                </div>\n            </uib-accordion-heading>\n            <div class="alert alert-warning" ng-if="cmc.tutors.length === 0">\n                {{ \'no_tutor\'|trans:{}:\'cursus\' }}\n            </div>\n            <div class="table-responsive" ng-if="cmc.tutors.length > 0">\n                <table class="table cursus-table" ng-table="cmc.tableParams[\'tutors\']" show-filter="false">\n                    <thead></thead>\n                    <tr ng-repeat="tutor in $data">\n                        <td>\n                            {{ tutor[\'firstName\'] }}\n                            {{ tutor[\'lastName\'] }}\n                            &nbsp;\n                            <button class="btn btn-danger btn-sm" ng-click="cmc.deleteTutor(tutor[\'id\'])">\n                                <i class="fa fa-trash"></i>\n                            </button>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </uib-accordion-group>\n\n        <uib-accordion-group is-open="cmc.isCollapsed[\'openEvents\']">\n            <uib-accordion-heading>\n                <div class="text-center">\n                    {{ \'open_session_events\'|trans:{}:\'cursus\' }}\n                    &nbsp;\n                    <span class="badge">{{ cmc.openEvents.length }}</span>\n                </div>\n            </uib-accordion-heading>\n            <div class="table-responsive" ng-if="cmc.openEvents.length > 0">\n                <table class="table cursus-table" ng-table="cmc.tableParams[\'openEvents\']" show-filter="false">\n                    <tr ng-repeat="event in $data">\n                        <td data-title="\'name\'|trans:{}:\'platform\'" filter="{name: \'text\'}" sortable="\'name\'">\n                            <a ui-sref="session_event({sessionId: cmc.session[\'id\'], sessionEventId: event[\'id\']})">\n                                {{ event[\'name\'] }}\n                            </a>\n                        </td>\n                        <td class="text-center" data-title="\'start_date\'|trans:{}:\'platform\'" sortable="\'startDate\'">\n                            {{ event[\'startDate\']|date:\'dd/MM/yyyy HH:mm\' }}\n                        </td>\n                        <td class="text-center" data-title="\'end_date\'|trans:{}:\'platform\'" sortable="\'endDate\'">\n                            {{ event[\'endDate\']|date:\'dd/MM/yyyy HH:mm\' }}\n                        </td>\n                        <td class="text-center" data-title="\'session_event_location\'|trans:{}:\'cursus\'" filter="{address: \'text\'}" sortable="\'address\'">\n                            <div ng-bind-html="event[\'address\']|trust_html"></div>\n                        </td>\n                        <td class="text-center" data-title="\'location_extra\'|trans:{}:\'cursus\'" filter="{locationExtra: \'text\'}" sortable="\'locationExtra\'">\n                            <div ng-bind-html="event[\'locationExtra\']|trust_html"></div>\n                        </td>\n                        <td class="text-center" data-title="\'actions\'|trans:{}:\'platform\'">\n                            <button class="btn btn-primary btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'edit_session_event\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.editEvent(event)"\n                            >\n                                <i class="fa fa-edit"></i>\n                            </button>\n                            <button class="btn btn-primary btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'invite_learners_to_session_event\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.inviteLearnersToEvent(event)"\n                            >\n                                <i class="fa fa-plus-square"></i>\n                            </button>\n                            <button class="btn btn-primary btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'generate_event_certificates\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.generateEventCertificates(event)"\n                                    ng-if="!cmc.isCertificatesDisabled"\n                            >\n                                <i class="fa fa-graduation-cap"></i>\n                            </button>\n                            <button class="btn btn-default btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'informations_management\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.manageEventComments(event)"\n                            >\n                                <i class="fa fa-info"></i>\n                            </button>\n                            <button class="btn btn-default btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'repeat_session_event\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.repeatEvent(event)"\n                            >\n                                <i class="fa fa-files-o"></i>\n                            </button>\n                            <button class="btn btn-danger btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'delete_session_event\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.deleteEvent(event[\'id\'])"\n                            >\n                                <i class="fa fa-trash"></i>\n                            </button>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <div class="alert alert-warning" ng-if="cmc.openEvents.length === 0">\n                {{ \'no_open_session_event\'|trans:{}:\'cursus\' }}\n            </div>\n        </uib-accordion-group>\n\n        <uib-accordion-group is-open="cmc.isCollapsed[\'closedEvents\']">\n            <uib-accordion-heading>\n                <div class="text-center">\n                    {{ \'closed_session_events\'|trans:{}:\'cursus\' }}\n                    &nbsp;\n                    <span class="badge">{{ cmc.closedEvents.length }}</span>\n                </div>\n            </uib-accordion-heading>\n            <div class="table-responsive" ng-if="cmc.closedEvents.length > 0">\n                <table class="table cursus-table" ng-table="cmc.tableParams[\'closedEvents\']" show-filter="false">\n                    <tr ng-repeat="event in $data">\n                        <td data-title="\'name\'|trans:{}:\'platform\'" filter="{name: \'text\'}" sortable="\'name\'">\n                            <a ui-sref="session_event({sessionId: cmc.session[\'id\'], sessionEventId: event[\'id\']})">\n                                {{ event[\'name\'] }}\n                            </a>\n                        </td>\n                        <td class="text-center" data-title="\'start_date\'|trans:{}:\'platform\'" sortable="\'startDate\'">\n                            {{ event[\'startDate\']|date:\'dd/MM/yyyy HH:mm\' }}\n                        </td>\n                        <td class="text-center" data-title="\'end_date\'|trans:{}:\'platform\'" sortable="\'endDate\'">\n                            {{ event[\'endDate\']|date:\'dd/MM/yyyy HH:mm\' }}\n                        </td>\n                        <td class="text-center" data-title="\'session_event_location\'|trans:{}:\'cursus\'" sortable="\'address\'">\n                            <div ng-bind-html="event[\'address\']|trust_html"></div>\n                        </td>\n                        <td class="text-center" data-title="\'location_extra\'|trans:{}:\'cursus\'" filter="{locationExtra: \'text\'}" sortable="\'locationExtra\'">\n                            <div ng-bind-html="event[\'locationExtra\']|trust_html"></div>\n                        </td>\n                        <td class="text-center" data-title="\'actions\'|trans:{}:\'platform\'">\n                            <button class="btn btn-primary btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'edit_session_event\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.editEvent(event)"\n                            >\n                                <i class="fa fa-edit"></i>\n                            </button>\n                            <button class="btn btn-default btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'informations_management\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.manageEventComments(event)"\n                            >\n                                <i class="fa fa-info"></i>\n                            </button>\n                            <button class="btn btn-danger btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'delete_session_event\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.deleteEvent(event[\'id\'])"\n                            >\n                                <i class="fa fa-trash"></i>\n                            </button>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <div class="alert alert-warning" ng-if="cmc.closedEvents.length === 0">\n                {{ \'no_closed_session_event\'|trans:{}:\'cursus\' }}\n            </div>\n        </uib-accordion-group>\n    </uib-accordion>\n</div>'},732:function(module,exports){module.exports='<div class="panel-heading clearfix">\n    <h3 class="panel-title">\n        [{{ \'session_event\'|trans:{}:\'cursus\' }}]\n        {{ cmc.sessionEvent[\'name\'] }}\n        <span class="pull-right">\n            <a class="btn btn-default btn-sm"\n               ui-sref="courses_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'courses_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-tasks"></i>\n            </a>\n            <a class="btn btn-success btn-sm"\n               ui-sref="sessions_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'sessions_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-cubes"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="root_cursus_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'cursus_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-database"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="configuration"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'configuration\'|trans:{}:\'platform\' }}"\n            >\n                <i class="fa fa-cogs"></i>\n            </a>\n        </span>\n    </h3>\n</div>\n<div class="panel-body cursus-management-panel">\n    <div class="pull-right">\n        <button class="btn btn-primary"\n                data-toggle="tooltip"\n                data-placement="top"\n                title="{{ \'edit_session_event\'|trans:{}:\'cursus\' }}"\n                ng-click="cmc.editSessionEvent()"\n        >\n            <i class="fa fa-edit"></i>\n        </button>\n        <button class="btn btn-primary"\n                data-toggle="tooltip"\n                data-placement="top"\n                title="{{ \'register_participants\'|trans:{}:\'cursus\' }}"\n                ng-click="cmc.registerParticipants()"\n                ng-if="!cmc.isSessionEventRegistrationDisabled"\n        >\n            <i class="fa fa-user-plus"></i>\n        </button>\n        <button class="btn btn-primary"\n                data-toggle="tooltip"\n                data-placement="top"\n                title="{{ \'invite_learners_to_session_event\'|trans:{}:\'cursus\' }}"\n                ng-click="cmc.inviteLearnersToEvent()"\n        >\n            <i class="fa fa-plus-square"></i>\n        </button>\n        <button class="btn btn-primary"\n                data-toggle="tooltip"\n                data-placement="top"\n                title="{{ \'generate_event_certificates\'|trans:{}:\'cursus\' }}"\n                ng-click="cmc.generateEventCertificates()"\n                ng-if="!cmc.isCertificatesDisabled"\n        >\n            <i class="fa fa-graduation-cap"></i>\n        </button>\n        <button class="btn btn-primary"\n                data-toggle="tooltip"\n                data-placement="top"\n                title="{{ \'informations_management\'|trans:{}:\'cursus\' }}"\n                ng-click="cmc.manageEventComments()"\n        >\n            <i class="fa fa-info"></i>\n        </button>\n        <button class="btn btn-primary"\n                data-toggle="tooltip"\n                data-placement="top"\n                title="{{ \'export_users\'|trans:{}:\'cursus\' }}"\n                ng-click="cmc.exportUsers()"\n        >\n            <i class="fa fa-users"></i>\n            <i class="fa fa-sign-out"></i>\n        </button>\n    </div>\n    <br>\n    <br>\n    <br>\n\n    <uib-accordion>\n        <uib-accordion-group is-open="cmc.isCollapsed[\'description\']">\n            <uib-accordion-heading>\n                <div class="text-center">\n                    {{ \'session_event_description\'|trans:{}:\'cursus\' }}\n                </div>\n            </uib-accordion-heading>\n            <b>{{ \'duration\'|trans:{}:\'platform\' }} :</b>\n            {{ cmc.sessionEvent[\'startDate\']|date:\'dd/MM/yyyy\' }}\n            <i class="fa fa-long-arrow-right"></i>\n            {{ cmc.sessionEvent[\'endDate\']|date:\'dd/MM/yyyy\' }}\n            <br>\n            <b>{{ \'max_users\'|trans:{}:\'cursus\' }} :</b>\n            <span ng-if="cmc.sessionEvent[\'maxUsers\']">\n                {{ cmc.sessionEvent[\'maxUsers\'] }}\n            </span>\n            <span ng-if="!cmc.sessionEvent[\'maxUsers\']">\n                -\n            </span>\n            <hr>\n            <div ng-bind-html="cmc.sessionEvent[\'description\']|trust_html">\n            </div>\n            <div class="alert alert-warning" ng-if="!cmc.sessionEvent[\'description\']">\n                {{ \'no_description\'|trans:{}:\'cursus\' }}\n            </div>\n            <hr>\n            <h4 ng-if="cmc.sessionEvent[\'location\'] || cmc.sessionEvent[\'locationExtra\']">\n                {{ \'location\'|trans:{}:\'platform\' }}\n            </h4>\n            <div ng-if="cmc.sessionEvent[\'location\']">\n                {{ cmc.sessionEvent[\'location\'][\'name\'] }}\n                <br>\n                {{ cmc.sessionEvent[\'location\'][\'street\'] }},\n                {{ cmc.sessionEvent[\'location\'][\'street_number\'] }}\n                <span ng-if="cmc.sessionEvent[\'location\'][\'box_number\']">/ {{ cmc.sessionEvent[\'location\'][\'box_number\'] }}</span>\n                <br>\n                {{ cmc.sessionEvent[\'location\'][\'pc\'] }}\n                {{ cmc.sessionEvent[\'location\'][\'town\'] }}\n                <br>\n                {{ cmc.sessionEvent[\'location\'][\'country\'] }}\n                <span ng-if="cmc.sessionEvent[\'location\'][\'phone\']">\n                    <br>\n                    {{ cmc.sessionEvent[\'location\'][\'phone\'] }}\n                </span>\n                <hr ng-if="cmc.sessionEvent[\'locationExtra\']">\n            </div>\n            <div ng-bind-html="cmc.sessionEvent[\'locationExtra\']|trust_html" ng-if="cmc.sessionEvent[\'locationExtra\']">\n            </div>\n            <div class="alert alert-warning" ng-if="!cmc.sessionEvent[\'location\'] && !cmc.sessionEvent[\'locationExtra\']">\n                {{ \'no_location\'|trans:{}:\'cursus\' }}\n            </div>\n            <hr>\n            <div ng-if="cmc.sessionEvent[\'tutors\'].length > 0">\n                <h4>{{ \'tutors\'|trans:{}:\'cursus\' }}</h4>\n                <ul>\n                    <li ng-repeat="tutor in cmc.sessionEvent[\'tutors\']">\n                        {{ tutor[\'firstName\'] }}\n                        {{ tutor[\'lastName\'] }}\n                    </li>\n                </ul>\n            </div>\n            <div class="alert alert-warning" ng-if="!cmc.sessionEvent[\'tutors\'] || cmc.sessionEvent[\'tutors\'].length === 0">\n                {{ \'no_tutor\'|trans:{}:\'cursus\' }}\n            </div>\n        </uib-accordion-group>\n\n        <uib-accordion-group is-open="cmc.isCollapsed[\'users\']" ng-if="!cmc.isSessionEventRegistrationDisabled">\n            <uib-accordion-heading>\n                <div class="text-center">\n                    {{ \'participants\'|trans:{}:\'cursus\' }}\n                </div>\n            </uib-accordion-heading>\n            <div class="alert alert-warning" ng-if="cmc.users.length === 0">\n                {{ \'no_participant\'|trans:{}:\'cursus\' }}\n            </div>\n            <div class="table-responsive" ng-if="cmc.users.length > 0">\n                <table class="table" ng-table="cmc.tableParams" show-filter="true">\n                    <tr ng-repeat="participant in $data">\n                        <td class="text-center" data-title="\'last_name\'|trans:{}:\'platform\'" filter="{lastName: \'text\'}" sortable="\'lastName\'">\n                            {{ participant[\'lastName\'] }}\n                        </td>\n                        <td class="text-center" data-title="\'first_name\'|trans:{}:\'platform\'" filter="{firstName: \'text\'}" sortable="\'firstName\'">\n                            {{ participant[\'firstName\'] }}\n                        </td>\n                        <td class="text-center" data-title="\'status\'|trans:{}:\'platform\'" filter="{status: \'text\'}" sortable="\'status\'">\n                            <span class="label label-success" ng-if="participant[\'registrationStatus\'] === 0">\n                                {{ participant[\'status\'] }}\n                            </span>\n                            <span class="label label-warning" ng-if="participant[\'registrationStatus\'] === 1">\n                                {{ participant[\'status\'] }}\n                            </span>\n                        </td>\n                        <td class="text-center" data-title="\'actions\'|trans:{}:\'platform\'">\n                            <button class="btn btn-danger btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'remove_participant\'|trans:{}:\'cursus\' }}"\n                                    data-ng-click="cmc.deleteParticipant(participant[\'id\'])"\n                            >\n                                <i class="fa fa-trash"></i>\n                            </button>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </uib-accordion-group>\n    </uib-accordion>\n</div>';
},733:function(module,exports){module.exports='<div class="panel-heading clearfix">\n    <h3 class="panel-title">\n        {{ \'configuration\'|trans:{}:\'platform\' }}\n        <span class="pull-right">\n            <a class="btn btn-default btn-sm"\n               ui-sref="courses_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'courses_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-tasks"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="sessions_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'sessions_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-cubes"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="root_cursus_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'cursus_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-database"></i>\n            </a>\n            <a class="btn btn-success btn-sm disabled"\n               ui-sref="configuration"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'configuration\'|trans:{}:\'platform\' }}"\n            >\n                <i class="fa fa-cogs"></i>\n            </a>\n        </span>\n    </h3>\n</div>\n<div class="list-group">\n    <a class="list-group-item pointer-hand" class="list-group-item" ui-sref="general_parameters">\n        <i class="fa fa-cogs"></i>\n        {{ \'general_parameters\'|trans:{}:\'cursus\' }}\n    </a>\n    <a class="list-group-item pointer-hand" class="list-group-item" ui-sref="document_models_management">\n        <i class="fa fa-envelope-o"></i>\n        {{ \'document_models_management\'|trans:{}:\'cursus\' }}\n    </a>\n    <a class="list-group-item pointer-hand" class="list-group-item" ui-sref="locations_management">\n        <i class="fa fa-map-marker"></i>\n        {{ \'locations_management\'|trans:{}:\'cursus\' }}\n    </a>\n</div>'},734:function(module,exports){module.exports='<div class="panel-heading clearfix">\n    <h3 class="panel-title">\n        {{ \'general_parameters\'|trans:{}:\'cursus\' }}\n        <span class="pull-right">\n            <a class="btn btn-default btn-sm"\n               ui-sref="courses_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'courses_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-tasks"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="sessions_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'sessions_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-cubes"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="root_cursus_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'cursus_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-database"></i>\n            </a>\n            <a class="btn btn-success btn-sm"\n               ui-sref="configuration"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'configuration\'|trans:{}:\'platform\' }}"\n            >\n                <i class="fa fa-cogs"></i>\n            </a>\n        </span>\n    </h3>\n</div>\n<div class="panel-body general-parameters-panel">\n    <div class="form-group row">\n        <label class="control-label col-md-3">\n            {{ \'disable_invitations\'|trans:{}:\'cursus\' }}\n        </label>\n        <div class="col-md-9">\n            <input type="checkbox" ng-model="cmc.configs[\'disableInvitations\']">\n        </div>\n    </div>\n    <div class="form-group row">\n        <label class="control-label col-md-3">\n            {{ \'disable_certificates\'|trans:{}:\'cursus\' }}\n        </label>\n        <div class="col-md-9">\n            <input type="checkbox" ng-model="cmc.configs[\'disableCertificates\']">\n        </div>\n    </div>\n    <div class="form-group row">\n        <label class="control-label col-md-3">\n            {{ \'disable_session_event_registration\'|trans:{}:\'cursus\' }}\n        </label>\n        <div class="col-md-9">\n            <input type="checkbox" ng-model="cmc.configs[\'disableSessionEventRegistration\']">\n        </div>\n    </div>\n    <div class="form-group row">\n        <label class="control-label col-md-3">\n            {{ \'enable_courses_tab_in_profile\'|trans:{}:\'cursus\' }}\n        </label>\n        <div class="col-md-9">\n            <input type="checkbox" ng-model="cmc.configs[\'enableCoursesProfileTab\']">\n        </div>\n    </div>\n    <div class="form-group row">\n        <label class="control-label col-md-3">\n            {{ \'enable_workspace_in_courses_tab_in_profile\'|trans:{}:\'cursus\' }}\n        </label>\n        <div class="col-md-9">\n            <input type="checkbox" ng-model="cmc.configs[\'enableWsInCoursesProfileTab\']">\n        </div>\n    </div>\n    <div class="form-group row">\n        <label class="control-label col-md-3">\n            {{ \'session_default_total\'|trans:{}:\'cursus\' }}\n        </label>\n        <div class="col-md-9">\n            <input type="number" class="form-control" ng-model="cmc.configs[\'sessionDefaultTotal\']">\n        </div>\n    </div>\n</div>\n<div class="panel-footer">\n    <button class="btn btn-primary" ng-click="cmc.validate()">\n        {{ \'ok\'|trans:{}:\'platform\' }}\n    </button>\n    <a class="btn btn-default" ui-sref="configuration">\n        {{ \'cancel\'|trans:{}:\'platform\' }}\n    </a>\n</div>'},735:function(module,exports){module.exports='<div class="panel-heading clearfix">\n    <h3 class="panel-title">\n        {{ \'locations_management\'|trans:{}:\'cursus\' }}\n        <span class="pull-right">\n            <a class="btn btn-default btn-sm"\n               ui-sref="courses_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'courses_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-tasks"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="sessions_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'sessions_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-cubes"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="root_cursus_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'cursus_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-database"></i>\n            </a>\n            <a class="btn btn-success btn-sm"\n               ui-sref="configuration"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'configuration\'|trans:{}:\'platform\' }}"\n            >\n                <i class="fa fa-cogs"></i>\n            </a>\n        </span>\n    </h3>\n</div>\n<div class="panel-body locations-management-panel">\n    <uib-tabset active="active">\n        <uib-tab index="0">\n            <uib-tab-heading>\n                {{ \'locations\'|trans:{}:\'cursus\' }}\n            </uib-tab-heading>\n            <br>\n            <button class="btn btn-primary" ng-click="cmc.createLocation()">\n                <i class="fa fa-plus-circle"></i>\n                {{ \'add_location\'|trans:{}:\'cursus\' }}\n            </button>\n            <br>\n            <br>\n            <div class="table-responsive" ng-if="cmc.locations.length > 0">\n                <table class="table" ng-table="cmc.tableParams[\'locations\']" show-filter="true">\n                    <tr ng-repeat="location in $data">\n                        <td data-title="\'name\'|trans:{}:\'platform\'" filter="{name: \'text\'}" sortable="\'name\'">\n                            {{ location[\'name\'] }}\n                        </td>\n                        <td class="text-center" data-title="\'address\'|trans:{}:\'platform\'" filter="{address: \'text\'}" sortable="\'address\'">\n                            <div ng-bind-html="location[\'address\']|trust_html"></div>\n                        </td>\n                        <td class="text-center" data-title="\'phone\'|trans:{}:\'platform\'" filter="{phone: \'text\'}" sortable="\'phone\'">\n                            {{ location[\'phone\'] }}\n                        </td>\n                        <td class="text-center">\n                            <button class="btn btn-primary btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'edit_location\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.editLocation(location)"\n                                    ng-if="location[\'type\'] === 3"\n                            >\n                                <i class="fa fa-edit"></i>\n                            </button>\n                            <button class="btn btn-danger btn-sm"\n                                    data-toggle="tooltip"\n                                    data-placement="top"\n                                    title="{{ \'delete_location\'|trans:{}:\'cursus\' }}"\n                                    ng-click="cmc.deleteLocation(location[\'id\'])"\n                                    ng-if="location[\'type\'] === 3"\n                            >\n                                <i class="fa fa-trash"></i>\n                            </button>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n            <div class="alert alert-warning" ng-if="cmc.locations.length === 0">\n                {{ \'no_location\'|trans:{}:\'cursus\' }}\n            </div>\n        </uib-tab>\n        <!--<uib-tab index="1">-->\n            <!--<uib-tab-heading>-->\n                <!--{{ \'internal_locations\'|trans:{}:\'cursus\' }}-->\n            <!--</uib-tab-heading>-->\n            <!--<br>-->\n            <!--<div class="table-responsive" ng-if="cmc.locationResources.length > 0">-->\n                <!--<table class="table" ng-table="cmc.tableParams[\'locationResources\']" show-filter="true">-->\n                    <!--<tr ng-repeat="resource in $data">-->\n                        <!--<td data-title="\'name\'|trans:{}:\'platform\'" filter="{name: \'text\'}" sortable="\'name\'">-->\n                            <!--{{ resource[\'name\'] }}-->\n                        <!--</td>-->\n                        <!--<td class="text-center" data-title="\'type\'|trans:{}:\'platform\'" filter="{type: \'text\'}" sortable="\'type\'">-->\n                            <!--{{ resource[\'type\'] }}-->\n                        <!--</td>-->\n                        <!--<td class="text-center" data-title="\'quantity\'|trans:{}:\'cursus\'" filter="{quantity: \'number\'}" sortable="\'quantity\'">-->\n                            <!--{{ resource[\'quantity\'] }}-->\n                        <!--</td>-->\n                        <!--<td class="text-center" data-title="\'max_time_reservation\'|trans:{}:\'cursus\'" filter="{maxTimeReservation: \'text\'}" sortable="\'maxTimeReservation\'">-->\n                            <!--{{ resource[\'maxTimeReservation\'] }}-->\n                        <!--</td>-->\n                        <!--<td class="text-center" data-title="\'location\'|trans:{}:\'platform\'" filter="{localisation: \'text\'}" sortable="\'localisation\'">-->\n                            <!--{{ resource[\'localisation\'] }}-->\n                        <!--</td>-->\n                        <!--<td class="text-center">-->\n                            <!--<button class="btn btn-danger btn-sm"-->\n                                    <!--data-toggle="tooltip"-->\n                                    <!--data-placement="top"-->\n                                    <!--title="{{ \'delete_location\'|trans:{}:\'cursus\' }}"-->\n                                    <!--ng-click="cmc.removeLocationResource(resource[\'id\'])"-->\n                            <!--&gt;-->\n                                <!--<i class="fa fa-trash"></i>-->\n                            <!--</button>-->\n                        <!--</td>-->\n                    <!--</tr>-->\n                <!--</table>-->\n            <!--</div>-->\n            <!--<div class="alert alert-warning" ng-if="cmc.locationResources.length === 0">-->\n                <!--{{ \'no_location\'|trans:{}:\'cursus\' }}-->\n            <!--</div>-->\n        <!--</uib-tab>-->\n        <!--<uib-tab index="2">-->\n            <!--<uib-tab-heading>-->\n                <!--{{ \'resources\'|trans:{}:\'platform\' }}-->\n            <!--</uib-tab-heading>-->\n            <!--<br>-->\n            <!--<div class="table-responsive" ng-if="cmc.reservationResources.length > 0">-->\n                <!--<table class="table" ng-table="cmc.tableParams[\'resources\']" show-filter="true">-->\n                    <!--<tr ng-repeat="resource in $data">-->\n                        <!--<td data-title="\'name\'|trans:{}:\'platform\'" filter="{name: \'text\'}" sortable="\'name\'">-->\n                            <!--{{ resource[\'name\'] }}-->\n                        <!--</td>-->\n                        <!--<td class="text-center" data-title="\'type\'|trans:{}:\'platform\'" filter="{type: \'text\'}" sortable="\'type\'">-->\n                            <!--{{ resource[\'type\'] }}-->\n                        <!--</td>-->\n                        <!--<td class="text-center" data-title="\'quantity\'|trans:{}:\'cursus\'" filter="{quantity: \'number\'}" sortable="\'quantity\'">-->\n                            <!--{{ resource[\'quantity\'] }}-->\n                        <!--</td>-->\n                        <!--<td class="text-center" data-title="\'max_time_reservation\'|trans:{}:\'cursus\'" filter="{maxTimeReservation: \'text\'}" sortable="\'maxTimeReservation\'">-->\n                            <!--{{ resource[\'maxTimeReservation\'] }}-->\n                        <!--</td>-->\n                        <!--<td class="text-center" data-title="\'location\'|trans:{}:\'platform\'" filter="{localisation: \'text\'}" sortable="\'localisation\'">-->\n                            <!--{{ resource[\'localisation\'] }}-->\n                        <!--</td>-->\n                        <!--<td class="text-center">-->\n                            <!--<button class="btn btn-primary btn-sm"-->\n                                    <!--ng-if="!cmc.isLocationResource(resource[\'id\'])"-->\n                                    <!--ng-click="cmc.addLocationResource(resource)"-->\n                            <!--&gt;-->\n                                <!--{{ \'add\'|trans:{}:\'platform\' }}-->\n                            <!--</button>-->\n                            <!--<button class="btn btn-danger btn-sm"-->\n                                    <!--ng-if="cmc.isLocationResource(resource[\'id\'])"-->\n                                    <!--ng-click="cmc.removeLocationResource(resource[\'id\'])"-->\n                            <!--&gt;-->\n                                <!--{{ \'remove\'|trans:{}:\'platform\' }}-->\n                            <!--</button>-->\n                        <!--</td>-->\n                    <!--</tr>-->\n                <!--</table>-->\n            <!--</div>-->\n            <!--<div class="alert alert-warning" ng-if="cmc.reservationResources.length === 0">-->\n                <!--{{ \'no_resource\'|trans:{}:\'cursus\' }}-->\n            <!--</div>-->\n        <!--</uib-tab>-->\n    </uib-tabset>\n</div>'},736:function(module,exports){module.exports='<div class="panel-heading clearfix">\n    <h3 class="panel-title">\n        {{ \'document_models_management\'|trans:{}:\'cursus\' }}\n        <span class="pull-right">\n            <a class="btn btn-default btn-sm"\n               ui-sref="courses_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'courses_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-tasks"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="sessions_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'sessions_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-cubes"></i>\n            </a>\n            <a class="btn btn-default btn-sm"\n               ui-sref="root_cursus_management"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'cursus_management\'|trans:{}:\'cursus\' }}"\n            >\n                <i class="fa fa-database"></i>\n            </a>\n            <a class="btn btn-success btn-sm"\n               ui-sref="configuration"\n               data-toggle="tooltip"\n               data-placement="top"\n               title="{{ \'configuration\'|trans:{}:\'platform\' }}"\n            >\n                <i class="fa fa-cogs"></i>\n            </a>\n        </span>\n    </h3>\n</div>\n<div class="panel-body documents-management-panel">\n    <a class="btn btn-primary"\n       data-toggle="tooltip"\n       data-placement="top"\n       title="{{ \'create_document_model\'|trans:{}:\'cursus\' }}"\n       ui-sref="document_model_creation"\n    >\n        <i class="fa fa-plus"></i>\n        {{ \'create_document_model\'|trans:{}:\'cursus\' }}\n    </a>\n    <br>\n    <br>\n    <div ng-if="cmc.models.length > 0">\n        <table class="table" ng-table="cmc.tableParams" show-filter="true">\n            <tr ng-repeat="model in $data">\n                <td data-title="\'name\'|trans:{}:\'platform\'" filter="{name: \'text\'}" sortable="\'name\'">\n                    {{ model[\'name\'] }}\n                </td>\n                <td class="text-center" data-title="\'type\'|trans:{}:\'platform\'" filter="{documentTypeName: \'text\'}" sortable="\'documentTypeName\'">\n                    {{ model[\'documentTypeName\'] }}\n                </td>\n                <td class="text-center" data-title="\'actions\'|trans:{}:\'platform\'">\n                    <a class="btn btn-primary btn-sm"\n                       data-toggle="tooltip"\n                       data-placement="top"\n                       title="{{ \'edit_document_model\'|trans:{}:\'cursus\' }}"\n                       ui-sref="document_model_edition({modelId: model[\'id\']})"\n                    >\n                        <i class="fa fa-edit"></i>\n                    </a>\n                    <button class="btn btn-danger btn-sm"\n                            data-toggle="tooltip"\n                            data-placement="top"\n                            title="{{ \'delete_document_model\'|trans:{}:\'cursus\' }}"\n                            ng-click="cmc.deleteDocumentModel(model[\'id\'])"\n                    >\n                        <i class="fa fa-trash"></i>\n                    </button>\n                </td>\n            </tr>\n        </table>\n    </div>\n    <div class="alert alert-warning" ng-if="cmc.models.length === 0">\n        {{ \'no_document_model\'|trans:{}:\'cursus\' }}\n    </div>\n</div>'},737:function(module,exports){module.exports="<div class=\"panel-heading clearfix\">\n    <h3 class=\"panel-title\">\n        {{ cmc.title }}\n        <span class=\"pull-right\">\n            <a class=\"btn btn-default btn-sm\"\n               ui-sref=\"courses_management\"\n               data-toggle=\"tooltip\"\n               data-placement=\"top\"\n               title=\"{{ 'courses_management'|trans:{}:'cursus' }}\"\n            >\n                <i class=\"fa fa-tasks\"></i>\n            </a>\n            <a class=\"btn btn-default btn-sm\"\n               ui-sref=\"sessions_management\"\n               data-toggle=\"tooltip\"\n               data-placement=\"top\"\n               title=\"{{ 'sessions_management'|trans:{}:'cursus' }}\"\n            >\n                <i class=\"fa fa-cubes\"></i>\n            </a>\n            <a class=\"btn btn-default btn-sm\"\n               ui-sref=\"root_cursus_management\"\n               data-toggle=\"tooltip\"\n               data-placement=\"top\"\n               title=\"{{ 'cursus_management'|trans:{}:'cursus' }}\"\n            >\n                <i class=\"fa fa-database\"></i>\n            </a>\n            <a class=\"btn btn-success btn-sm\"\n               ui-sref=\"configuration\"\n               data-toggle=\"tooltip\"\n               data-placement=\"top\"\n               title=\"{{ 'configuration'|trans:{}:'platform' }}\"\n            >\n                <i class=\"fa fa-cogs\"></i>\n            </a>\n        </span>\n    </h3>\n</div>\n<div class=\"panel-body document-form-panel\">\n    <div class=\"alert alert-warning\">\n        <button type=\"button\" class=\"close\" data-dismiss=\"alert\" aria-hidden=\"true\">\n            &times;\n        </button>\n        {{ 'variable_available_message'|trans:{}:'cursus' }}:\n        <br>\n        <br>\n        <ul>\n            <li>\n                <strong>%first_name%</strong> :\n                {{ 'placeholder_first_name_message'|trans:{}:'cursus' }}.\n            </li>\n            <li>\n                <strong>%last_name%</strong> :\n                {{ 'placeholder_last_name_message'|trans:{}:'cursus' }}.\n            </li>\n            <li>\n                <strong>%date%</strong> :\n                {{ 'placeholder_date_message'|trans:{}:'cursus' }}.\n            </li>\n        </ul>\n        <hr>\n        <!--<ul>-->\n            <!--<li>-->\n                <!--<strong>%organization_name%</strong> :-->\n                <!--{{ 'placeholder_organization_name_message'|trans:{}:'cursus' }}.-->\n            <!--</li>-->\n            <!--<li>-->\n                <!--<strong>%organization_mail%</strong> :-->\n                <!--{{ 'placeholder_organization_mail_message'|trans:{}:'cursus' }}.-->\n            <!--</li>-->\n            <!--<li>-->\n                <!--<strong>%organization_address%</strong> :-->\n                <!--{{ 'placeholder_organization_address_message'|trans:{}:'cursus' }}.-->\n            <!--</li>-->\n            <!--<li>-->\n                <!--<strong>%organization_phone%</strong> :-->\n                <!--{{ 'placeholder_organization_phone_message'|trans:{}:'cursus' }}.-->\n            <!--</li>-->\n        <!--</ul>-->\n        <!--<hr>-->\n        <ul>\n            <li>\n                <strong>%course_title%</strong> :\n                {{ 'placeholder_course_title_message'|trans:{}:'cursus' }}.\n            </li>\n            <li>\n                <strong>%course_code%</strong> :\n                {{ 'placeholder_course_code_message'|trans:{}:'cursus' }}.\n            </li>\n            <li>\n                <strong>%course_description%</strong> :\n                {{ 'placeholder_course_description_message'|trans:{}:'cursus' }}.\n            </li>\n        </ul>\n        <hr>\n        <ul>\n            <li>\n                <strong>%session_name%</strong> :\n                {{ 'placeholder_session_name_message'|trans:{}:'cursus' }}.\n            </li>\n            <li>\n                <strong>%session_description%</strong> :\n                {{ 'placeholder_session_description_message'|trans:{}:'cursus' }}.\n            </li>\n            <li>\n                <strong>%session_start%</strong> :\n                {{ 'placeholder_session_start_message'|trans:{}:'cursus' }}.\n            </li>\n            <li>\n                <strong>%session_end%</strong> :\n                {{ 'placeholder_session_end_message'|trans:{}:'cursus' }}.\n            </li>\n            <li>\n                <strong>%session_trainers%</strong> :\n                {{ 'placeholder_session_trainers_message'|trans:{}:'cursus' }}.\n            </li>\n        </ul>\n        <hr ng-if=\"cmc.isSession() || cmc.isSessionEvent()\">\n        <ul ng-if=\"cmc.isSession()\">\n            <li>\n                <strong>%events_list%</strong> :\n                {{ 'placeholder_session_events_list_message'|trans:{}:'cursus' }}.\n            </li>\n        </ul>\n        <ul ng-if=\"cmc.isSessionEvent()\">\n            <li>\n                <strong>%event_name%</strong> :\n                {{ 'placeholder_session_event_name_message'|trans:{}:'cursus' }}.\n            </li>\n            <li>\n                <strong>%event_description%</strong> :\n                {{ 'placeholder_session_event_description_message'|trans:{}:'cursus' }}.\n            </li>\n            <li>\n                <strong>%event_start%</strong> :\n                {{ 'placeholder_session_event_start_message'|trans:{}:'cursus' }}.\n            </li>\n            <li>\n                <strong>%event_end%</strong> :\n                {{ 'placeholder_session_event_end_message'|trans:{}:'cursus' }}.\n            </li>\n            <li>\n                <strong>%event_location%</strong> :\n                {{ 'placeholder_session_event_location_message'|trans:{}:'cursus' }}.\n            </li>\n            <li>\n                <strong>%event_location_extra%</strong> :\n                {{ 'placeholder_session_event_location_extra_message'|trans:{}:'cursus' }}.\n            </li>\n            <li>\n                <strong>%event_trainers%</strong> :\n                {{ 'placeholder_session_event_trainers_message'|trans:{}:'cursus' }}.\n            </li>\n        </ul>\n    </div>\n    <div class=\"form-group row\" ng-class=\"cmc.documentModelErrors['documentType'] ? 'has-error' : ''\">\n        <label class=\"control-label col-md-2\">\n            {{ 'type'|trans:{}:'platform' }}\n        </label>\n        <div class=\"col-md-10\">\n            <select class=\"form-control\" ng-model=\"cmc.documentType\" ng-options=\"t['name'] for t in cmc.documentTypes\">\n                <option></option>\n            </select>\n            <div class=\"help-block field-error\" ng-if=\"cmc.documentModelErrors['documentType']\">\n                {{ cmc.documentModelErrors['documentType'] }}\n            </div>\n        </div>\n    </div>\n    <div class=\"form-group row\" ng-class=\"cmc.documentModelErrors['name'] ? 'has-error' : ''\">\n        <label class=\"control-label col-md-2\">\n            {{ 'name'|trans:{}:'platform' }}\n        </label>\n        <div class=\"col-md-10\">\n            <input type=\"text\" class=\"form-control\" ng-model=\"cmc.documentModel['name']\">\n            <div class=\"help-block field-error\" ng-if=\"cmc.documentModelErrors['name']\">\n                {{ cmc.documentModelErrors['name'] }}\n            </div>\n        </div>\n    </div>\n    <div class=\"form-group row\" ng-class=\"cmc.documentModelErrors['content'] ? 'has-error' : ''\">\n        <label class=\"control-label col-md-2\">\n            {{ 'content'|trans:{}:'platform' }}\n        </label>\n        <div class=\"col-md-10\">\n            <textarea data-ui-tinymce=\"cmc.tinymceOptions\"\n                      data-before-unload=\"off\"\n                      id=\"document-model-content\"\n                      class=\"form-control\"\n                      ng-model=\"cmc.documentModel['content']\"\n            >\n            </textarea>\n            <div class=\"help-block field-error\" ng-if=\"cmc.documentModelErrors['content']\">\n                {{ cmc.documentModelErrors['content'] }}\n            </div>\n        </div>\n    </div>\n</div>\n<div class=\"panel-footer\">\n    <button type=\"submit\" class=\"btn btn-primary\" ng-click=\"cmc.submit()\">\n        {{ 'ok'|trans:{}:'platform' }}\n    </button>\n    <a class=\"btn btn-default\" ui-sref=\"document_models_management\">\n        {{ 'cancel'|trans:{}:'platform' }}\n    </a>\n</div>"},738:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var RootCursusManagementCtrl=function(){function RootCursusManagementCtrl(CursusService){(0,_classCallCheck3.default)(this,RootCursusManagementCtrl);this.CursusService=CursusService;this.cursus=CursusService.getCursus();this.initialize()}(0,_createClass3.default)(RootCursusManagementCtrl,[{key:"initialize",value:function initialize(){this.CursusService.initialize()}},{key:"createCursus",value:function createCursus(){this.CursusService.createCursus()}},{key:"editCursus",value:function editCursus(cursusId){this.CursusService.editCursus(cursusId)}},{key:"deleteCursus",value:function deleteCursus(cursusId){this.CursusService.deleteCursus(cursusId)}},{key:"viewCursus",value:function viewCursus(cursusId){this.CursusService.viewRootCursus(cursusId)}},{key:"importCursus",value:function importCursus(){this.CursusService.importCursus()}}]);return RootCursusManagementCtrl}();exports.default=RootCursusManagementCtrl},739:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CursusManagementCtrl=function(){function CursusManagementCtrl($stateParams,CursusService){(0,_classCallCheck3.default)(this,CursusManagementCtrl);this.CursusService=CursusService;this.cursus=CursusService.getCursus();this.hierarchy=CursusService.getHierarchy();this.cursusId=$stateParams.cursusId;this.breadCrumbLabel="";this.initialize()}(0,_createClass3.default)(CursusManagementCtrl,[{key:"initialize",value:function initialize(){var _this=this;var init=this.CursusService.initialize(this.cursusId);if(init!==null){init.then(function(d){if(d==="initialized"&&_this.cursus.length>0){_this.breadCrumbLabel=_this.cursus[0]["title"]}})}}},{key:"editCursus",value:function editCursus(cursus){this.CursusService.editCursus(cursus)}},{key:"createChildCursus",value:function createChildCursus(cursusId){this.CursusService.createCursus(cursusId)}},{key:"deleteCursus",value:function deleteCursus(cursusId){this.CursusService.deleteCursus(cursusId)}},{key:"createCourse",value:function createCourse(cursusId){this.CursusService.createCursusCourse(cursusId)}},{key:"addCourse",value:function addCourse(cursusId,title){this.CursusService.showCoursesListForCursus(cursusId,title)}},{key:"removeCourse",value:function removeCourse(cursusId){this.CursusService.removeCourseFromCursus(cursusId)}}]);return CursusManagementCtrl}();exports.default=CursusManagementCtrl},740:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CoursesManagementCtrl=function(){function CoursesManagementCtrl(NgTableParams,CourseService,SessionService){(0,_classCallCheck3.default)(this,CoursesManagementCtrl);
this.CourseService=CourseService;this.SessionService=SessionService;this.courses=CourseService.getCourses();this.sessions=SessionService.getOpenCourseSessions();this.tableParams=new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.courses});this.isCollapsed={};this._addCourseCallback=this._addCourseCallback.bind(this);this._updateCourseCallback=this._updateCourseCallback.bind(this);this._removeCourseCallback=this._removeCourseCallback.bind(this);this.initialize()}(0,_createClass3.default)(CoursesManagementCtrl,[{key:"_addCourseCallback",value:function _addCourseCallback(data){var _this=this;var coursesJson=JSON.parse(data);if(Array.isArray(coursesJson)){coursesJson.forEach(function(c){_this.courses.push(c)})}else{this.courses.push(coursesJson)}this.tableParams.reload()}},{key:"_updateCourseCallback",value:function _updateCourseCallback(data){var courseJson=JSON.parse(data);var index=this.courses.findIndex(function(c){return c["id"]===courseJson["id"]});if(index>-1){this.courses[index]=courseJson;this.tableParams.reload()}}},{key:"_removeCourseCallback",value:function _removeCourseCallback(data){var courseJson=JSON.parse(data);var index=this.courses.findIndex(function(c){return c["id"]===courseJson["id"]});if(index>-1){this.courses.splice(index,1);this.tableParams.reload()}}},{key:"initialize",value:function initialize(){this.CourseService.loadCourses()}},{key:"isInitialized",value:function isInitialized(){return this.CourseService.isInitialized()}},{key:"createCourse",value:function createCourse(){this.CourseService.createCourse(null,this._addCourseCallback)}},{key:"editCourse",value:function editCourse(courseId){this.CourseService.editCourse(courseId,this._updateCourseCallback)}},{key:"deleteCourse",value:function deleteCourse(courseId){this.CourseService.deleteCourse(courseId,this._removeCourseCallback)}},{key:"viewCourse",value:function viewCourse(courseId){this.CourseService.viewCourse(courseId)}},{key:"importCourses",value:function importCourses(){this.CourseService.importCourses(this._addCourseCallback)}},{key:"loadSessions",value:function loadSessions(courseId){this.SessionService.loadSessionsByCourse(courseId)}},{key:"createSession",value:function createSession(course){this.loadSessions(course["id"]);this.SessionService.createSession(course)}},{key:"editSession",value:function editSession(session){this.SessionService.editSession(session)}},{key:"deleteSession",value:function deleteSession(sessionId){this.SessionService.deleteSession(sessionId)}},{key:"sendMessageToSessionLearners",value:function sendMessageToSessionLearners(session){this.SessionService.sendMessageToSession(session)}}]);return CoursesManagementCtrl}();exports.default=CoursesManagementCtrl},741:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var CourseManagementCtrl=function(){function CourseManagementCtrl($stateParams,NgTableParams,CourseService,SessionService,DocumentModelService){(0,_classCallCheck3.default)(this,CourseManagementCtrl);this.CourseService=CourseService;this.SessionService=SessionService;this.DocumentModelService=DocumentModelService;this.courseId=$stateParams.courseId;this.course=CourseService.getCourse();this.openSessions=SessionService.getOpenCourseSessionsByCourse(this.courseId);this.closedSessions=SessionService.getClosedCourseSessionsByCourse(this.courseId);this.breadCrumbLabel="";this.isCollapsed={description:true,openSessions:false,closedSessions:false};this.tableParams={openSessions:new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.openSessions}),closedSessions:new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.closedSessions})};this.isCertificatesDisabled=true;this.isInvitationsDisabled=true;this.initialize();this._updateCourseCallback=this._updateCourseCallback.bind(this);this._addSessionCallback=this._addSessionCallback.bind(this);this._updateSessionCallback=this._updateSessionCallback.bind(this);this._removeSessionCallback=this._removeSessionCallback.bind(this)}(0,_createClass3.default)(CourseManagementCtrl,[{key:"_updateCourseCallback",value:function _updateCourseCallback(data){this.CourseService._updateCourseCallback(data);var courseJson=JSON.parse(data);this.course=courseJson;this.breadCrumbLabel=courseJson["title"]}},{key:"_addSessionCallback",value:function _addSessionCallback(data){this.SessionService._addSessionCallback(data);this.refreshSessionsTables()}},{key:"_updateSessionCallback",value:function _updateSessionCallback(data){this.SessionService._updateSessionCallback(data);this.refreshSessionsTables()}},{key:"_removeSessionCallback",value:function _removeSessionCallback(data){this.SessionService._removeSessionCallback(data);this.refreshSessionsTables()}},{key:"initialize",value:function initialize(){var _this=this;var result=this.CourseService.getCourseById(this.courseId);if(result==="initialized"){this.breadCrumbLabel=this.course["title"]}else{result.then(function(d){if(d==="initialized"&&_this.course){_this.breadCrumbLabel=_this.course["title"]}})}this.CourseService.getGeneralParameters().then(function(d){_this.isCertificatesDisabled=d["disableCertificates"];_this.isInvitationsDisabled=d["disableInvitations"]});this.SessionService.loadSessionsByCourse(this.courseId)}},{key:"editCourse",value:function editCourse(){this.CourseService.editCourse(this.course,this._updateCourseCallback)}},{key:"createSession",value:function createSession(){this.SessionService.createSession(this.course,this._addSessionCallback)}},{key:"editSession",value:function editSession(session){this.SessionService.editSession(session,this._updateSessionCallback)}},{key:"deleteSession",value:function deleteSession(sessionId){this.SessionService.deleteSession(sessionId,this._removeSessionCallback)}},{key:"openWorkspace",value:function openWorkspace(sessionId){this.SessionService.getWorkspaceFromSessionId(sessionId).then(function(d){if(d){window.location=Routing.generate("claro_workspace_open",{workspaceId:d})}})}},{key:"refreshSessionsTables",value:function refreshSessionsTables(){this.tableParams["openSessions"].reload();this.tableParams["closedSessions"].reload()}},{key:"sendMessageToSessionLearners",value:function sendMessageToSessionLearners(session){this.SessionService.sendMessageToSession(session)}},{key:"inviteLearners",value:function inviteLearners(session){this.DocumentModelService.displayDocumentSelection(session,0)}},{key:"generateCertificates",value:function generateCertificates(session){this.DocumentModelService.displayDocumentSelection(session,2)}}]);return CourseManagementCtrl}();exports.default=CourseManagementCtrl},742:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _session_creation_courses_list=__webpack_require__(743);var _session_creation_courses_list2=_interopRequireDefault(_session_creation_courses_list);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionsManagementCtrl=function(){function SessionsManagementCtrl($uibModal,NgTableParams,SessionService,SessionEventService){(0,_classCallCheck3.default)(this,SessionsManagementCtrl);this.$uibModal=$uibModal;this.SessionService=SessionService;this.SessionEventService=SessionEventService;this.sessions=SessionService.getSessions();this.events=SessionEventService.getOpenSessionEvents();this.tableParams=new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.sessions});this.filterStartDate={date:null,format:"dd/MM/yyyy",open:false};this.filterEndDate={date:null,format:"dd/MM/yyyy",open:false};this.dateOptions={formatYear:"yy",startingDay:1,placeHolder:"jj/mm/aaaa"};this.isCollapsed={};this._addSessionCallback=this._addSessionCallback.bind(this);this._updateSessionCallback=this._updateSessionCallback.bind(this);this._deleteSessionCallback=this._deleteSessionCallback.bind(this);this.initialize()}(0,_createClass3.default)(SessionsManagementCtrl,[{key:"_addSessionCallback",value:function _addSessionCallback(data){this.SessionService._addSessionCallback(data);this.tableParams.reload()}},{key:"_updateSessionCallback",value:function _updateSessionCallback(data){this.SessionService._updateSessionCallback(data);this.tableParams.reload()}},{key:"_deleteSessionCallback",value:function _deleteSessionCallback(data){this.SessionService._removeSessionCallback(data);this.tableParams.reload()}},{key:"initialize",value:function initialize(){this.SessionService.loadSessions()}},{key:"isInitialized",value:function isInitialized(){return this.SessionService.isInitialized()}},{key:"loadEvents",value:function loadEvents(sessionId){this.SessionEventService.loadEventsBySession(sessionId)}},{key:"editSession",value:function editSession(session){this.SessionService.editSession(session,this._updateSessionCallback)}},{key:"deleteSession",value:function deleteSession(sessionId){this.SessionService.deleteSession(sessionId,this._deleteSessionCallback)}},{key:"createEvent",value:function createEvent(session){this.SessionService.loadUsersBySession(session["id"]);this.loadEvents(session["id"]);this.SessionEventService.createSessionEvent(session)}},{key:"openStartDatePicker",value:function openStartDatePicker(){this.filterStartDate["open"]=true}},{key:"openEndDatePicker",value:function openEndDatePicker(){this.filterEndDate["open"]=true}},{key:"isValidStartDate",value:function isValidStartDate(startDate){var isValid=false;if(startDate){var startTime=new Date(startDate).getTime();var filterStartTime=this.filterStartDate["date"]===null||this.filterStartDate["date"]===undefined?null:this.filterStartDate["date"].getTime();var filterEndTime=this.filterEndDate["date"]===null||this.filterEndDate["date"]===undefined?null:this.filterEndDate["date"].getTime();isValid=(filterStartTime===null||startTime>=filterStartTime)&&(filterEndTime===null||startTime<=filterEndTime)}return isValid}},{key:"displayCoursesList",value:function displayCoursesList(){var _this=this;this.$uibModal.open({template:_session_creation_courses_list2.default,controller:"SessionCreationCoursesListModalCtrl",controllerAs:"cmc",resolve:{callback:function callback(){return _this._addSessionCallback}}})}},{key:"sendMessageToSessionLearners",value:function sendMessageToSessionLearners(session){this.SessionService.sendMessageToSession(session)}},{key:"manageEventComments",value:function manageEventComments(sessionEvent){this.SessionEventService.manageComments(sessionEvent)}}]);return SessionsManagementCtrl}();exports.default=SessionsManagementCtrl},743:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h4>{{ \'select_course_for_session_creation\'|trans:{}:\'cursus\' }}</h4>\n    </div>\n    <div class="modal-body">\n        <div class="table-responsive" ng-if="cmc.courses.length > 0">\n            <table class="table" ng-table="cmc.tableParams" show-filter="true">\n                <tr ng-repeat="course in $data">\n                    <td data-title="\'title\'|trans:{}:\'platform\'" filter="{title: \'text\'}" sortable="\'title\'">\n                        <a href="" ng-click="cmc.selectCourse(course[\'id\'])">\n                            {{ course[\'title\'] }}\n                        </a>\n                    </td>\n                    <td class="text-center" data-title="\'code\'|trans:{}:\'platform\'" filter="{code: \'text\'}" sortable="\'code\'">\n                        <a href="" ng-click="cmc.selectCourse(course[\'id\'])">\n                            {{ course[\'code\'] }}\n                        </a>\n                    </td>\n                </tr>\n            </table>\n        </div>\n        <div class="alert alert-warning" ng-if="cmc.courses.length === 0">\n            {{ \'no_course\'|trans:{}:\'cursus\' }}\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'close\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},744:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionManagementCtrl=function(){function SessionManagementCtrl($stateParams,NgTableParams,CourseService,SessionService,SessionEventService,DocumentModelService){(0,_classCallCheck3.default)(this,SessionManagementCtrl);this.NgTableParams=NgTableParams;this.CourseService=CourseService;this.SessionService=SessionService;this.SessionEventService=SessionEventService;this.DocumentModelService=DocumentModelService;this.sessionId=$stateParams.sessionId;this.session=SessionService.getSession();this.openEvents=SessionEventService.getOpenSessionEventsBySession(this.sessionId);this.closedEvents=SessionEventService.getClosedSessionEventsBySession(this.sessionId);this.groups=[];this.learners=SessionService.getLearnersBySession(this.sessionId);this.tutors=SessionService.getTutorsBySession(this.sessionId);this.pendingLearners=SessionService.getPendingLearnersBySession(this.sessionId);this.breadCrumbLabel="";this.isCollapsed={description:true,learners:false,tutors:false,openEvents:false,closedEvents:false};this.tableParams={groups:new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.groups}),learners:new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.learners}),tutors:new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.tutors}),pendingLearners:new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.pendingLearners}),openEvents:new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.openEvents}),closedEvents:new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.closedEvents})};this.isCertificatesDisabled=true;this.isInvitationsDisabled=true;this._updateSessionCallback=this._updateSessionCallback.bind(this);this._addSessionEventCallback=this._addSessionEventCallback.bind(this);this._addMultipleSessionEventsCallback=this._addMultipleSessionEventsCallback.bind(this);this._updateSessionEventCallback=this._updateSessionEventCallback.bind(this);this._removeSessionEventCallback=this._removeSessionEventCallback.bind(this);this._removeLearnerCallback=this._removeLearnerCallback.bind(this);this._removeTutorCallback=this._removeTutorCallback.bind(this);this._removeGroupCallback=this._removeGroupCallback.bind(this);this._removePendingLearnerCallback=this._removePendingLearnerCallback.bind(this);this._initializeGroupsCallback=this._initializeGroupsCallback.bind(this);this._acceptQueueCallback=this._acceptQueueCallback.bind(this);this._addLearnersCallback=this._addLearnersCallback.bind(this);this._addLearnersGroupsCallback=this._addLearnersGroupsCallback.bind(this);this._addTutorsCallback=this._addTutorsCallback.bind(this);this.initialize()}(0,_createClass3.default)(SessionManagementCtrl,[{key:"_updateSessionCallback",value:function _updateSessionCallback(data){this.SessionService._updateSessionCallback(data);var sessionJson=JSON.parse(data);this.session=sessionJson;this.breadCrumbLabel=sessionJson["name"]}},{key:"_addSessionEventCallback",value:function _addSessionEventCallback(data){this.SessionEventService._addSessionEventCallback(data);this.refreshEventsTables()}},{key:"_addMultipleSessionEventsCallback",value:function _addMultipleSessionEventsCallback(data){this.SessionEventService._addMultipleSessionEventsCallback(data);this.refreshEventsTables()}},{key:"_updateSessionEventCallback",value:function _updateSessionEventCallback(data){this.SessionEventService._updateSessionEventCallback(data);this.refreshEventsTables()}},{key:"_removeSessionEventCallback",value:function _removeSessionEventCallback(data){this.SessionEventService._removeSessionEventCallback(data);this.refreshEventsTables()}},{key:"_removeLearnerCallback",value:function _removeLearnerCallback(data){this.SessionService._removeLearnerCallback(data);this.tableParams["learners"].reload()}},{key:"_removeTutorCallback",value:function _removeTutorCallback(data){this.SessionService._removeTutorCallback(data);this.tableParams["tutors"].reload()}},{key:"_removeGroupCallback",value:function _removeGroupCallback(data){this.SessionService._removeGroupCallback(data);this.tableParams["groups"].reload();this.tableParams["learners"].reload()}},{key:"_removePendingLearnerCallback",value:function _removePendingLearnerCallback(data){this.SessionService._removePendingLearnerCallback(data);this.tableParams["pendingLearners"].reload()}},{key:"_initializeGroupsCallback",value:function _initializeGroupsCallback(){this.groups=this.SessionService.getGroupsBySession(this.sessionId);this.tableParams["groups"]=new this.NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.groups})}},{key:"_acceptQueueCallback",value:function _acceptQueueCallback(data){this.SessionService._acceptQueueCallback(data);this.tableParams["learners"].reload();this.tableParams["pendingLearners"].reload()}},{key:"_addLearnersCallback",value:function _addLearnersCallback(data){this.SessionService._addLearnersCallback(data);this.tableParams["learners"].reload()}},{key:"_addLearnersGroupsCallback",value:function _addLearnersGroupsCallback(groupData,usersData){this.SessionService._addLearnersGroupsCallback(groupData,usersData);this.tableParams["groups"].reload();this.tableParams["learners"].reload()}},{key:"_addTutorsCallback",value:function _addTutorsCallback(data){this.SessionService._addTutorsCallback(data);this.tableParams["tutors"].reload()}},{key:"initialize",value:function initialize(){var _this=this;var result=this.SessionService.getSessionById(this.sessionId);if(result==="initialized"){this.breadCrumbLabel=this.session["name"]}else{result.then(function(d){if(d==="initialized"&&_this.session){_this.breadCrumbLabel=_this.session["name"]}})}this.CourseService.getGeneralParameters().then(function(d){_this.isCertificatesDisabled=d["disableCertificates"];_this.isInvitationsDisabled=d["disableInvitations"]});this.SessionService.loadUsersBySession(this.sessionId);this.SessionService.loadGroupsBySession(this.sessionId,this._initializeGroupsCallback);this.SessionService.loadPendingUsersBySession(this.sessionId);this.SessionEventService.loadEventsBySession(this.sessionId)}},{key:"createSessionEvent",value:function createSessionEvent(){this.SessionEventService.createSessionEvent(this.session,this._addSessionEventCallback)}},{key:"editSession",value:function editSession(){this.SessionService.editSession(this.session,this._updateSessionCallback)}},{key:"editEvent",value:function editEvent(event){this.SessionEventService.editSessionEvent(event,this._updateSessionEventCallback)}},{key:"deleteEvent",value:function deleteEvent(eventId){this.SessionEventService.deleteSessionEvent(eventId,this._removeSessionEventCallback)}},{key:"repeatEvent",value:function repeatEvent(sessionEvent){this.SessionEventService.repeatEvent(sessionEvent,this._addMultipleSessionEventsCallback)}},{key:"refreshEventsTables",value:function refreshEventsTables(){this.tableParams["openEvents"].reload();this.tableParams["closedEvents"].reload()}},{key:"deleteTutor",value:function deleteTutor(sessionUserId){this.SessionService.deleteTutor(sessionUserId,this._removeTutorCallback)}},{key:"deleteLearner",value:function deleteLearner(sessionUserId){this.SessionService.deleteLearner(sessionUserId,this._removeLearnerCallback)}},{key:"deleteGroup",value:function deleteGroup(sessionGroupId){this.SessionService.deleteGroup(sessionGroupId,this._removeGroupCallback)}},{key:"sendConfirmationMail",value:function sendConfirmationMail(userId){this.SessionService.sendConfirmationMail(this.sessionId,userId)}},{key:"acceptQueue",value:function acceptQueue(queueId){this.SessionService.acceptQueue(queueId,this._acceptQueueCallback)}},{key:"declineQueue",value:function declineQueue(queueId){this.SessionService.declineQueue(queueId,this._removePendingLearnerCallback)}},{key:"registerLearners",value:function registerLearners($event){$event.preventDefault();$event.stopPropagation();this.SessionService.registerLearners(this.sessionId,this._addLearnersCallback)}},{key:"registerLearnersGroups",value:function registerLearnersGroups($event){$event.preventDefault();$event.stopPropagation();this.SessionService.registerLearnersGroups(this.sessionId,this._addLearnersGroupsCallback)}},{key:"registerTutors",value:function registerTutors($event){$event.preventDefault();$event.stopPropagation();this.SessionService.registerTutors(this.sessionId,this._addTutorsCallback)}},{key:"manageEventComments",value:function manageEventComments(sessionEvent){this.SessionEventService.manageComments(sessionEvent)}},{key:"inviteLearners",value:function inviteLearners(){this.DocumentModelService.displayDocumentSelection(this.session,0)}},{key:"generateCertificates",value:function generateCertificates(){this.DocumentModelService.displayDocumentSelection(this.session,2)}},{key:"generateEventCertificates",value:function generateEventCertificates(sessionEvent){this.DocumentModelService.displayDocumentSelection(sessionEvent,3)}},{key:"inviteLearnersToEvent",value:function inviteLearnersToEvent(sessionEvent){this.DocumentModelService.displayDocumentSelection(sessionEvent,1)}},{key:"sendMessageToSessionLearners",value:function sendMessageToSessionLearners(){this.SessionService.sendMessageToSession(this.session)}},{key:"exportUsers",value:function exportUsers(){this.SessionService.exportUsersForm(this.sessionId)}}]);return SessionManagementCtrl}();exports.default=SessionManagementCtrl},745:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionEventManagementCtrl=function(){function SessionEventManagementCtrl($stateParams,NgTableParams,CourseService,SessionService,SessionEventService,DocumentModelService){(0,_classCallCheck3.default)(this,SessionEventManagementCtrl);this.NgTableParams=NgTableParams;this.CourseService=CourseService;this.SessionService=SessionService;this.SessionEventService=SessionEventService;this.DocumentModelService=DocumentModelService;this.sessionId=$stateParams.sessionId;this.sessionEventId=$stateParams.sessionEventId;this.sessionEvent=SessionEventService.getSessionEvent();this.users=SessionEventService.getUsersBySessionEvent(this.sessionEventId);this.breadCrumbLabel="";this.breadCrumbLabelEvent="";this.isCollapsed={description:true,users:false};this.tableParams=new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.users});this.isSessionEventRegistrationDisabled=true;this.isCertificatesDisabled=true;this.isInvitationsDisabled=true;this._updateSessionEventCallback=this._updateSessionEventCallback.bind(this);this._addUsersCallback=this._addUsersCallback.bind(this);this._removeUserCallback=this._removeUserCallback.bind(this);this._updateTableParamsCallback=this._updateTableParamsCallback.bind(this);this.initialize()}(0,_createClass3.default)(SessionEventManagementCtrl,[{key:"_updateSessionEventCallback",value:function _updateSessionEventCallback(data){this.SessionEventService._updateSessionEventCallback(data);var sessionEventJson=JSON.parse(data);this.sessionEvent=sessionEventJson;this.breadCrumbLabelEvent=sessionEventJson["name"];this.SessionEventService.forceLoadUsersBySessionEvent(this.sessionEventId,this._updateTableParamsCallback)}},{key:"_addUsersCallback",value:function _addUsersCallback(data){this.SessionEventService._addUsersCallback(data);this.tableParams.reload()}},{key:"_removeUserCallback",value:function _removeUserCallback(data){this.SessionEventService._removeUserCallback(data);this.tableParams.reload()}},{key:"_updateTableParamsCallback",value:function _updateTableParamsCallback(){this.tableParams.reload()}},{key:"initialize",value:function initialize(){var _this=this;var result=this.SessionEventService.getSessionEventById(this.sessionId,this.sessionEventId);if(result==="initialized"){this.breadCrumbLabelEvent=this.sessionEvent["name"];this.breadCrumbLabel=this.sessionEvent["session"]["name"]}else{result.then(function(d){if(d==="initialized"&&_this.sessionEvent){_this.breadCrumbLabelEvent=_this.sessionEvent["name"];_this.breadCrumbLabel=_this.sessionEvent["session"]["name"]}})}this.CourseService.getGeneralParameters().then(function(d){_this.isSessionEventRegistrationDisabled=d["disableSessionEventRegistration"];_this.isCertificatesDisabled=d["disableCertificates"];_this.isInvitationsDisabled=d["disableInvitations"]});this.SessionEventService.loadEventsBySession(this.sessionId);this.SessionService.loadUsersBySession(this.sessionId);this.SessionEventService.loadUsersBySessionEvent(this.sessionEventId)}},{key:"editSessionEvent",value:function editSessionEvent(){this.SessionEventService.editSessionEvent(this.sessionEvent,this._updateSessionEventCallback)}},{key:"registerParticipants",value:function registerParticipants(){this.SessionEventService.registerParticipants(this.sessionId,this.sessionEventId,this._addUsersCallback)}},{key:"deleteParticipant",value:function deleteParticipant(sessionEventUserId){this.SessionEventService.deleteParticipant(sessionEventUserId,this._removeUserCallback)}},{key:"manageEventComments",value:function manageEventComments(){this.SessionEventService.manageComments(this.sessionEvent)}},{key:"inviteLearnersToEvent",value:function inviteLearnersToEvent(){this.DocumentModelService.displayDocumentSelection(this.sessionEvent,1)}},{key:"generateEventCertificates",value:function generateEventCertificates(){this.DocumentModelService.displayDocumentSelection(this.sessionEvent,3)}},{key:"exportUsers",value:function exportUsers(){this.SessionEventService.exportUsersForm(this.sessionEventId)}}]);return SessionEventManagementCtrl}();exports.default=SessionEventManagementCtrl},746:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var SessionCreationCoursesListModalCtrl=function(){function SessionCreationCoursesListModalCtrl($http,$uibModalInstance,NgTableParams,CourseService,SessionService,callback){(0,_classCallCheck3.default)(this,SessionCreationCoursesListModalCtrl);this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.CourseService=CourseService;this.SessionService=SessionService;this.callback=callback;this.courses=CourseService.getCourses();this.tableParams=new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.courses});this.CourseService.loadCourses()}(0,_createClass3.default)(SessionCreationCoursesListModalCtrl,[{key:"selectCourse",value:function selectCourse(courseId){var course=this.courses.find(function(c){return c["id"]===courseId});this.$uibModalInstance.close();this.SessionService.createSession(course,this.callback)}}]);return SessionCreationCoursesListModalCtrl}();exports.default=SessionCreationCoursesListModalCtrl},747:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var GeneralParametersCtrl=function(){function GeneralParametersCtrl($state,CourseService){(0,_classCallCheck3.default)(this,GeneralParametersCtrl);this.$state=$state;this.CourseService=CourseService;this.configs={disableInvitations:false,disableCertificates:false,disableSessionEventRegistration:false,enableCoursesProfileTab:false,enableWsInCoursesProfileTab:false,sessionDefaultTotal:null};this.initialize()}(0,_createClass3.default)(GeneralParametersCtrl,[{key:"initialize",value:function initialize(){var _this=this;this.CourseService.getGeneralParameters().then(function(d){_this.configs["disableInvitations"]=d["disableInvitations"];_this.configs["disableCertificates"]=d["disableCertificates"];_this.configs["disableSessionEventRegistration"]=d["disableSessionEventRegistration"];_this.configs["enableCoursesProfileTab"]=d["enableCoursesProfileTab"];_this.configs["enableWsInCoursesProfileTab"]=d["enableWsInCoursesProfileTab"];_this.configs["sessionDefaultTotal"]=parseInt(d["sessionDefaultTotal"])})}},{key:"validate",value:function validate(){var _this2=this;this.CourseService.setGeneralParameters(this.configs).then(function(d){if(d==="success"){_this2.$state.go("configuration")}})}}]);return GeneralParametersCtrl}();exports.default=GeneralParametersCtrl},748:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);var _location_form_modal=__webpack_require__(749);var _location_form_modal2=_interopRequireDefault(_location_form_modal);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LocationsManagementCtrl=function(){function LocationsManagementCtrl($http,$uibModal,NgTableParams,ClarolineAPIService){(0,_classCallCheck3.default)(this,LocationsManagementCtrl);this.$http=$http;this.$uibModal=$uibModal;this.ClarolineAPIService=ClarolineAPIService;this.locations=[];this.locationResources=[];this.reservationResources=[];this.tableParams={locations:new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.locations}),locationResources:new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.locationResources}),resources:new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.reservationResources})};this._addLocationCallback=this._addLocationCallback.bind(this);this._updateLocationCallback=this._updateLocationCallback.bind(this);this._removeLocationCallback=this._removeLocationCallback.bind(this);this.initialize()}(0,_createClass3.default)(LocationsManagementCtrl,[{key:"_addLocationCallback",value:function _addLocationCallback(datas){var locationJson=JSON.parse(datas);this.locations.push(this.generateLocationAddress(locationJson));this.tableParams["locations"].reload()}},{key:"_updateLocationCallback",value:function _updateLocationCallback(datas){var locationJson=JSON.parse(datas);var index=this.locations.findIndex(function(l){return l["id"]===locationJson["id"]});if(index>-1){this.locations[index]=this.generateLocationAddress(locationJson);this.tableParams["locations"].reload()}}},{key:"_removeLocationCallback",value:function _removeLocationCallback(datas){var locationJson=JSON.parse(datas);var index=this.locations.findIndex(function(l){
return l["id"]===locationJson["id"]});if(index>-1){this.locations.splice(index,1);this.tableParams["locations"].reload()}}},{key:"initialize",value:function initialize(){this.loadLocations()}},{key:"loadLocations",value:function loadLocations(){var _this=this;var url=Routing.generate("api_get_cursus_locations");this.$http.get(url).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);_this.locations.splice(0,_this.locations.length);datas.forEach(function(l){_this.locations.push(_this.generateLocationAddress(l))})}})}},{key:"loadLocationResources",value:function loadLocationResources(){var _this2=this;var url=Routing.generate("api_get_cursus_reservation_resources");this.$http.get(url).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);_this2.locationResources.splice(0,_this2.locationResources.length);datas.forEach(function(r){r["type"]=r["resourceType"]["name"];_this2.locationResources.push(r)})}})}},{key:"loadResources",value:function loadResources(){var _this3=this;var url=Routing.generate("api_get_reservation_resources");this.$http.get(url).then(function(d){if(d["status"]===200){var datas=JSON.parse(d["data"]);_this3.reservationResources.splice(0,_this3.reservationResources.length);datas.forEach(function(r){r["type"]=r["resourceType"]["name"];_this3.reservationResources.push(r)})}})}},{key:"addLocationResource",value:function addLocationResource(resource){var _this4=this;var url=Routing.generate("api_post_cursus_reservation_resources_tag",{resource:resource["id"]});this.$http.post(url).then(function(d){if(d["status"]===200&&d["data"]==="success"){_this4.locationResources.push(resource)}})}},{key:"removeLocationResource",value:function removeLocationResource(resourceId){var _this5=this;var url=Routing.generate("api_delete_cursus_reservation_resources_tag",{resource:resourceId});this.$http.delete(url).then(function(d){if(d["status"]===200&&d["data"]==="success"){var index=_this5.locationResources.findIndex(function(l){return l["id"]===resourceId});if(index>-1){_this5.locationResources.splice(index,1)}}})}},{key:"isLocationResource",value:function isLocationResource(resourceId){return this.locationResources.findIndex(function(l){return l["id"]===resourceId})>-1}},{key:"generateLocationAddress",value:function generateLocationAddress(location){location["address"]="\n      "+location["street"]+", "+location["street_number"]+" "+(location["box_number"]?"("+location["box_number"]+")":"")+"\n      <br>\n      "+location["pc"]+" "+location["town"]+"\n      <br>\n      "+location["country"]+"\n    ";return location}},{key:"createLocation",value:function createLocation(){var _this6=this;this.$uibModal.open({template:_location_form_modal2.default,controller:"LocationCreationModalCtrl",controllerAs:"cmc",resolve:{title:function title(){return Translator.trans("create_location",{},"cursus")},callback:function callback(){return _this6._addLocationCallback}}})}},{key:"editLocation",value:function editLocation(_location){var _this7=this;this.$uibModal.open({template:_location_form_modal2.default,controller:"LocationEditionModalCtrl",controllerAs:"cmc",resolve:{title:function title(){return Translator.trans("edit_location",{},"cursus")},location:function location(){return _location},callback:function callback(){return _this7._updateLocationCallback}}})}},{key:"deleteLocation",value:function deleteLocation(locationId){var url=Routing.generate("api_delete_cursus_location",{location:locationId});this.ClarolineAPIService.confirm({url:url,method:"DELETE"},this._removeLocationCallback,Translator.trans("delete_location",{},"cursus"),Translator.trans("delete_location_confirm_message",{},"cursus"))}}]);return LocationsManagementCtrl}();exports.default=LocationsManagementCtrl},749:function(module,exports){module.exports='<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true" ng-click="$close()">&times;</button>\n        <h3>{{ cmc.title }}</h3>\n    </div>\n    <div class="modal-body">\n        <div class="form-group row" ng-class="cmc.locationErrors[\'name\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'name\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.location[\'name\']">\n                <div class="help-block field-error" ng-if="cmc.locationErrors[\'name\']">\n                    {{ cmc.locationErrors[\'name\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.locationErrors[\'street\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'street\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.location[\'street\']">\n                <div class="help-block field-error" ng-if="cmc.locationErrors[\'street\']">\n                    {{ cmc.locationErrors[\'street\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.locationErrors[\'streetNumber\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'street_number\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.location[\'streetNumber\']">\n                <div class="help-block field-error" ng-if="cmc.locationErrors[\'streetNumber\']">\n                    {{ cmc.locationErrors[\'streetNumber\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'box_number\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.location[\'boxNumber\']">\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.locationErrors[\'pc\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'postal_code\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.location[\'pc\']">\n                <div class="help-block field-error" ng-if="cmc.locationErrors[\'pc\']">\n                    {{ cmc.locationErrors[\'pc\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.locationErrors[\'town\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'town\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.location[\'town\']">\n                <div class="help-block field-error" ng-if="cmc.locationErrors[\'town\']">\n                    {{ cmc.locationErrors[\'town\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row" ng-class="cmc.locationErrors[\'country\'] ? \'has-error\' : \'\'">\n            <label class="control-label col-md-3">\n                {{ \'country\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.location[\'country\']">\n                <div class="help-block field-error" ng-if="cmc.locationErrors[\'country\']">\n                    {{ cmc.locationErrors[\'country\'] }}\n                </div>\n            </div>\n        </div>\n        <div class="form-group row">\n            <label class="control-label col-md-3">\n                {{ \'phone\'|trans:{}:\'platform\' }}\n            </label>\n            <div class="col-md-9">\n                <input type="text" class="form-control" ng-model="cmc.location[\'phone\']">\n            </div>\n        </div>\n    </div>\n    <div class="modal-footer">\n        <button class="btn btn-default" data-dismiss="modal" ng-click="$close()">\n            {{ \'cancel\'|trans:{}:\'platform\' }}\n        </button>\n        <button type="submit" class="btn btn-primary" ng-click="cmc.submit()">\n            {{ \'ok\'|trans:{}:\'platform\' }}\n        </button>\n    </div>\n</div>\n'},750:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DocumentModelsManagementCtrl=function(){function DocumentModelsManagementCtrl(NgTableParams,CourseService,DocumentModelService){(0,_classCallCheck3.default)(this,DocumentModelsManagementCtrl);this.CourseService=CourseService;this.DocumentModelService=DocumentModelService;this.models=[];this.tableParams=new NgTableParams({count:20},{counts:[10,20,50,100],dataset:this.models});this.initialize();this._addDocumentModelCallback=this._addDocumentModelCallback.bind(this);this._updateDocumentModelCallback=this._updateDocumentModelCallback.bind(this);this._removeDocumentModelCallback=this._removeDocumentModelCallback.bind(this)}(0,_createClass3.default)(DocumentModelsManagementCtrl,[{key:"_addDocumentModelCallback",value:function _addDocumentModelCallback(data){var documentModel=JSON.parse(data);documentModel["documentTypeName"]=this.DocumentModelService.getDocumentTypeName(documentModel["documentType"]);this.models.push(documentModel);this.tableParams.reload()}},{key:"_updateDocumentModelCallback",value:function _updateDocumentModelCallback(data){var documentModel=JSON.parse(data);documentModel["documentTypeName"]=this.DocumentModelService.getDocumentTypeName(documentModel["documentType"]);var index=this.models.findIndex(function(m){return m["id"]===documentModel["id"]});if(index>-1){this.models[index]=documentModel;this.tableParams.reload()}}},{key:"_removeDocumentModelCallback",value:function _removeDocumentModelCallback(data){var documentModel=JSON.parse(data);var index=this.models.findIndex(function(m){return m["id"]===documentModel["id"]});if(index>-1){this.models.splice(index,1);this.tableParams.reload()}}},{key:"initialize",value:function initialize(){var _this=this;this.DocumentModelService.getAllDocumentModels().then(function(d){d.forEach(function(m){m["documentTypeName"]=_this.DocumentModelService.getDocumentTypeName(m["documentType"]);_this.models.push(m)})})}},{key:"deleteDocumentModel",value:function deleteDocumentModel(modelId){this.DocumentModelService.deleteDocumentModel(modelId,this._removeDocumentModelCallback)}}]);return DocumentModelsManagementCtrl}();exports.default=DocumentModelsManagementCtrl},751:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DocumentModelCreationCtrl=function(){function DocumentModelCreationCtrl($http,$state,CourseService){(0,_classCallCheck3.default)(this,DocumentModelCreationCtrl);this.$http=$http;this.$state=$state;this.title=Translator.trans("document_model_creation",{},"cursus");this.documentModel={name:null,content:null,documentType:null};this.documentModelErrors={name:null,content:null,documentType:null};this.documentTypes=[{name:Translator.trans("session_invitation",{},"cursus"),value:0},{name:Translator.trans("session_event_invitation",{},"cursus"),value:1},{name:Translator.trans("session_certificate",{},"cursus"),value:2},{name:Translator.trans("session_event_certificate",{},"cursus"),value:3}];this.documentType=null;this.tinymceOptions=CourseService.getTinymceConfiguration()}(0,_createClass3.default)(DocumentModelCreationCtrl,[{key:"submit",value:function submit(){var _this=this;this.resetErrors();if(!this.documentModel["name"]){this.documentModelErrors["name"]=Translator.trans("form_not_blank_error",{},"cursus")}if(!this.documentModel["content"]){this.documentModelErrors["content"]=Translator.trans("form_not_blank_error",{},"cursus")}if(!this.documentType){this.documentModelErrors["documentType"]=Translator.trans("form_not_blank_error",{},"cursus");this.documentModel["documentType"]=null}else{this.documentModel["documentType"]=this.documentType["value"]}if(this.isValid()){var url=Routing.generate("api_post_cursus_document_model_creation");this.$http.post(url,{documentModelDatas:this.documentModel}).then(function(){_this.$state.go("document_models_management")})}}},{key:"resetErrors",value:function resetErrors(){for(var key in this.documentModelErrors){this.documentModelErrors[key]=null}}},{key:"isValid",value:function isValid(){var valid=true;for(var key in this.documentModelErrors){if(this.documentModelErrors[key]){valid=false;break}}return valid}},{key:"isSessionEvent",value:function isSessionEvent(){return this.documentType&&(this.documentType["value"]===1||this.documentType["value"]===3)}},{key:"isSession",value:function isSession(){return this.documentType&&(this.documentType["value"]===0||this.documentType["value"]===2)}}]);return DocumentModelCreationCtrl}();exports.default=DocumentModelCreationCtrl},752:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var DocumentModelEditionCtrl=function(){function DocumentModelEditionCtrl($http,$stateParams,$state,CourseService,DocumentModelService){(0,_classCallCheck3.default)(this,DocumentModelEditionCtrl);this.$http=$http;this.$state=$state;this.DocumentModelService=DocumentModelService;this.title=Translator.trans("document_model_edition",{},"cursus");this.modelId=$stateParams.modelId;this.source={};this.documentModel={name:null,content:null,documentType:null};this.documentModelErrors={name:null,content:null,documentType:null};this.documentTypes=[{name:Translator.trans("session_invitation",{},"cursus"),value:0},{name:Translator.trans("session_event_invitation",{},"cursus"),value:1},{name:Translator.trans("session_certificate",{},"cursus"),value:2},{name:Translator.trans("session_event_certificate",{},"cursus"),value:3}];this.documentType=null;this.tinymceOptions=CourseService.getTinymceConfiguration();this.initializeDocumentModel()}(0,_createClass3.default)(DocumentModelEditionCtrl,[{key:"initializeDocumentModel",value:function initializeDocumentModel(){var _this=this;this.DocumentModelService.getDocumentModelById(this.modelId).then(function(d){_this.source["id"]=d["id"];_this.source["name"]=d["name"];_this.source["content"]=d["content"];_this.source["documentType"]=d["documentType"];_this.documentModel["name"]=_this.source["name"];_this.documentModel["content"]=_this.source["content"];_this.documentModel["documentType"]=_this.source["documentType"];var selectedType=_this.documentTypes.find(function(dt){return dt["value"]===_this.source["documentType"]});_this.documentType=selectedType})}},{key:"submit",value:function submit(){var _this2=this;this.resetErrors();if(!this.documentModel["name"]){this.documentModelErrors["name"]=Translator.trans("form_not_blank_error",{},"cursus")}if(!this.documentModel["content"]){this.documentModelErrors["content"]=Translator.trans("form_not_blank_error",{},"cursus")}if(!this.documentType){this.documentModelErrors["documentType"]=Translator.trans("form_not_blank_error",{},"cursus");this.documentModel["documentType"]=null}else{this.documentModel["documentType"]=this.documentType["value"]}if(this.isValid()){var url=Routing.generate("api_put_cursus_document_model_edition",{documentModel:this.source["id"]});this.$http.put(url,{documentModelDatas:this.documentModel}).then(function(){_this2.$state.go("document_models_management")})}}},{key:"resetErrors",value:function resetErrors(){for(var key in this.documentModelErrors){this.documentModelErrors[key]=null}}},{key:"isValid",value:function isValid(){var valid=true;for(var key in this.documentModelErrors){if(this.documentModelErrors[key]){valid=false;break}}return valid}},{key:"isSessionEvent",value:function isSessionEvent(){return this.documentType&&(this.documentType["value"]===1||this.documentType["value"]===3)}},{key:"isSession",value:function isSession(){return this.documentType&&(this.documentType["value"]===0||this.documentType["value"]===2)}}]);return DocumentModelEditionCtrl}();exports.default=DocumentModelEditionCtrl},753:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LocationCreationModalCtrl=function(){function LocationCreationModalCtrl($http,$uibModalInstance,title,callback){(0,_classCallCheck3.default)(this,LocationCreationModalCtrl);this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.title=title;this.callback=callback;this.location={name:null,street:null,streetNumber:null,boxNumber:null,pc:null,town:null,country:null,phone:null};this.locationErrors={name:null,street:null,streetNumber:null,pc:null,town:null,country:null}}(0,_createClass3.default)(LocationCreationModalCtrl,[{key:"submit",value:function submit(){var _this=this;this.resetErrors();if(!this.location["name"]){this.locationErrors["name"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.locationErrors["name"]=null}if(!this.location["street"]){this.locationErrors["street"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.locationErrors["street"]=null}if(!this.location["streetNumber"]){this.locationErrors["streetNumber"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.locationErrors["streetNumber"]=null}if(!this.location["pc"]){this.locationErrors["pc"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.locationErrors["pc"]=null}if(!this.location["town"]){this.locationErrors["town"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.locationErrors["town"]=null}if(!this.location["country"]){this.locationErrors["country"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.locationErrors["country"]=null}if(this.isValid()){var url=Routing.generate("api_post_cursus_location_creation");this.$http.post(url,{locationDatas:this.location}).then(function(d){if(d["status"]===200){_this.callback(d["data"]);_this.$uibModalInstance.close()}})}}},{key:"resetErrors",value:function resetErrors(){for(var key in this.locationErrors){this.locationErrors[key]=null}}},{key:"isValid",value:function isValid(){var valid=true;for(var key in this.locationErrors){if(this.locationErrors[key]){valid=false;break}}return valid}}]);return LocationCreationModalCtrl}();exports.default=LocationCreationModalCtrl},754:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:true});var _classCallCheck2=__webpack_require__(13);var _classCallCheck3=_interopRequireDefault(_classCallCheck2);var _createClass2=__webpack_require__(14);var _createClass3=_interopRequireDefault(_createClass2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var LocationEditionModalCtrl=function(){function LocationEditionModalCtrl($http,$uibModalInstance,title,location,callback){(0,_classCallCheck3.default)(this,LocationEditionModalCtrl);this.$http=$http;this.$uibModalInstance=$uibModalInstance;this.title=title;this.source=location;this.callback=callback;this.location={name:this.source["name"],street:this.source["street"],streetNumber:this.source["street_number"],boxNumber:this.source["box_number"],pc:this.source["pc"],town:this.source["town"],country:this.source["country"],phone:this.source["phone"]};this.locationErrors={name:null,street:null,streetNumber:null,pc:null,town:null,country:null}}(0,_createClass3.default)(LocationEditionModalCtrl,[{key:"submit",value:function submit(){var _this=this;this.resetErrors();if(!this.location["name"]){this.locationErrors["name"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.locationErrors["name"]=null}if(!this.location["street"]){this.locationErrors["street"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.locationErrors["street"]=null}if(!this.location["streetNumber"]){this.locationErrors["streetNumber"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.locationErrors["streetNumber"]=null}if(!this.location["pc"]){this.locationErrors["pc"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.locationErrors["pc"]=null}if(!this.location["town"]){this.locationErrors["town"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.locationErrors["town"]=null}if(!this.location["country"]){this.locationErrors["country"]=Translator.trans("form_not_blank_error",{},"cursus")}else{this.locationErrors["country"]=null}if(this.isValid()){var url=Routing.generate("api_put_cursus_location_edition",{location:this.source["id"]});this.$http.post(url,{locationDatas:this.location}).then(function(d){if(d["status"]===200){_this.callback(d["data"]);_this.$uibModalInstance.close()}})}}},{key:"resetErrors",value:function resetErrors(){for(var key in this.locationErrors){this.locationErrors[key]=null}}},{key:"isValid",value:function isValid(){var valid=true;for(var key in this.locationErrors){if(this.locationErrors[key]){valid=false;break}}return valid}}]);return LocationEditionModalCtrl}();exports.default=LocationEditionModalCtrl}});