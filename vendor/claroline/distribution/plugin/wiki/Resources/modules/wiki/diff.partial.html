<div class="wiki-header-buttons">
    <a data-ng-click="vm.displayHome()" class="btn btn-primary"> {{'back_to_wiki'|trans:{}:'icap_wiki'}}</a>
    <a data-ng-click="vm.displaySection(vm.wiki.displayedSection)" class="btn btn-default"> {{'back_to_history'|trans:{}:'icap_wiki'}}</a>
</div>

<div class="panel panel-wiki">
    <div class="panel-body">
        <div class="page-header">
            <h2 class="wiki-title-header">
                <span data-ng-if="vm.wiki.displayedSection === null || vm.wiki.displayedSection.level === 0">{{ vm.wiki.title }}</span>
                <span data-ng-if="vm.wiki.displayedSection.level !== 0">{{ vm.wiki.displayedSection.activeContribution.title }}</span>
                : {{'revision_comparison'|trans:{}:'icap_wiki'}}
            </h2>
        </div>

        <div class="row">
            <div
                class="col-md-6"
                data-ng-repeat="contribution in vm.wiki.diff">
                <h3
                    data-ng-if="vm.wiki.section.level !== 0"
                    class="wiki-revision-comparison-header"
                    data-ng-bind-html="contribution.title | trustedHtml"></h3>
                <div class="wiki-revision-comparison-info">
                    [
                    {{contribution.contributor.userName}} ({{ contribution.contributor.firstName }} {{contribution.contributor.lastName}}) -
                    {{contribution.creationDate.date | convertAPIDate | datetime}}
                    ]
                </div>
                <div data-ng-bind-html="contribution.text | trustedHtml"></div>
            </div>
        </div>
        <div class="well well-sm diff-html-legend">
            <div class="row">
                <div class="col-md-4"><span class="diff-html-added diff-html-simple">&nbsp;</span> {{'added'|trans:{}:'icap_wiki'}}</div>
                <div class="col-md-4"><span class="diff-html-removed diff-html-simple">&nbsp;</span> {{'deleted'|trans:{}:'icap_wiki'}}</div>
                <div class="col-md-4"><span class="diff-html-changed diff-html-simple">&nbsp;</span> {{'changed'|trans:{}:'icap_wiki'}}</div>
            </div>
        </div>
    </div>
</div>

