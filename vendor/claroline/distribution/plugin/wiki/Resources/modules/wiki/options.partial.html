<div class="panel panel-wiki">
    <div class="panel-body">

        <div class="wiki-page-header page-header">
            <h1 class="wiki-title-header">
                {{ vm.wiki.title }} : {{"options"|trans: {}:'icap_wiki'}}
            </h1>
        </div>

        <form
            name="icap_wiki_configure"
            class="form-vertical ng-pristine ng-valid">
            <div class="control-group">
                <div class="controls">
                    <div class="form-group row">
                        <label class="control-label col-md-3 required">
                            {{ 'icap_wiki_options_type_mode' | trans:{}:'icap_wiki' }}
                        </label>

                        <div class="col-md-9">
                            <div id="icap_wiki_options_type_mode">
                                <div>
                                    <div class="wiki-mode-option-label">
                                        <label
                                            class="radio required"
                                            for="icap_wiki_options_type_mode_0">
                                            <input
                                                type="radio"
                                                id="icap_wiki_options_type_mode_0"
                                                name="icap_wiki_options_type[mode]"
                                                required="required"
                                                data-ng-model="vm.wiki.mode"
                                                value="0">{{ 'normal' | trans:{}:'icap_wiki' }}
                                        </label>
                                    </div>
                                    <div class="wiki-mode-option-text">
                                        <small class="text-muted">
                                            {{ 'normal_message' | trans:{}:'icap_wiki' }}
                                        </small>
                                    </div>
                                </div>
                                <div>
                                    <div class="wiki-mode-option-label">
                                        <label
                                            class="radio required"
                                            for="icap_wiki_options_type_mode_1">
                                            <input
                                                type="radio"
                                                id="icap_wiki_options_type_mode_1"
                                                name="icap_wiki_options_type[mode]"
                                                required="required"
                                                data-ng-model="vm.wiki.mode"
                                                value="1">{{ 'moderate' | trans:{}:'icap_wiki' }}
                                        </label>
                                    </div>
                                    <div
                                        class="wiki-mode-option-text">
                                        <small class="text-muted">
                                            {{ 'moderate_message' | trans:{}:'icap_wiki' }}
                                        </small>
                                    </div>
                                </div>
                                <div>
                                    <div
                                        class="wiki-mode-option-label">
                                        <label
                                            class="radio required"
                                            for="icap_wiki_options_type_mode_2">
                                            <input
                                                type="radio"
                                                id="icap_wiki_options_type_mode_2"
                                                name="icap_wiki_options_type[mode]"
                                                required="required"
                                                data-ng-model="vm.wiki.mode"
                                                value="2">{{ 'read_only' | trans:{}:'icap_wiki' }}
                                        </label>
                                    </div>
                                    <div
                                        class="wiki-mode-option-text">
                                        <small class="text-muted">
                                            {{ 'read_only_message' | trans:{}:'icap_wiki' }}
                                        </small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="well well-sm col-md-9 col-md-offset-3">
                    <small data-ng-bind-html="'note_well' | trans: {}:'icap_wiki' | trustedHtml"></small>
                </div>

                <div class="form-group row">
                    <label class="control-label col-md-3">
                        {{ 'icap_wiki_options_type_display' | trans:{}:'icap_wiki' }}
                    </label>

                    <div class="col-md-9">
                        <div id="icap_wiki_options_type_display">
                            <div>
                                <div class="wiki-display-option-label">
                                    <label
                                            class="checkbox required"
                                            for="icap_wiki_options_display_chapter_numbers">
                                        <input
                                            type="checkbox"
                                            id="icap_wiki_options_display_chapter_numbers"
                                            name="icap_wiki_options_display_chapter_numbers"
                                            data-ng-model="vm.wiki.displaySectionNumbers"
                                            >{{ 'display_section_numbers' | trans:{}:'icap_wiki' }}
                                    </label>
                                </div>
                                <div class="wiki-mode-option-text">
                                    <small class="text-muted">
                                        {{ 'display_section_numbers_message' | trans:{}:'icap_wiki' }}
                                    </small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <button
                class="btn btn-default cancel-btn"
                data-ng-click="vm.cancelEditOptions()"
                data-ng-disabled="vm.disableFormButtons">
                {{ 'cancel' | trans:{}:'icap_wiki' }}
            </button>
            <button
                class="btn btn-primary"
                data-ng-click="vm.saveOptions(icap_wiki_configure)"
                data-ng-disabled="vm.disableFormButtons">
                {{ 'confirm' | trans:{}:'icap_wiki' }}
            </button>
        </form>

        <div class="wiki-deleted-sections-container">
            <div class="wiki-deleted-sections-header">
                <strong>{{"deleted_sections"|trans:{}:'icap_wiki'}}</strong>
            </div>

            <!-- Soft deleted section list -->
            <ul
                id="wiki-deleted-sections-list"
                class="list-unstyled"
                data-ng-if="vm.wiki.deletedSections.length > 0">

                <li
                    class="wiki-contribution-version row"
                    data-ng-repeat="section in vm.wiki.deletedSections">
                    <div class="wiki-deleted-section-title col-sm-5">
                        <a data-ng-click="vm.displayContribution(section, section.activeContribution)">{{section.activeContribution.title}}</a></div>
                    <div class="col-sm-3 wiki-deleted-section-date">
                        {{ vm.getDeletionDate(section.deletionDate) | convertAPIDate | datetime }}
                    </div>
                    <div class="col-sm-4">
                        <button
                            class="wiki-deleted-section-restore btn btn-default btn-xs"
                            data-ng-click="vm.restoreSection(section)"
                            data-ng-disabled="vm.disableFormButtons">
                        {{'restore_section'|trans:{}:'icap_wiki'}}
                        </button>
                        <button
                            class="delete-section btn btn-danger btn-xs"
                            data-ng-click="vm.confirmHardDeleteSection(section, $index)"
                            data-ng-disabled="vm.disableFormButtons">
                            {{ 'remove_section'|trans:{}:'icap_wiki' }}
                        </button>
                    </div>
                </li>

            </ul>

            <!-- There are no sections in a soft deleted state -->
            <div
                data-ng-if="vm.wiki.deletedSections.length == 0">
                {{'no_deleted_sections'|trans:{}:'icap_wiki'}}
            </div>

        </div>
    </div>
</div>
