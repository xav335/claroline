<div id="chat-messages-panel" class="well well-sm" scroll-bottom="{'always': true}">
    <div ng-if="crc.oldMessages.length > 0">
        <div>****************************************</div>
            <div ng-repeat="oldMessage in crc.oldMessages">
                <div ng-switch="oldMessage['type']">
                    <div ng-switch-when="message">
                        <b class="received-message" style="color: {{ oldMessage['color'] }}">
                            {{ oldMessage['name'] }}
                        </b> :
                        {{ oldMessage['content'] }}
                    </div>
                    <div ng-switch-when="presence">
                        <b ng-switch="oldMessage['content']">
                            <span ng-switch-when="kicked">
                                {{ oldMessage['name'] }}
                                {{ 'has_been_kicked_from_the_chat_room'|trans:{}:'chat' }}
                            </span>
                            <span ng-switch-when="banned">
                                {{ oldMessage['name'] }}
                                {{ 'has_been_banned_from_the_chat_room'|trans:{}:'chat' }}
                            </span>
                            <span ng-switch-when="unbanned">
                                {{ oldMessage['name'] }}
                                {{ 'has_been_unbanned_from_the_chat_room'|trans:{}:'chat' }}
                            </span>
                        </b>
                    </div>
                    <div ng-switch-when="raw">
                        <b>
                            {{ oldMessage['content'] }}
                        </b>
                    </div>
                </div>
            </div>
        <div>****************************************</div>
    </div>
    <div ng-repeat="message in crc.messages">
        <div ng-switch="message['type']">
            <div ng-switch-when="message">
                <b class="received-message" style="color: {{ message['color'] }}">
                    {{ message['sender'] }}
                </b> :
                {{ message['message'] }}
            </div>
            <div ng-switch-when="presence">
                <b ng-switch="message['status']">
                    <span ng-switch-when="connection">
                        {{ message['name'] }}
                        {{ 'has_joined_the_chat_room'|trans:{}:'chat' }}
                    </span>
                    <span ng-switch-when="disconnection">
                        {{ message['name'] }}
                        {{ 'has_left_the_chat_room'|trans:{}:'chat' }}
                    </span>
                    <span ng-switch-when="kicked">
                        {{ message['name'] }}
                        {{ 'has_been_kicked_from_the_chat_room'|trans:{}:'chat' }}
                    </span>
                    <span ng-switch-when="banned">
                        {{ message['name'] }}
                        {{ 'has_been_banned_from_the_chat_room'|trans:{}:'chat' }}
                    </span>
                    <span ng-switch-when="unbanned">
                        {{ message['name'] }}
                        {{ 'has_been_unbanned_from_the_chat_room'|trans:{}:'chat' }}
                    </span>
                </b>
            </div>
            <div ng-switch-when="raw">
                <b>
                    {{ message['message'] }}
                </b>
            </div>
        </div>
    </div>
</div>
