<form role="form"
      class="form-horizontal widget-content-config-form"
      action="{{ path('claro_resources_widget_configure', {'config': config.getId()}) }}"
      method="post"
      novalidate
>
    <div class="panel-body">
        {{ form_row(form.mode) }}
        <div id="resources-field">
            {{ form_row(form.resource) }}
        </div>
        <div id="tags-field">
            {{ form_row(form.tags) }}
        </div>
        {{ form_rest(form) }}
    </div>
</form>


{% block javascripts %}
    <script>
        function showField (mode)
        {
            switch (mode) {
                case 0 :
                    $('#tags-field').hide('slow');
                    $('#resources-field').show('slow');
                    break;
                case 1 :
                    $('#resources-field').hide('slow');
                    $('#tags-field').show('slow');
                    break;
            }
        }

        $('#resources_widget_configuration_form_mode').on('change', function () {
            var modeValue = parseInt($(this).val());
            showField(modeValue);
        });
        var value = parseInt($('#resources_widget_configuration_form_mode').val());
        showField(value);
    </script>
{% endblock %}